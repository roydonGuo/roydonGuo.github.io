<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç®€æ˜“çš„å®‰å“å¤©æ°”app(ä¸€)â€”â€”è§£æJsonæ•°æ®ã€æ•°æ®ç±»å°è£…</title>
      <link href="/posts/011.html"/>
      <url>/posts/011.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ“Œ<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5502">ç®€æ˜“çš„å®‰å“å¤©æ°”app(ä¸€)â€”â€”è§£æJsonæ•°æ®ã€æ•°æ®ç±»å°è£…</a><br>âœ…<a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">ç®€æ˜“çš„å®‰å“å¤©æ°”app(äºŒ)â€”â€”é€‚é…å™¨ã€æ¯å°æ—¶æ•°æ®å±•ç¤º</a><br>âœ…<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">ç®€æ˜“çš„å®‰å“å¤©æ°”app(ä¸‰)â€”â€”åŸå¸‚ç®¡ç†ã€æ•°æ®åº“æ“ä½œ</a><br>âœ…<a href="https://blog.csdn.net/m0_51390535/article/details/125397512?spm=1001.2014.3001.5502">ç®€æ˜“çš„å®‰å“å¤©æ°”app(å››)â€”â€”æœç´¢åŸå¸‚ã€å®Œå–„é¡µé¢</a></p></blockquote><h1 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h1><p>ä¸ç½—å—¦é‚£ä¹ˆå¤šæ²¡ç”¨çš„ï¼›ï¼›ï¼›<br>æ—¢ç„¶æ˜¯ç®€æ˜“çš„å¤©æ°”appï¼Œé‚£ä¹ˆæœ¬demoå°±æ²¡æœ‰é‚£éº½å¤šå¤æ‚çš„äº¤äº’ï¼Œé¡µé¢è·³è½¬ï¼ŒåªåŒ…æ‹¬äº†é’ˆå¯¹apiè·å–å’Œè§£ææ•°æ®æ”¾åˆ°appä¸»é¡µé¢ï¼Œç”±äºé…ç½®å®šä½æœåŠ¡å¤ªç¹çï¼Œæœ¬æ¬¡æµ‹è¯•æ²¡æœ‰ä½¿ç”¨å®šä½åŠŸèƒ½ã€‚<br>é¡¹ç›®åªåŒ…å«ä¸€ä¸ªä¸»è¦activity_main.xmlï¼Œä¸¤ä¸ªå°è£…çš„å®ä½“ç”¨æ¥å­˜æ•°æ®<br>ç”¨åˆ°çš„å¤©æ°”apiå¯å‰å¾€å®˜ç½‘æ³¨å†Œè´¦å·è·å–ï¼š<a href="https://tianqiapi.com/">å¤©æ°”api</a></p><p>ä¾‹å¦‚æˆ‘è¿™é‡Œæ³¨å†Œå¥½äº†æˆ‘çš„è´¦å·ï¼Œè¿›å…¥ä¸»é¡µé¢å¾—åˆ°ä¸‹å›¾çš„appidå’Œappsecret<br><img src="https://img-blog.csdnimg.cn/deb89dde23494444bf43c31a4f82866b.png#pic_center" alt="appid">ç„¶åæŠŠè¿™ä¸¤ä¸ªä¸œè¥¿å¤åˆ¶ç²˜è´´åˆ°ä¸‹é¢çš„apiä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é‡Œé¢çš„æ‹¬å·ä¸­çš„ä¸¤ä¸ªå‚æ•°å€¼æ¢æˆä½ çš„ï¼ŒåŒ…æ‹¬æ‹¬å·</span></span><br><span class="line">https:<span class="comment">//tianqiapi.com/api?version=v1&amp;appid=ï¼ˆä½ çš„appidï¼‰&amp;appsecret=ï¼ˆä½ çš„appsecretï¼‰</span></span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;æ³¨æ„&#x3D;&#x3D;ï¼š</p><blockquote><p>æ…ç”¨æ­¤æ¥å£ï¼Œæ¯å¤©æœ‰å…è´¹ä½¿ç”¨&#x3D;&#x3D;ä¸Šé™&#x3D;&#x3D;ï¼ˆå¦‚æœä½ ä¸æƒ³å……é’±ï¼‰<br>åœ°å€æ æœç´¢é»˜è®¤æ˜¯å½“å‰æ‰€åœ¨åŸå¸‚ï¼Œè‹¥æ˜¯æŒ‡å®šåŸå¸‚urlåé¢åŠ ä¸Š&amp;city&#x3D;åŸå¸‚åï¼Œå°±è¡Œ</p></blockquote><p>æ¥ç€ï¼Œè®¿é—®æ­¤urlç»“æœå¦‚å›¾ï¼Œä¸€é•¿ä¸²çš„jsonæ•°æ®<br><img src="https://img-blog.csdnimg.cn/4206ae96e1ae433ba6f966d5bac22d5a.png" alt="jsonæ•°æ®">å¦‚æœä½ çš„æµè§ˆå™¨æ”¯æŒè½¬ä¸ºjsonæ ¼å¼ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°æ›´æ¸…æ™°çš„æ•°æ®æ ¼å¼ï¼Œæ–¹ä¾¿åç»­å¯¹å…¶è¿›è¡Œå°è£…ï¼Œä¹Ÿå¯ç™¾åº¦åœ¨çº¿jsonæ ¼å¼åŒ–å·¥å…·ï¼Œå¤åˆ¶åŸå§‹æ•°æ®è¿›å»ï¼Œå¾—åˆ°æ ¼å¼åŒ–jsnæ•°æ®<br><img src="https://img-blog.csdnimg.cn/5118219aef8742d2a0c06e77833695f0.png" alt="jsonæ ¼å¼1">è§‚å¯Ÿä¸Šå›¾jsonæ•°æ®ï¼Œé‡Œé¢çš„åµŒå¥—å…³ç³»å†³å®šäº†æˆ‘ä»¬å°è£…ä¸€ä¸ªå®ä½“ç±»è‚¯å®šä¸èƒ½æ‹¿åˆ°å…¨éƒ¨ä¿¡æ¯ï¼Œå› ä¸ºä¸Šå›¾dataï¼Œæ˜¯ä¸€ä¸ªjsonæ•°ç»„ï¼ˆJsonArrayï¼‰ï¼Œé‡Œé¢åŒ…å«äº†ä»Šå¤©åŠ ä¸Šæœªæ¥å…­å¤©å…±ä¸ƒå¤©çš„å¤©æ°”æ•°æ®ï¼ˆJsonObjectï¼‰ï¼Œæ‰€ä»¥dataè¦å•ç‹¬å°è£…æˆä¸€ä¸ªå®ä½“å«åšDayWeatherBeanï¼Œç”¨æ¥æ¥å—æ¯å¤©çš„æ•°æ®ã€‚</p><h1 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h1><p><img src="https://img-blog.csdnimg.cn/7ca26d0558a14b31afd0bd0f3c3ed1f7.png#pic_center" alt="é¡¹ç›®ç»“æ„"></p><h1 id="apiè¯·æ±‚å·¥å…·åŒ…"><a href="#apiè¯·æ±‚å·¥å…·åŒ…" class="headerlink" title="apiè¯·æ±‚å·¥å…·åŒ…"></a>apiè¯·æ±‚å·¥å…·åŒ…</h1><p>é‚£ä¹ˆæ—¢ç„¶æ˜¯è¯·æ±‚apiè§£ææ•°æ®ï¼Œè‡ªç„¶ç¦»ä¸å¼€HttpUrlConnectionï¼Œå¦‚æœå­¦çš„ä¸æ˜¯HttpUrlConnectionè¯·è‡ªè¡Œæ ¹æ®æ›´æ”¹ã€‚<br>é¦–å…ˆå°è£…ä¸€ä¸ªå·¥å…·åŒ…ï¼Œè¡¨ç¤ºæ ¹æ®æŒ‡å®šåœ°å€ç½‘ç»œè¯·æ±‚å¾—åˆ°æ•°æ®ï¼Œå¾—åˆ°çš„æ˜¯stringå­—ç¬¦ä¸²ï¼Œå®æ˜¯jsonæ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.HttpURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NetworkUtil</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸€å¤©æµ‹è¯•æ¬¡æ•°æœ‰é™ï¼Œæ…ç”¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">URL_WEATHER</span> <span class="operator">=</span> <span class="string">&quot;https://tianqiapi.com/api?version=v1&amp;appid=ï¼ˆä½ çš„appidï¼‰&amp;appsecret=ï¼ˆä½ çš„appsecretï¼‰&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">HttpURLConnection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">inputStreamReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// è¿æ¥ç½‘ç»œ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">URL</span> <span class="variable">urL</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(URL_WEATHER);</span><br><span class="line">            connection = (HttpURLConnection) urL.openConnection();</span><br><span class="line">            connection.setRequestMethod(<span class="string">&quot;GET&quot;</span>);</span><br><span class="line">            connection.setConnectTimeout(<span class="number">5000</span>);</span><br><span class="line">            connection.setReadTimeout(<span class="number">5000</span>);</span><br><span class="line">            <span class="comment">// ä»è¿æ¥ä¸­è¯»å–æ•°æ®(äºŒè¿›åˆ¶)</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> connection.getInputStream();</span><br><span class="line">            inputStreamReader = <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream);</span><br><span class="line">            <span class="comment">// äºŒè¿›åˆ¶æµé€å…¥ç¼“å†²åŒº</span></span><br><span class="line">            bufferedReader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(inputStreamReader);</span><br><span class="line">            <span class="comment">// å®¹å™¨</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = bufferedReader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                stringBuilder.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">            result = stringBuilder.toString();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (connection != <span class="literal">null</span>) &#123;</span><br><span class="line">                connection.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (inputStreamReader != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    inputStreamReader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (bufferedReader != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bufferedReader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œ&#x3D;&#x3D;æ³¨æ„&#x3D;&#x3D;</p><blockquote><p>AndroidManifestä¸­åˆ«å¿˜äº†åŠ <br><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p></blockquote><p><img src="https://img-blog.csdnimg.cn/7b0089edd3554de2a6e80bd649413596.png#pic_center" alt="andxml"></p><h1 id="å¸ƒå±€æ–‡ä»¶"><a href="#å¸ƒå±€æ–‡ä»¶" class="headerlink" title="å¸ƒå±€æ–‡ä»¶"></a>å¸ƒå±€æ–‡ä»¶</h1><p>æ¥ç€å°±æ˜¯å¸ƒå±€ï¼Œéšæ„ï¼Œæ€ä¹ˆå¥½çœ‹æ€ä¹ˆæ¥ï¼Œæ— éå°±æ˜¯æ¥å—å‡ ä¸ªæ•°æ®ä¼ ç»™TextView</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:alpha</span>=<span class="string">&quot;0.8&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@mipmap/bg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center_horizontal&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;éƒ‘å·&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;25sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_city&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_weather&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;125dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;95dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">&quot;@drawable/weather_yin&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_weather&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;é˜´è½¬å¤šäº‘&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_week&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;æ˜ŸæœŸäºŒ&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;16sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_tem&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;31Â°C&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;100sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_tem_low_high&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;25Â°C/33Â°C&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_time&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;æ›´æ–°æ—¶é—´:2022-06-15 08:22:23&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;17sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:alpha</span>=<span class="string">&quot;0.7&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/blackground&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;120dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;105dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;65dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:src</span>=<span class="string">&quot;@drawable/fengli&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_win&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">&quot;å—é£3~4çº§&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textSize</span>=<span class="string">&quot;16sp&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_air&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">&quot;ç©ºæ°”:43 | ä¼˜\nç©ºæ°”å¥½ï¼Œé€‚å®œå¤–å‡º&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textSize</span>=<span class="string">&quot;18sp&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼ˆä¸Šå›¾æœ‰ä¸ªé˜´è½¬å¤šäº‘å›¾ï¼Œä¸‹æ–¹æœ‰æºç ï¼Œå¯è‡ªè¡Œäº†è§£ï¼Œæ­¤æ¬¡åªæ‹¿æ•°æ®ä¼ æ•°æ®ï¼Œä¸åŒ…æ‹¬å›¾ç‰‡ï¼‰<br><img src="https://img-blog.csdnimg.cn/85a041d1a2ec420b820c8312065f7ee3.png" alt="æ•ˆæœå›¾"></p><h1 id="å®ä½“ç±»"><a href="#å®ä½“ç±»" class="headerlink" title="å®ä½“ç±»"></a>å®ä½“ç±»</h1><p>ä¸¤ä¸ªå®ä½“ç±»<br><img src="https://img-blog.csdnimg.cn/301636c3f29848c2832ed7b602a3d1a7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸€ä¸ªWeatherBeanæ˜¯æœ€ä¸Šå±‚jsonå°è£…ï¼Œä¸€ä¸ªæ˜¯DayWeatherBeanå°è£…çš„dataï¼ˆå‰é¢å·²ç»è§£ç­”è¿‡ï¼‰</p><h3 id="WeatherBean"><a href="#WeatherBean" class="headerlink" title="WeatherBean"></a>WeatherBean</h3><p>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±ä¸‹é¢å‡ ä¸ªå±æ€§ï¼Œå­¦çˆ¬è™«çš„åº”è¯¥æ›´äº†è§£<br><img src="https://img-blog.csdnimg.cn/df333535c12445beb4161f79b22f6b0d.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å…¶ä»–çš„å±æ€§Stringå°±è¡Œï¼ŒæŒ‘é‡è¦ä¿¡æ¯æ‹¿ï¼Œdataå°±æ˜¯Â·Â·<code>List&lt;DayWeatherBean&gt;</code></p><p>æ­¤å¤„å‘½åä¸è§„èŒƒé—®é¢˜ï¼Œç”±äºä½¿ç”¨çš„æ˜¯GsonåŒ…å°è£…ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªå®ç°ç±»å¯ç”¨<br><code>public class WeatherBean implements Serializable</code><br>æ¯ä¸ªå±æ€§å†åŠ ä¸Šåºåˆ—åŒ–æ³¨è§£æŒ‡å®šåŸå§‹æ•°æ®ï¼Œå°±å¯è§£å†³ï¼Œè‡ªè¡Œè¡¥å……<br><img src="https://img-blog.csdnimg.cn/faf54d35eb6d4eb6baf93ed8d3838eb1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TextView tv_city,tv_time,tv_weather,tv_week,tv_tem,tv_tem_low_high,tv_win,tv_air;7ä¸ª</span></span><br><span class="line"><span class="comment"> * ImageView iv_weather;//å¤©æ°”å›¾æ ‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeatherBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cityid;</span><br><span class="line">    <span class="keyword">private</span> String city;<span class="comment">//åŸå¸‚åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String update_time;<span class="comment">//æ›´æ–°æ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;DayWeatherBean&gt; data;<span class="comment">//è·å–ä»Šæ—¥å¤©æ°”ï¼Œget[0]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//toString()ï¼Œgetï¼Œsetè‡ªè¡Œè®¾ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="DayWeatherBean"><a href="#DayWeatherBean" class="headerlink" title="DayWeatherBean"></a>DayWeatherBean</h3><p>æ¥ç€æ ¹æ®apiä¸­dataä¸­çš„å±æ€§åé€‰æ‹©æ€§å°è£…DayWeatherBean </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TextView tv_city,tv_time,tv_weather,tv_week,tv_tem,tv_tem_low_high,tv_win,tv_air;7ä¸ª</span></span><br><span class="line"><span class="comment"> * ImageView iv_weather;//å¤©æ°”å›¾æ ‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DayWeatherBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String wea;<span class="comment">//å¤©æ°”</span></span><br><span class="line">    <span class="keyword">private</span> String wea_img;<span class="comment">//å¤©æ°”å›¾æ ‡</span></span><br><span class="line">    <span class="keyword">private</span> String week;<span class="comment">//å‘¨å‡ </span></span><br><span class="line">    <span class="keyword">private</span> String tem;<span class="comment">//æ¸©åº¦</span></span><br><span class="line">    <span class="comment">//tv_tem_low_high=tem2+tem1æ‹¼æ¥ä¸€èµ·</span></span><br><span class="line">    <span class="keyword">private</span> String tem2;<span class="comment">//ä½æ¸©</span></span><br><span class="line">    <span class="keyword">private</span> String tem1;<span class="comment">//é«˜æ¸©</span></span><br><span class="line">    <span class="comment">//tv_win=win+win_speed</span></span><br><span class="line">    <span class="keyword">private</span> String[] win;<span class="comment">//é£åŠ›</span></span><br><span class="line">    <span class="keyword">private</span> String win_speed;<span class="comment">//é£åŠ›ç­‰çº§</span></span><br><span class="line">    <span class="comment">//tv_air=air+air_level+air_tipsæ‹¼æ¥ä¸€èµ·</span></span><br><span class="line">    <span class="keyword">private</span> String air;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">private</span> String air_level;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">private</span> String air_tips;<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//toString()ï¼Œgetï¼Œsetè‡ªè¡Œè®¾ç½®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h1><p>ä½¿ç”¨handleræ¥å¼‚æ­¥å¤„ç†<br>é¦–å…ˆå¼€è¾Ÿä¸€ä¸ªå­çº¿ç¨‹ï¼Œæ‹¿åˆ°ç½‘é¡µæ•°æ®ä¼ ç»™handler</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å¼€å¯å­çº¿ç¨‹ï¼Œè¯·æ±‚ç½‘ç»œ</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// è¯·æ±‚ç½‘ç»œ</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">weatherJson</span> <span class="operator">=</span> NetworkUtil.getWeather();</span><br><span class="line">                <span class="comment">// ä½¿ç”¨handlerå°†æ•°æ®ä¼ é€’ç»™ä¸»çº¿ç¨‹</span></span><br><span class="line">                <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.obtain();</span><br><span class="line">                message.what = <span class="number">0</span>;</span><br><span class="line">                message.obj = weatherJson;</span><br><span class="line">                mHandler.sendMessage(message);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Gsonåºåˆ—åŒ–å·¥å…·å‰åˆ«å¿˜è®°æ·»åŠ ä¾èµ–åŒ…<br><code>implementation &#39;com.google.code.gson:gson:2.8.5&#39;</code><br><img src="https://img-blog.csdnimg.cn/b58c484be7ec41bfbe0fba35d3ac0367.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ·»åŠ ä»£ç ååˆ«å¿˜äº†æ„å»ºä¸€ä¸‹ï¼Œå³ä¸Šè§’ç‚¹ä¸€ä¸‹<br><img src="https://img-blog.csdnimg.cn/15c9d1e722454264a9de1a3f116b064c.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">Handler</span> <span class="variable">mHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Handler</span>(Looper.myLooper()) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleMessage</span><span class="params">(<span class="meta">@NonNull</span> Message msg)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>.handleMessage(msg);</span><br><span class="line">            <span class="keyword">if</span> (msg.what == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">weather</span> <span class="operator">=</span> (String) msg.obj;</span><br><span class="line">                Log.d(<span class="string">&quot;Main&quot;</span>, <span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;åŸå§‹æ•°æ®--weather---&quot;</span> + weather);</span><br><span class="line">                <span class="keyword">if</span> (TextUtils.isEmpty(weather)) &#123;</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="built_in">this</span>, <span class="string">&quot;å¤©æ°”æ•°æ®ä¸ºç©ºï¼&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();<span class="comment">//Gsonåºåˆ—åŒ–å·¥å…·ï¼ŒJsonObjectä¹Ÿè¡Œï¼Œæ–¹æ³•ä¸åŒ</span></span><br><span class="line">                <span class="type">WeatherBean</span> <span class="variable">weatherBean</span> <span class="operator">=</span> gson.fromJson(weather, WeatherBean.class);</span><br><span class="line">                <span class="keyword">if</span> (weatherBean != <span class="literal">null</span>) &#123;</span><br><span class="line">                    Log.d(<span class="string">&quot;Main&quot;</span>, <span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;å°è£…æ•°æ®--weather---&quot;</span> + weatherBean.toString());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                tvCity.setText(weatherBean.getCity());</span><br><span class="line">                tvTime.setText(weatherBean.getUpdate_time());</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * å½“å¤©å¤©æ°”</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">                dayWeather = weatherBean.getData().get(<span class="number">0</span>);</span><br><span class="line">                tvWeather.setText(dayWeather.getWea());</span><br><span class="line">                tvTem.setText(dayWeather.getTem());</span><br><span class="line">                tvTemLowHigh.setText(dayWeather.getTem2()+<span class="string">&quot;/&quot;</span>+dayWeather.getTem1());</span><br><span class="line">                tvWeek.setText(dayWeather.getWeek());</span><br><span class="line">                tvWin.setText(dayWeather.getWin()[<span class="number">0</span>]+dayWeather.getWin_speed());</span><br><span class="line">                tvAir.setText(<span class="string">&quot;ç©ºæ°”:&quot;</span>+dayWeather.getAir()+<span class="string">&quot; | &quot;</span>+dayWeather.getAir_level()+<span class="string">&quot;\n&quot;</span>+dayWeather.getAir_tips());</span><br><span class="line">                ivWeather.setImageResource(WeatherImgUtil.getImgResOfWeather(dayWeather.getWea_img()));</span><br><span class="line">               <span class="comment">//æ­¤å·¥å…·å’Œå›¾ç‰‡æºç ä¸­ç»™å‡º</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ˜¯å¦è·å–åˆ°æ•°æ®<br><img src="https://img-blog.csdnimg.cn/77f9e039eabe4cc29498596600de4b65.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>&#x3D;&#x3D;æºç è‡ªå–&#x3D;&#x3D;ï¼š<a href="https://gitee.com/guo-yc/weather-frocast">gitee</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Redis-å®‰è£…ä¸é…ç½®</title>
      <link href="/posts/306dd2fe.html"/>
      <url>/posts/306dd2fe.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-Redis"><a href="#1-Redis" class="headerlink" title="1. Redis"></a>1. Redis</h1><h2 id="1-1-Redisçš„å®‰è£…"><a href="#1-1-Redisçš„å®‰è£…" class="headerlink" title="1.1. Redisçš„å®‰è£…"></a>1.1. Redisçš„å®‰è£…</h2><p>â€‹å¤§å¤šæ•°ä¼ä¸šéƒ½æ˜¯åŸºäºLinuxæœåŠ¡å™¨æ¥éƒ¨ç½²é¡¹ç›®ï¼Œè€Œä¸”Rediså®˜æ–¹ä¹Ÿæ²¡æœ‰æä¾›Windowsç‰ˆæœ¬çš„å®‰è£…åŒ…ã€‚æœ¬æ•™ç¨‹ä¼šåœ¨Linuxä¸‹éƒ¨ç½²redisã€‚</p><p>â€‹Linuxç‰ˆæœ¬ä¸ºCentOS 7ã€‚</p><p>â€‹Redisçš„å®˜æ–¹ç½‘ç«™åœ°å€ï¼š<a href="https://redis.io/">https://redis.io/</a></p><h3 id="1-1-1-Windowså®‰è£…"><a href="#1-1-1-Windowså®‰è£…" class="headerlink" title="1.1.1. Windowså®‰è£…"></a>1.1.1. Windowså®‰è£…</h3><p>â€‹é¦–å…ˆä¸‹è½½Rediså‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹åˆ°æŒ‡å®šç›®å½•å³å¯ï¼Œredis.confé…ç½®æ–‡ä»¶</p><h3 id="1-1-2-Linuxå®‰è£…"><a href="#1-1-2-Linuxå®‰è£…" class="headerlink" title="1.1.2. Linuxå®‰è£…"></a>1.1.2. Linuxå®‰è£…</h3><p>â€‹é¦–å…ˆå»Rediså®˜ç½‘ <a href="https://redis.io/download/">download</a>ä¸‹è½½linuxç‰ˆæœ¬å‹ç¼©åŒ…ï¼Œå®˜ç½‘åªæä¾›.<em>tar</em>.<em>gz</em>æ ¼å¼åœ¨linuxç¯å¢ƒä¸‹éƒ¨ç½²çš„å‹ç¼©åŒ…ã€‚<br>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](<a href="https://img-blog.csdnimg.cn/77d11908ba614dab83b9477610b264d1.png?size_19#pic_center">https://img-blog.csdnimg.cn/77d11908ba614dab83b9477610b264d1.png?size_19#pic_center</a> &#x3D;590x270)</p><p>Redisæ˜¯åŸºäºCè¯­è¨€ç¼–å†™çš„ï¼Œå› æ­¤é¦–å…ˆéœ€è¦å®‰è£…Redisæ‰€éœ€è¦çš„gccä¾èµ–ï¼š<br>æ‰“å¼€linuxå‘½ä»¤è¡Œç•Œé¢è¾“å…¥ä¸‹åˆ—å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><p>ä¸‹è½½å¥½çš„Rediså®‰è£…åŒ…éœ€è¦ä¸Šä¼ åˆ°è™šæ‹Ÿæœºçš„æŒ‡å®šç›®å½•ï¼Œå¦‚æ­¤å¤„æˆ‘ä»¬ä¸Šä¼ çš„ç›®å½•ä¸ºæ ¹ç›®å½•ä¸‹çš„&#x2F;JavaTools&#x2F;Redis-5.0.14,å¯ä»¥ä½¿ç”¨&#x3D;&#x3D;Xftp&#x3D;&#x3D;ä¸Šä¼ ã€‚<br>![javatools](<a href="https://img-blog.csdnimg.cn/a973abec3ef646b7821005bb740b6eee.png#pic_center">https://img-blog.csdnimg.cn/a973abec3ef646b7821005bb740b6eee.png#pic_center</a> &#x3D;600x400)</p><blockquote><p>åœ¨æ ¹ç›®å½•â€™&#x2F;â€˜ä¸‹åˆ›å»ºJavToolsæ–‡ä»¶å¤¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">cd</span> /</span><br><span class="line">&gt;<span class="built_in">mkdir</span> JavTools</span><br></pre></td></tr></table></figure><p>åç»­æ“ä½œå¯ä½¿ç”¨è™šæ‹Ÿæœºè¿æ¥å·¥å…·Xftp</p></blockquote><p><img src="https://img-blog.csdnimg.cn/8b733e9506ed4985ae68a60b050bcd84.png?size_10#pic_center" alt="ftp"></p><blockquote><p>ä¸‹è½½å¥½çš„redis-5.0.14.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°Linuxåè§£å‹ç¼©</p><p>è§£å‹å‘½ä»¤<code>tar -xzf redis-5.0.14.tar.gz</code></p><p>å¾—åˆ°redis-5.0.14</p></blockquote><p>è¿›å…¥redisç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-5.0.14</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¼–è¯‘å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š</p><blockquote><p>å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼šjemalloc&#x2F;jemalloc.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;make MALLOC=libc</span><br></pre></td></tr></table></figure></blockquote></blockquote><p>make installå¯å°†redisçš„ç›¸å…³è¿è¡Œæ–‡ä»¶å¤åˆ¶ä¸€ä»½æ”¾åˆ°&#x3D;&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;&#x3D;&#x3D;ä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œredisçš„å‘½ä»¤äº†</p><p><img src="https://img-blog.csdnimg.cn/5a0222b53a9249c49489afb03e339d31.png#pic_center" alt="usr/local"></p><ul><li>redis-cliï¼šæ˜¯redisæä¾›çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯</li><li>redis-serverï¼šæ˜¯redisçš„æœåŠ¡ç«¯å¯åŠ¨è„šæœ¬</li><li>redis-sentinelï¼šæ˜¯redisçš„å“¨å…µå¯åŠ¨è„šæœ¬</li></ul><hr><h4 id="å¯åŠ¨Redis"><a href="#å¯åŠ¨Redis" class="headerlink" title="å¯åŠ¨Redis"></a>å¯åŠ¨Redis</h4><p>è¿™æ ·å°±å¯ä»¥å¯åŠ¨RedisæœåŠ¡äº†ï¼Œå¯åŠ¨æ–¹å¼ä¾‹å¦‚ï¼š</p><ul><li>é»˜è®¤å¯åŠ¨</li><li>æŒ‡å®šé…ç½®å¯åŠ¨</li><li>å¼€æœºè‡ªå¯</li></ul><hr><p>1.é»˜è®¤å¯åŠ¨ï¼š</p><p>åœ¨ä»»æ„ç›®å½•ä¸‹è¾“å…¥redis-serverå‘½ä»¤å³å¯å¯åŠ¨Redis</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/af2fe54d6e0046b0b9042c728be8ee6f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿™ç§å±äº<code>å‰å°å¯åŠ¨</code>ï¼Œä¼šé˜»å¡æ•´ä¸ªä¼šè¯çª—å£ï¼Œçª—å£å…³é—­æˆ–è€…æŒ‰ä¸‹<code>CTRL + C</code>åˆ™Redisåœæ­¢ã€‚ä¸æ¨èä½¿ç”¨ã€‚</p><hr><p>2.æŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨ï¼š</p><p>éœ€è¦å°†Redisä»¥<strong>åå°</strong>æ–¹å¼å¯åŠ¨ï¼Œéœ€è¦ä¿®æ”¹redis.confé…ç½®æ–‡ä»¶ï¼Œå°±åœ¨è§£å‹çš„ç›®å½•<code>/JavaTools/redis-5.0.14</code>ä¸‹ï¼š</p><p>è¿›å…¥redis-5.0.14ç¼–è¾‘redis.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-5.0.14</span><br></pre></td></tr></table></figure><p>å…ˆå°†é…ç½®æ–‡ä»¶å¤‡ä»½ä¸€ä»½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> redis.conf redis.conf.bck</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹redis.confæ–‡ä»¶ä¸­çš„ä¸€äº›é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi redis.conf</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…è®¸è®¿é—®çš„åœ°å€ï¼Œé»˜è®¤æ˜¯127.0.0.1ï¼Œä¼šå¯¼è‡´åªèƒ½åœ¨æœ¬åœ°è®¿é—®ã€‚ä¿®æ”¹ä¸º0.0.0.0åˆ™å¯ä»¥åœ¨ä»»æ„IPè®¿é—®ï¼Œç”Ÿäº§ç¯å¢ƒä¸è¦è®¾ç½®ä¸º0.0.0.0</span></span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0</span><br><span class="line"><span class="comment"># å®ˆæŠ¤è¿›ç¨‹ï¼Œä¿®æ”¹ä¸ºyesåå³å¯åå°è¿è¡Œ</span></span><br><span class="line">daemonize <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># å¯†ç ï¼Œè®¾ç½®åè®¿é—®Rediså¿…é¡»è¾“å…¥å¯†ç </span></span><br><span class="line">requirepass qwer1234</span><br></pre></td></tr></table></figure><p>è¯¦ç»†æ­¥éª¤å‰å¾€åšå®¢<a href="https://blog.csdn.net/m0_51390535/article/details/124965190?spm=1001.2014.3001.5502">Redisé…ç½®æ–‡ä»¶</a></p><p>Redisçš„å…¶å®ƒå¸¸è§é…ç½®(ä¸è¦æ±‚)ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›‘å¬çš„ç«¯å£</span></span><br><span class="line"><span class="attr">port</span> <span class="string">6379</span></span><br><span class="line"><span class="comment"># å·¥ä½œç›®å½•ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¿è¡Œredis-serveræ—¶çš„å‘½ä»¤ï¼Œæ—¥å¿—ã€æŒä¹…åŒ–ç­‰æ–‡ä»¶ä¼šä¿å­˜åœ¨è¿™ä¸ªç›®å½•</span></span><br><span class="line"><span class="attr">dir</span> <span class="string">.</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“æ•°é‡ï¼Œè®¾ç½®ä¸º1ï¼Œä»£è¡¨åªä½¿ç”¨1ä¸ªåº“ï¼Œé»˜è®¤æœ‰16ä¸ªåº“ï¼Œç¼–å·0~15</span></span><br><span class="line"><span class="attr">databases</span> <span class="string">1</span></span><br><span class="line"><span class="comment"># è®¾ç½®redisèƒ½å¤Ÿä½¿ç”¨çš„æœ€å¤§å†…å­˜</span></span><br><span class="line"><span class="attr">maxmemory</span> <span class="string">512mb</span></span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºç©ºï¼Œä¸è®°å½•æ—¥å¿—ï¼Œå¯ä»¥æŒ‡å®šæ—¥å¿—æ–‡ä»¶å</span></span><br><span class="line"><span class="attr">logfile</span> <span class="string">&quot;redis.log&quot;</span></span><br></pre></td></tr></table></figure><p>ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨Redisï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server redis.conf</span><br></pre></td></tr></table></figure><p>åœæ­¢æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ©ç”¨redis-cliæ¥æ‰§è¡Œ shutdown å‘½ä»¤ï¼Œå³å¯åœæ­¢ Redis æœåŠ¡ï¼Œ</span></span><br><span class="line"><span class="comment"># å› ä¸ºä¹‹å‰é…ç½®äº†å¯†ç ï¼Œå› æ­¤éœ€è¦é€šè¿‡ -u æ¥æŒ‡å®šå¯†ç </span></span><br><span class="line">redis-cli -u qwer1234 shutdown</span><br></pre></td></tr></table></figure><hr><p>3.å¼€æœºè‡ªå¯ï¼š</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ¥å®ç°å¼€æœºè‡ªå¯ã€‚</p><p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªç³»ç»ŸæœåŠ¡æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=redis-server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>ç„¶åé‡è½½ç³»ç»ŸæœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢è¿™ç»„å‘½ä»¤æ¥æ“ä½œredisäº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">systemctl start redis</span><br><span class="line"><span class="comment"># åœæ­¢</span></span><br><span class="line">systemctl stop redis</span><br><span class="line"><span class="comment"># é‡å¯</span></span><br><span class="line">systemctl restart redis</span><br><span class="line"><span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥è®©rediså¼€æœºè‡ªå¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><hr><h2 id="1-2-Rediså®¢æˆ·ç«¯cli"><a href="#1-2-Rediså®¢æˆ·ç«¯cli" class="headerlink" title="1.2.Rediså®¢æˆ·ç«¯cli"></a>1.2.Rediså®¢æˆ·ç«¯cli</h2><h3 id="1-2-1-Rediså‘½ä»¤è¡Œå®¢æˆ·ç«¯"><a href="#1-2-1-Rediså‘½ä»¤è¡Œå®¢æˆ·ç«¯" class="headerlink" title="1.2.1.Rediså‘½ä»¤è¡Œå®¢æˆ·ç«¯"></a>1.2.1.Rediså‘½ä»¤è¡Œå®¢æˆ·ç«¯</h3><p>Rediså®‰è£…å®Œæˆåå°±è‡ªå¸¦äº†å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼šredis-cliï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli [options] [commonds]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­å¸¸è§çš„optionsæœ‰ï¼š</p><ul><li><code>-h 127.0.0.1</code>ï¼šæŒ‡å®šè¦è¿æ¥çš„redisèŠ‚ç‚¹çš„IPåœ°å€ï¼Œé»˜è®¤æ˜¯127.0.0.1</li><li><code>-p 6379</code>ï¼šæŒ‡å®šè¦è¿æ¥çš„redisèŠ‚ç‚¹çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯6379</li><li><code>-a qwer1234</code>ï¼šæŒ‡å®šredisçš„è®¿é—®å¯†ç </li></ul><p>å…¶ä¸­çš„commondså°±æ˜¯Redisçš„æ“ä½œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>ping</code>ï¼šä¸redisæœåŠ¡ç«¯åšå¿ƒè·³æµ‹è¯•ï¼ŒæœåŠ¡ç«¯æ­£å¸¸ä¼šè¿”å›<code>pong</code></li></ul><p>ä¸æŒ‡å®šcommondæ—¶ï¼Œä¼šè¿›å…¥<code>redis-cli</code>çš„äº¤äº’æ§åˆ¶å°ï¼š</p><p><img src="https://img-blog.csdnimg.cn/b1f36db50eef49d2a06b4c8bc6e75ff7.png#pic_center" alt="keys"></p><p>å¯ä»¥ä½¿ç”¨å‘½ä»¤è¿æ¥cliå®¢æˆ·ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h æœ¬æœºåœ°å€ -p 6379</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶è®¾ç½®æœ‰å¯†ç æ—¶ï¼Œcliå¯åŠ¨åéœ€è¦è¾“å…¥å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AUTH qwer1234 <span class="comment">#rediså¯†ç </span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨å¤±è´¥ï¼Œå°è¯•å¼€æ”¾6379ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -I INPUT -p tcp --dport 6379 -j ACCEPT</span><br></pre></td></tr></table></figure><hr><p><strong>å…¶ä»–ç¡¬çŸ¥è¯†</strong></p><ul><li>æŸ¥çœ‹redisè¿›ç¨‹æ˜¯å¦å­˜åœ¨<br><code>ps -ef |grep redis</code></li><li>æ£€æµ‹6379ç«¯å£æ˜¯å¦åœ¨ç›‘å¬<br><code>netstat -lntp | grep 6379</code></li><li>åœæ­¢redisï¼Œä½¿ç”¨ctrl+cå¿«æ·é”®æˆ–è€…ä½¿ç”¨å®¢æˆ·ç«¯ <code>redis-cli shutdown</code></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
            <tag> Redis-cli </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<!-- Front-matter---title:date:updated:type:comments:description:keywords:top_img:mathjax:katex:aside:aplayer:highlight_shrink:--- --><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>link</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
