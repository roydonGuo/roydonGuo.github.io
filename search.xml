<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>spring-security遇到的问题</title>
      <link href="/posts/34abbf19.html"/>
      <url>/posts/34abbf19.html</url>
      
        <content type="html"><![CDATA[<p>记一次spring+mp+redis项目整合<strong>security</strong>时遇到的离谱问题。<br>原先刚开始学习security权限框架，自以为学的还不错，就纯手打把seacurity整合进了自己项目，但是，自从配置security配置后，就开始了一路debug。。。</p><blockquote><p>先是csrf没有关，然后又是UserDetails的自定义实现类封装不进去。<br>然后又是Encoded password does not look like BCrypt。<br>然后又是一直403 forbidden。。</p></blockquote><h1 id="1-security配置"><a href="#1-security配置" class="headerlink" title="1.security配置"></a>1.security配置</h1><p>然后我又把security和redis单拉出来重新写了个demo，来回排查终于搞定了。<br>下面是这个小demo的config代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Intellij IDEA</span></span><br><span class="line"><span class="comment"> * Author: yi cheng</span></span><br><span class="line"><span class="comment"> * Date: 2022/10/7</span></span><br><span class="line"><span class="comment"> * Time: 15:47</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> <span class="keyword">extends</span> <span class="title class_">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PasswordEncoder <span class="title function_">passwordEncoder</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Resource</span></span><br><span class="line"><span class="comment">//    private JwtAuthenticationTokenFilter jwtAuthenticationTokenFilter;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">                .cors()</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">//关闭csrf</span></span><br><span class="line">                .csrf().disable()</span><br><span class="line">                <span class="comment">//不通过Session获取SecurityContext</span></span><br><span class="line">                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</span><br><span class="line">                .and()</span><br><span class="line">                .authorizeRequests()</span><br><span class="line">                <span class="comment">// 对于登录接口 允许匿名访问 anonymous</span></span><br><span class="line">                .antMatchers(<span class="string">&quot;/user/login&quot;</span>).anonymous()</span><br><span class="line">                .anyRequest().authenticated();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把token校验过滤器添加到过滤器链中</span></span><br><span class="line"><span class="comment">//        http.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * AuthenticationManager注册进容器</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AuthenticationManager <span class="title function_">authenticationManagerBean</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.authenticationManagerBean();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这里controller只定义了一个用户登录接口，所以放行login就行了。然后就是关闭<strong>csrf</strong>不用多说。</p><h1 id="2-UserDetailsService的loadUserByUsername-返回值封装"><a href="#2-UserDetailsService的loadUserByUsername-返回值封装" class="headerlink" title="2.UserDetailsService的loadUserByUsername()返回值封装"></a>2.UserDetailsService的loadUserByUsername()返回值封装</h1><p>封装UserDetails的自定义实现类LoginUser实现UserDetails，就是用户认证实体类<br>里面方法返回true或get方法返回username和password就行。</p><h1 id="3-Encoded-password-does-not-look-like-BCrypt"><a href="#3-Encoded-password-does-not-look-like-BCrypt" class="headerlink" title="3.Encoded password does not look like BCrypt"></a>3.Encoded password does not look like BCrypt</h1><p>这个错误具体原因是数据库加密后的密码加密方式与传入的匹配不了。<br>可以<code>使用spring容器中注入的密码加密bean重新生成加密密码存入数据库</code>。<br>上面config里已经把BCryptPasswordEncoder注入到了spring容器，所以在test里调用一下即可。我这里是粗心又new 了一个BCryptPasswordEncoder进行的密码加密当测试用的，没想到挂在了这一步。<br>然后执行UserDetailsService中的方法会认证不通过，导致无法封装LoginUser返回对象，这样你的login方法的authenticationManager也就拿不到LoginUser这个对象，而只是把用户名封装了进去，连user对象都不是，所以后续一系列什么判断，new Authentication，存到redis类的都不会执行下去，控制台也不报错，中给个下面图片Encoded password does not look like BCrypt提示，肉眼很难发现，所以加密一定用bean中的bcrypt。</p><blockquote><p>这个错不好发现，我的sql打印很多，要不是debug’实在没头绪我很难发现这有个错。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/dd48401bfd474022a092e4f40ccb09ee.png" alt="在这里插入图片描述"></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> PasswordEncoder passwordEncoder;<span class="comment">//容器中的 BCrypt</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">pwdTest</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//  BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();不要自己new</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> passwordEncoder.encode(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    System.out.println(pwd1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此方法就能解决上图报错 password does not look like BCrypt<br>或者postman一直403 forbidden</p><p>demo的github地址<a href="https://github.com/roydonGuo/Spring-Security/tree/dev">github</a></p>]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> Mybatis-Plus </tag>
            
            <tag> SpringBoot </tag>
            
            <tag> Spring-Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>harmony2.0-基础</title>
      <link href="/posts/harmony2.0.html"/>
      <url>/posts/harmony2.0.html</url>
      
        <content type="html"><![CDATA[<hr><div align=right style="width: 80px"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/IVKUXjNX.gif"></div><h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><p>常见的事件有：单击、双击、长按、还有触摸事件 。我们可以给文本、按钮等等组件添加不同的事件。</p><h2 id="单击事件"><a href="#单击事件" class="headerlink" title="单击事件"></a>单击事件</h2><ul><li>接口名：ClickedListener</li></ul><p>四种实现方法(下面的其他事件类推)：</p><ol><li>自己编写实现类</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> &#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.自定义实现类</span></span><br><span class="line">        btn1.setClickedListener(<span class="keyword">new</span> <span class="title class_">MyListener</span>());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;<span class="built_in">super</span>.onActive();&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;<span class="built_in">super</span>.onForeground(intent);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义实现类，里面重写点击方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyListener</span> <span class="keyword">implements</span> <span class="title class_">Component</span>.ClickedListener&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="type">Button</span> <span class="variable">btn1</span> <span class="operator">=</span> (Button) component;</span><br><span class="line"></span><br><span class="line">        btn1.setText(<span class="string">&quot;被点了&quot;</span>);</span><br><span class="line"></span><br><span class="line">        btn1.setClickable(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>实现 Component.ClickedListener 接口</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">Component</span>.ClickedListener &#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.实现接口</span></span><br><span class="line">        btn1.setClickedListener(<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写点击方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        btn1.setText(<span class="string">&quot;被点了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;<span class="built_in">super</span>.onActive();&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;<span class="built_in">super</span>.onForeground(intent);&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>方法引用</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">Component</span>.ClickedListener &#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.方法引用</span></span><br><span class="line">        btn1.setClickedListener(<span class="built_in">this</span>::onClick);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        btn1.setText(<span class="string">&quot;被点了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>匿名内部类</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span>&#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.匿名内部类</span></span><br><span class="line">        btn1.setClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.ClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                btn1.setText(<span class="string">&quot;被点了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="双击事件"><a href="#双击事件" class="headerlink" title="双击事件"></a>双击事件</h2><ul><li>接口名：DoubleClickedListener</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span>&#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绑定双击事件</span></span><br><span class="line">        btn1.setDoubleClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.DoubleClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDoubleClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                btn1.setText(<span class="string">&quot;被双击了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="长按事件"><a href="#长按事件" class="headerlink" title="长按事件"></a>长按事件</h2><ul><li>接口名：LongClickedListener</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span>&#123;</span><br><span class="line"></span><br><span class="line">    Button btn1;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        btn1 = (Button) findComponentById(ResourceTable.Id_btn1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绑定长按事件</span></span><br><span class="line">        btn1.setLongClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.LongClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onLongClicked</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                btn1.setText(<span class="string">&quot;被长按了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="滑动事件-触摸事件"><a href="#滑动事件-触摸事件" class="headerlink" title="滑动事件(触摸事件)"></a>滑动事件(触摸事件)</h2><ul><li>接口名：TouchEventListener</li></ul><p>滑动事件里面分为三个动作：按下不松，移动，抬起。 </p><ul><li>PRIMARY_POINT_DOWN：按下不松。 </li><li>POINT_MOVE：移动。 </li><li>PRIMARY_POINT_UP：抬起。</li></ul><blockquote><p>手机坐标： 手机左上角的点为原点。 （向右为X轴 | 向下为Y轴 | 垂直于屏幕向上为Z轴）</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.beautifyapp1.MainAbility;</span><br><span class="line"><span class="keyword">import</span> com.roydon.beautifyapp1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.ability.AbilitySlice;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.content.Intent;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.Button;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.Component;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.DirectionalLayout;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.window.dialog.ToastDialog;</span><br><span class="line"><span class="keyword">import</span> ohos.multimodalinput.event.MmiPoint;</span><br><span class="line"><span class="keyword">import</span> ohos.multimodalinput.event.TouchEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        <span class="type">DirectionalLayout</span> <span class="variable">dl</span> <span class="operator">=</span> (DirectionalLayout) findComponentById(ResourceTable.Id_dl);</span><br><span class="line"></span><br><span class="line">        dl.setTouchEventListener(<span class="keyword">new</span> <span class="title class_">Component</span>.TouchEventListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onTouchEvent</span><span class="params">(Component component, TouchEvent touchEvent)</span> &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (touchEvent.getAction()==TouchEvent.PRIMARY_POINT_DOWN)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;按下&quot;</span>);</span><br><span class="line">                    <span class="comment">//因为给布局 DirectionalLayout 绑定的触摸事件，所以可以获取手指在屏幕按下的位置</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;手指按下的坐标：&quot;</span>+touchEvent.getPointerPosition(<span class="number">0</span>));</span><br><span class="line">                    <span class="type">MmiPoint</span> <span class="variable">position</span> <span class="operator">=</span> touchEvent.getPointerPosition(<span class="number">0</span>);</span><br><span class="line">                    <span class="type">float</span> <span class="variable">pointX</span> <span class="operator">=</span> position.getX();<span class="comment">//按下点的横坐标</span></span><br><span class="line">                    <span class="type">float</span> <span class="variable">pointY</span> <span class="operator">=</span> position.getY();<span class="comment">//按下点的纵坐标</span></span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(touchEvent.getAction()==TouchEvent.POINT_MOVE)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;移动&quot;</span>);</span><br><span class="line">                    <span class="comment">//移动时间同样有坐标方法，坐标随手指移动不断变化</span></span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(touchEvent.getAction()==TouchEvent.PRIMARY_POINT_UP)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;松开&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//若返回true继续事件，false反之</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="常见组件"><a href="#常见组件" class="headerlink" title="常见组件"></a>常见组件</h1><p>屏幕展示出来的元素，都称之为组件。比如华为已经提供的：文本，图片，进度条，输入框等。 </p><p>组件的顶级父类：<code>Component</code></p><h2 id="组件分类"><a href="#组件分类" class="headerlink" title="组件分类"></a>组件分类</h2><ul><li>显示类组件 只负责数据展示的，无法跟用户交互，比如展示文本的组件，展示图片的组件。 </li><li>交互类组件 可以跟用户交互的，比如用户可以点击的按钮组件，用户可以输入的文本框组件。</li><li>布局类组件 布局其实也是一种比较特殊的组件。</li></ul><h2 id="显示类组件"><a href="#显示类组件" class="headerlink" title="显示类组件"></a>显示类组件</h2><p>文本Text、图片Image、CommonDialog普通弹框组件、ToastDialog信息提示组件、时钟Clock、定时器 TickTimer、进度条ProgressBar等。。。</p><h3 id="Text文本组件"><a href="#Text文本组件" class="headerlink" title="Text文本组件"></a>Text文本组件</h3><ul><li>作用：数据展示</li></ul><p>常用属性：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924174446530.png" alt="image-20220924174446530"></p><p>长度单位：px，vp，fp。</p><p>如果不写单位，默认单位是px</p><p>vp（虚拟像素）长度单位。1vp=3px</p><p>fp字体大小单位。</p><p>跑马灯效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\0000000000011111111.20220906142929.59811137630758749773991720039327.gif" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 跑马灯效果</span></span><br><span class="line">text.setTruncationMode(Text.TruncationMode.AUTO_SCROLLING);</span><br><span class="line"><span class="comment">// 始终处于自动滚动状态</span></span><br><span class="line">text.setAutoScrollingCount(Text.AUTO_SCROLLING_FOREVER);</span><br><span class="line"><span class="comment">// 启动跑马灯效果</span></span><br><span class="line">text.startAutoScrolling();</span><br></pre></td></tr></table></figure><hr><h3 id="Image图片组件"><a href="#Image图片组件" class="headerlink" title="Image图片组件"></a>Image图片组件</h3><ul><li>作用：显示图片</li></ul><p>图片存放路径再media文件夹下</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924175525053.png" alt="image-20220924175525053"></p><p>图片剪切显示： </p><ul><li>代码中：可以用setClipGravity方法 </li><li>xml文件中：可以用clip_alignment属性 <ul><li>上、下、左、右、居中 </li><li>表示分别按照上、下、左、右、中间部位进行剪切。 </li></ul></li></ul><p>图片缩放显示： </p><ul><li>代码中：可以用setScaleMode方法 </li><li>xml文件中：可以用scale_mode属性 <ul><li>inside：表示将原图按比例缩放到与Image相同或更小的尺寸，并居中显示。 有可能不会填充组件 </li><li>center：表示不缩放，按Image大小显示原图中间部分。 </li><li>stretch：表示将原图缩放到与Image大小一致。 拉伸。将组件填充。</li><li>clip_center：表示将原图按比例缩放到与Image相同或更大的尺寸，并居中显示。超过组件的部分被剪 切掉。 </li><li>zoom_center：表示原图按照比例缩放到与Image最窄边一致，并居中显示。 </li><li>zoom_end：表示原图按照比例缩放到与Image最窄边一致，并靠结束端显示。 </li><li>zoom_start：表示原图按照比例缩放到与Image最窄边一致，并靠起始端显示。</li></ul></li></ul><hr><h3 id="CommonDialog普通弹框组件"><a href="#CommonDialog普通弹框组件" class="headerlink" title="CommonDialog普通弹框组件"></a>CommonDialog普通弹框组件</h3><h4 id="使用默认布局的基本用法"><a href="#使用默认布局的基本用法" class="headerlink" title="使用默认布局的基本用法"></a>使用默认布局的基本用法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//把普通弹框弹出来就可以了</span></span><br><span class="line"><span class="comment">//1.创建弹框的对象</span></span><br><span class="line"><span class="comment">//this:当前弹框是哪展示在当前的界面中的。</span></span><br><span class="line"><span class="type">CommonDialog</span> <span class="variable">cd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommonDialog</span>(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">//2.因为弹框里面是有默认布局的</span></span><br><span class="line"><span class="comment">//设置标题</span></span><br><span class="line">cd.setTitleText(<span class="string">&quot;系统定位服务已关闭&quot;</span>);</span><br><span class="line"><span class="comment">//设置内容</span></span><br><span class="line">cd.setContentText(<span class="string">&quot;请打开定位服务，以便司机师傅能够准确接您上车&quot;</span>);</span><br><span class="line"><span class="comment">//自动关闭</span></span><br><span class="line">cd.setAutoClosable(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//设置按钮</span></span><br><span class="line"><span class="comment">//参数一：按钮的索引 0 1 2</span></span><br><span class="line"><span class="comment">//参数二：按钮上的文字</span></span><br><span class="line"><span class="comment">//参数三：点击了按钮之后能做什么</span></span><br><span class="line">cd.setButton(<span class="number">0</span>, <span class="string">&quot;设置&quot;</span>, <span class="keyword">new</span> <span class="title class_">IDialog</span>.ClickedListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(IDialog iDialog, <span class="type">int</span> i)</span> &#123;</span><br><span class="line"><span class="comment">//写上点击了设置之后，要做的事情。</span></span><br><span class="line"><span class="comment">//如果点击之后我不需要做任何事情，在第三个参数中传递null就可以了。</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">cd.setButton(<span class="number">1</span>, <span class="string">&quot;取消&quot;</span>, <span class="keyword">new</span> <span class="title class_">IDialog</span>.ClickedListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(IDialog iDialog, <span class="type">int</span> i)</span> &#123;</span><br><span class="line"><span class="comment">//销毁弹框</span></span><br><span class="line">cd.destroy();</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//把弹框显示出来</span></span><br><span class="line">cd.show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="自定义弹框布局"><a href="#自定义弹框布局" class="headerlink" title="自定义弹框布局"></a>自定义弹框布局</h4><p>新建弹窗布局文件，文件名： message_dialog.xml。如果需要更复杂的弹框，只要丰富xml文件中的组件即可。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DirectionalLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:ohos</span>=<span class="string">&quot;http://schemas.huawei.com/res/ohos&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:message&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;40fp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:submit&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:background_element</span>=<span class="string">&quot;#21a896&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text</span>=<span class="string">&quot;确定&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;40fp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:cancel&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:background_element</span>=<span class="string">&quot;#0021D9&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text</span>=<span class="string">&quot;取消&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;40fp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:top_margin</span>=<span class="string">&quot;10vp&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">DirectionalLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>java类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.myapplication1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.ability.AbilitySlice;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.content.Intent;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.*;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.window.dialog.CommonDialog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个弹框对象</span></span><br><span class="line">        <span class="type">CommonDialog</span> <span class="variable">cd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommonDialog</span>(<span class="built_in">this</span>);</span><br><span class="line">        cd.setCornerRadius(<span class="number">30</span>);<span class="comment">//设置弹窗圆角</span></span><br><span class="line">        <span class="comment">//把messagedislog的xml文件加载到内存当中。交给弹框并展示出来。</span></span><br><span class="line">        <span class="comment">//加载xml文件并获得一个布局对象</span></span><br><span class="line">        <span class="comment">//parse方法：加载一个xml文件，返回一个布局对象。</span></span><br><span class="line">        <span class="comment">//参数一：要加载的xml文件</span></span><br><span class="line">        <span class="comment">//参数二：该xml文件是否跟其他xml文件有关。如果无关是独立的，就写null就可以了</span></span><br><span class="line">        <span class="comment">//参数三：如果文件是独立的，那么直接写false</span></span><br><span class="line">        <span class="type">DirectionalLayout</span> <span class="variable">dl</span> <span class="operator">=</span> (DirectionalLayout) LayoutScatter.getInstance(<span class="built_in">this</span>).parse(ResourceTable.Layout_message_dialog, <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Text</span> <span class="variable">title</span> <span class="operator">=</span> (Text) dl.findComponentById(ResourceTable.Id_message);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">submit</span> <span class="operator">=</span> (Button) dl.findComponentById(ResourceTable.Id_submit);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">cancel</span> <span class="operator">=</span> (Button) dl.findComponentById(ResourceTable.Id_cancel);</span><br><span class="line"></span><br><span class="line">        title.setText(<span class="string">&quot;msg&quot;</span>);</span><br><span class="line">        <span class="comment">//给两个按钮添加单击事件</span></span><br><span class="line">        submit.setClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.ClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                title.setText(<span class="string">&quot;点击了确定按钮&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        cancel.setClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.ClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                <span class="comment">//当点击了取消按钮之后，把弹框给关闭</span></span><br><span class="line">                cd.destroy();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//此时布局对象跟弹框还没有任何关系.还需要把布局对象交给弹框才可以</span></span><br><span class="line">        cd.setContentCustomComponent(dl);</span><br><span class="line">        <span class="comment">//让弹框展示出来</span></span><br><span class="line">        cd.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>封装成工具类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.myapplication1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.*;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.window.dialog.CommonDialog;</span><br><span class="line"><span class="keyword">import</span> ohos.app.Context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyDialog</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showDialog</span><span class="params">(Context context, String msg)</span> &#123;</span><br><span class="line">        <span class="type">CommonDialog</span> <span class="variable">cd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommonDialog</span>(context);</span><br><span class="line">        cd.setCornerRadius(<span class="number">30</span>);</span><br><span class="line">        <span class="type">DirectionalLayout</span> <span class="variable">dl</span> <span class="operator">=</span> (DirectionalLayout) LayoutScatter.getInstance(context).parse(ResourceTable.Layout_message_dialog, <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">Text</span> <span class="variable">title</span> <span class="operator">=</span> (Text) dl.findComponentById(ResourceTable.Id_message);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">submit</span> <span class="operator">=</span> (Button) dl.findComponentById(ResourceTable.Id_submit);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">cancel</span> <span class="operator">=</span> (Button) dl.findComponentById(ResourceTable.Id_cancel);</span><br><span class="line">        title.setText(msg);</span><br><span class="line">        submit.setClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.ClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                title.setText(<span class="string">&quot;点击了确定按钮&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        cancel.setClickedListener(<span class="keyword">new</span> <span class="title class_">Component</span>.ClickedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">                cd.destroy();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        cd.setContentCustomComponent(dl);</span><br><span class="line">        cd.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ToastDialog信息提示组件"><a href="#ToastDialog信息提示组件" class="headerlink" title="ToastDialog信息提示组件"></a>ToastDialog信息提示组件</h3><p>也叫做吐司弹框。就是一个小提示而已。 ToastDialog是CommonDialog的子类，所以具备CommonDialog相关的特性。 也包含了标题，内容还有选择按钮。 一般来讲，吐司弹框我们只用中间的内容部分，因为他出现的意义就是为了提示信息的。</p><p>基本使用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ToastDialog</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToastDialog</span>(<span class="built_in">this</span>);</span><br><span class="line">t.setText(<span class="string">&quot;要显示的内容&quot;</span>)</span><br><span class="line">t.setAlignment(LayoutAlignment.CENTER);</span><br><span class="line">t.show();</span><br></pre></td></tr></table></figure><p>相关设置：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ToastDialog</span> <span class="variable">toastDialog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToastDialog</span>(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">//设置的大小。如果不写，默认包裹内容</span></span><br><span class="line">toastDialog.setSize(DirectionalLayout.LayoutConfig.MATCH_CONTENT,</span><br><span class="line">DirectionalLayout.LayoutConfig.MATCH_CONTENT);</span><br><span class="line"><span class="comment">//设置持续时间。如果不写，默认2秒</span></span><br><span class="line">toastDialog.setDuration(<span class="number">2000</span>);</span><br><span class="line"><span class="comment">//设置自动关闭。如果不写，就是自动关闭</span></span><br><span class="line">toastDialog.setAutoClosable(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//设置位置。如果不写，默认居中</span></span><br><span class="line">toastDialog.setAlignment(LayoutAlignment.CENTER);</span><br><span class="line"><span class="comment">//设置提示信息内容</span></span><br><span class="line">toastDialog.setText(<span class="string">&quot;要显示的内容&quot;</span>);</span><br><span class="line"><span class="comment">//让吐司展示出来</span></span><br><span class="line">toastDialog.show();</span><br></pre></td></tr></table></figure><p>自定义布局和抽取工具类：</p><p>布局xml文件命名为mytoast.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DirectionalLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:ohos</span>=<span class="string">&quot;http://schemas.huawei.com/res/ohos&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:msg&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;16fp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_color</span>=<span class="string">&quot;#FFFFFF&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_alignment</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:padding</span>=<span class="string">&quot;20vp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:margin</span>=<span class="string">&quot;30vp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:multiple_lines</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:background_element</span>=<span class="string">&quot;#FF5B3535&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">DirectionalLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>工具类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.myapplication1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.DirectionalLayout;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.LayoutScatter;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.utils.LayoutAlignment;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.window.dialog.ToastDialog;</span><br><span class="line"><span class="keyword">import</span> ohos.app.Context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyToast</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showDialog</span><span class="params">(Context context, String msg)</span> &#123;</span><br><span class="line">        <span class="comment">//加载xml布局文件</span></span><br><span class="line">        <span class="type">DirectionalLayout</span> <span class="variable">dl</span> <span class="operator">=</span> (DirectionalLayout) LayoutScatter.getInstance(context).parse(ResourceTable.Layout_mytoast, <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">ToastDialog</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToastDialog</span>(context);</span><br><span class="line">        td.setSize(DirectionalLayout.LayoutConfig.MATCH_CONTENT, DirectionalLayout.LayoutConfig.MATCH_CONTENT);</span><br><span class="line">        td.setDuration(<span class="number">2000</span>);<span class="comment">//设置出现的时间</span></span><br><span class="line">        td.setAutoClosable(<span class="literal">true</span>);<span class="comment">//设置自动关闭</span></span><br><span class="line">        td.setAlignment(LayoutAlignment.BOTTOM);<span class="comment">//对其方式</span></span><br><span class="line">        td.setText(msg);</span><br><span class="line">        td.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Clock时钟组件"><a href="#Clock时钟组件" class="headerlink" title="Clock时钟组件"></a>Clock时钟组件</h3><p>是Text的子类，所以可以使用Text的一些属性。</p><p>常用属性：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924182911591.png" alt="image-20220924182911591"></p><p>常用方法：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924182926560.png" alt="image-20220924182926560"></p><p>指定12小时展示格式 clock.setFormatIn12HourMode(“yyyy年MM月dd日 hh:mm:ss a”);</p><p>指定24小时展示格式 clock.setFormatIn24HourMode(“yyyy年MM月dd日 HH:mm:ss”);</p><p>拓展：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将字符串表示的时间（2021-01-01 11:11:11）转成毫秒值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">dateToTimeStamp</span><span class="params">(String s)</span> <span class="keyword">throws</span> ParseException&#123;</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">simpleDateFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>); </span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> simpleDateFormat.parse(s); </span><br><span class="line"><span class="type">long</span> <span class="variable">ts</span> <span class="operator">=</span> date.getTime(); </span><br><span class="line"><span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> String.valueOf(ts); </span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将时间的毫秒值转换为时间</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">timeStampToDate</span><span class="params">(String s)</span>&#123;</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">simpleDateFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>); </span><br><span class="line"><span class="type">long</span> <span class="variable">lt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Long</span>(s); </span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(lt); </span><br><span class="line"><span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> simpleDateFormat.format(date);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="TickTimer定时器组件"><a href="#TickTimer定时器组件" class="headerlink" title="TickTimer定时器组件"></a>TickTimer定时器组件</h3><p>是Text的子类，所以可以使用Text的一些属性。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924183532255.png" alt="image-20220924183532255"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924183540014.png" alt="image-20220924183540014"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TickTimer</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:my_tt&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;60vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;250vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:padding</span>=<span class="string">&quot;10vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_size</span>=<span class="string">&quot;20fp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_color</span>=<span class="string">&quot;#ffffff&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:background_element</span>=<span class="string">&quot;#0000ff&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_alignment</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:layout_alignment</span>=<span class="string">&quot;horizontal_center&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:top_margin</span>=<span class="string">&quot;50vp&quot;</span> /&gt;</span></span><br><span class="line">//没有设置时间，默认是从1970年1月1日开始。</span><br></pre></td></tr></table></figure><hr><h3 id="ProgressBar进度条组件"><a href="#ProgressBar进度条组件" class="headerlink" title="ProgressBar进度条组件"></a>ProgressBar进度条组件</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924183828504.png" alt="image-20220924183828504"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924183839370.png" alt="image-20220924183839370"></p><p>.getProgress();//获取进度条里面原本的值</p><p>.setProgressValue(progress);//设置进度值</p><p>.setProgressHintText(progress + “%”);//修改提示文字进度</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:pb&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_hint_text</span>=<span class="string">&quot;0%&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_hint_text_color</span>=<span class="string">&quot;#000000&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_width</span>=<span class="string">&quot;50vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_color</span>=<span class="string">&quot;#FF0000&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:max</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:min</span>=<span class="string">&quot;0&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="RoundProgressBar"><a href="#RoundProgressBar" class="headerlink" title="RoundProgressBar"></a>RoundProgressBar</h3><p>是ProgressBar的子类，用法跟ProgressBar一模一样，只是显示的方式不一样。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RoundProgressBar</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_hint_text</span>=<span class="string">&quot;80%&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_hint_text_size</span>=<span class="string">&quot;50vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_hint_text_color</span>=<span class="string">&quot;#000000&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress</span>=<span class="string">&quot;80&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_width</span>=<span class="string">&quot;20vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_color</span>=<span class="string">&quot;#FF0000&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:max</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:min</span>=<span class="string">&quot;0&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="交互类组件"><a href="#交互类组件" class="headerlink" title="交互类组件"></a>交互类组件</h2><h3 id="TextField文本输入框组件"><a href="#TextField文本输入框组件" class="headerlink" title="TextField文本输入框组件"></a>TextField文本输入框组件</h3><p>是Text的子类，用来进行用户输入数据的。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924184518703.png" alt="image-20220924184518703"></p><p>将文本框中的密码变成明文：textField.setTextInputType(InputAttribute.PATTERN_NULL);</p><p>将文本框中的密码变回密文：textField.setTextInputType(InputAttribute.PATTERN_PASSWORD);</p><p>取消按钮设置位置：int x = r.nextInt(500); int y = r.nextInt(1000);cacel.setTranslation(x,y);</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextField</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:text&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;50vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;319vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:background_element</span>=<span class="string">&quot;#FFFFFF&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:hint</span>=<span class="string">&quot;请输入信息&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:hint_color</span>=<span class="string">&quot;#999999&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:layout_alignment</span>=<span class="string">&quot;horizontal_center&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_alignment</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_size</span>=<span class="string">&quot;17fp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:top_margin</span>=<span class="string">&quot;100vp&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Checkbox多选框组件"><a href="#Checkbox多选框组件" class="headerlink" title="Checkbox多选框组件"></a>Checkbox多选框组件</h3><p>父类是AbsButton，而AbsButton的父类是Button。 当我们需要同时选择多个元素的时候就需要用到多选框组件。 </p><p>比如：发送图片的时候需要多选，注册的时候选择爱好也需要多选等。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924185228886.png" alt="image-20220924185228886"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924185541682.png" alt="image-20220924185541682"></p><p>可以给多选框添加一个状态监听事件 checkbox.setCheckedStateChangedListener(this);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">AbsButton</span>.CheckedStateChangedListener</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当多选框的状态被改变之后，就会调用这个方法</span></span><br><span class="line"><span class="comment">//参数一：absButton就表示状态被改变的那个多选框</span></span><br><span class="line"><span class="comment">//参数二：表示当前多选框的状态，true选中 false 未选中</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCheckedChanged</span><span class="params">(AbsButton absButton, <span class="type">boolean</span> b)</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(b)&#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,<span class="string">&quot;被选中&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,<span class="string">&quot;未被选中&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="RadioButton单选框组件"><a href="#RadioButton单选框组件" class="headerlink" title="RadioButton单选框组件"></a>RadioButton单选框组件</h3><p>父类是AbsButton，而AbsButton的父类是Button。在使用的时候需要用到单选按钮的按钮组。 RadioContainer，在一组内多选按钮只能选择其中一个。</p><p>当需要监听单选框的状态时，不要用AbsButton里面的CheckedStateChangedListener。而是给按钮组 RadioContainer添加事件。用RadioContainer里面的CheckedStateChangedListener。</p><p>按钮组RadioContainer常见方法：.setMarkChangedListener () //添加状态监听事件，可以监听按钮组里面单选按钮的状态是否改变</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">RadioContainer</span>.CheckedStateChangedListener</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924190522553.png" alt="image-20220924190522553"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924190530758.png" alt="image-20220924190530758"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RadioContainer</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:rc&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">RadioButton</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:boy&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:background_element</span>=<span class="string">&quot;#21a8fd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:marked</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text</span>=<span class="string">&quot;男&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_alignment</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;30fp&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RadioButton</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:girl&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:background_element</span>=<span class="string">&quot;#21a8fd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:marked</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text</span>=<span class="string">&quot;女&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_alignment</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:text_size</span>=<span class="string">&quot;30fp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:top_margin</span>=<span class="string">&quot;10vp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RadioContainer</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RadioContainer</span> <span class="variable">rc</span> <span class="operator">=</span> (RadioContainer) findComponentById(ResourceTable.Id_rc);</span><br><span class="line">rc.setMarkChangedListener(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">//当按钮组里面的按钮状态发生改变的时候，就会触发下面的方法</span></span><br><span class="line"><span class="comment">//参数一：单选框按钮组的对象</span></span><br><span class="line"><span class="comment">//参数二：索引，表示当前状态改变的是该按钮组中第几个按钮</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCheckedChanged</span><span class="params">(RadioContainer radioContainer, <span class="type">int</span> i)</span> &#123;</span><br><span class="line"><span class="type">RadioButton</span> <span class="variable">rb</span> <span class="operator">=</span> (RadioButton) radioContainer.getComponentAt(i);</span><br><span class="line"><span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> rb.getText();</span><br><span class="line"><span class="keyword">if</span>(rb.isChecked())&#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,text + <span class="string">&quot;被选中了&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,text + <span class="string">&quot;被取消选中了&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Switch组件"><a href="#Switch组件" class="headerlink" title="Switch组件"></a>Switch组件</h3><blockquote><p>滑道背景 ohos:track_element=”#FF0000” </p><p>滑块颜色 ohos:thumb_element=”#07C160”</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924192225391.png" alt="image-20220924192225391"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Switch</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:choose&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;40vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;100vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_state_on</span>=<span class="string">&quot;开&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_state_off</span>=<span class="string">&quot;关&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_size</span>=<span class="string">&quot;20vp&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><p>监听状态改变：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">AbsButton</span>.CheckedStateChangedListener</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Switch</span> <span class="variable">choose</span> <span class="operator">=</span> (Switch) findComponentById(ResourceTable.Id_choose);</span><br><span class="line">choose.setCheckedStateChangedListener(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">//当开关组件状态发生改变的时候，那么就会调用这个方法</span></span><br><span class="line"><span class="comment">//参数一：表示状态改变的那个开关组件</span></span><br><span class="line"><span class="comment">//参数二：表示组件当前的状态</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCheckedChanged</span><span class="params">(AbsButton absButton, <span class="type">boolean</span> b)</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(b)&#123;</span><br><span class="line"><span class="comment">//ToastUtils.showDialog(this,&quot;开关开启了&quot;);</span></span><br><span class="line"><span class="comment">//可以打开某个设置</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//ToastUtils.showDialog(this,&quot;开关关闭了&quot;);</span></span><br><span class="line"><span class="comment">//可以关闭某个设置</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Slider滑块组件"><a href="#Slider滑块组件" class="headerlink" title="Slider滑块组件"></a>Slider滑块组件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Slider</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;50vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">进度颜色</span>，<span class="attr">左边的</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:progress_color</span>=<span class="string">&quot;#FF0000&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">滑块颜色</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:thumb_element</span>=<span class="string">&quot;#00FF00&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">未完成进度颜色</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:background_instruct_element</span>=<span class="string">&quot;#0000FF&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">次一级的进度值</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:vice_progress</span>=<span class="string">&quot;80&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">次一级的进度颜色</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:vice_progress_element</span>=<span class="string">&quot;#923456&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">是否允许用户操作滑块</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">max</span> = <span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">min</span> = <span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924192533960.png" alt="image-20220924192533960"></p><p>事件：ValueChangedListener（值改变事件）</p><p>接口中的方法：</p><p>①：onProgressUpdated（参数一，参数二，参数三） 当滑块组件中的值改变的时候，调用该方法。 </p><blockquote><p>参数一：滑块对象 </p><p>参数二：当前进度值 </p><p>参数三：当前滑块组件是否可以调节进度</p></blockquote><p>②：onTouchStart 按上滑块的时候触发 </p><p>③：onTouchend 离开滑块的时候触发</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">Slider</span>.ValueChangedListener</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Slider</span> <span class="variable">slider</span> <span class="operator">=</span> (Slider) findComponentById(ResourceTable.Id_slider);</span><br><span class="line">slider.setValueChangedListener(<span class="built_in">this</span>);</span><br><span class="line"><span class="comment">//当滑块组件中的进度值改变的时候，就会调用这个方法</span></span><br><span class="line"><span class="comment">//参数一：滑块组件对象</span></span><br><span class="line"><span class="comment">//参数二：当前的进度值</span></span><br><span class="line"><span class="comment">//参数三：当前滑块是否可以被滑动</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onProgressUpdated</span><span class="params">(Slider slider, <span class="type">int</span> i, <span class="type">boolean</span> b)</span> &#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,<span class="string">&quot;当前的进度值为：&quot;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当用户用鼠标或者用手指</span></span><br><span class="line"><span class="comment">//按下滑块不松的时候，会调用该方法</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onTouchStart</span><span class="params">(Slider slider)</span> &#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,<span class="string">&quot;按下不松&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//松开滑块的时候，会调用该方法。</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onTouchEnd</span><span class="params">(Slider slider)</span> &#123;</span><br><span class="line">ToastUtils.showDialog(<span class="built_in">this</span>,<span class="string">&quot;松开&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ListContainer"><a href="#ListContainer" class="headerlink" title="ListContainer"></a>ListContainer</h3><p>ListContainer是一个列表容器类组件。在这里的每一行，我们都可以看做是一个item。如下图所示，包裹了所有 item的红色的容器，就是ListContainer</p><blockquote><p>注意细节： </p><p>① 每一行其实就是一个独立的item。</p><p> ② 在屏幕的上面和下面，还有很多没有展示出来的item。 当我们用手指往上滑动的时候，就可以到下面的item。 当我们用手指往下滑动的时候，就可以到上面的item。 只不过划出屏幕的item会被销毁，而没有划入屏幕的item 还没有创建出来。 </p><p>③ 如果item过多，在内存会有垃圾。这个问题下面学习。</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924193634671.png" alt="image-20220924193634671"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ListContainer</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:listcontainer&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:layout_alignment</span>=<span class="string">&quot;horizontal_center&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>实现步骤： </p><ol><li>给item去指定一个布局xml文件 </li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DirectionalLayout</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:ohos</span>=<span class="string">&quot;http://schemas.huawei.com/res/ohos&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:text&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text</span>=<span class="string">&quot;00:00&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:text_size</span>=<span class="string">&quot;20fp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">DirectionalLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>书写一个javabean类表示item </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Item</span> &#123;</span><br><span class="line"><span class="comment">//记录的值就是赋值给item里面的text</span></span><br><span class="line"><span class="keyword">private</span> String text;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Item</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Item</span><span class="params">(String text)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.text = text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getText</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setText</span><span class="params">(String text)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.text = text;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>写一个适配器类去管理item </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.listcontainerdemo1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> com.roydon.listcontainerdemo1.bean.Item;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.ability.AbilitySlice;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ItemProvider</span> <span class="keyword">extends</span> <span class="title class_">BaseItemProvider</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Item&gt; list;</span><br><span class="line">    <span class="keyword">private</span> AbilitySlice as;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ItemProvider</span><span class="params">(ArrayList&lt;Item&gt; list, AbilitySlice as)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.list = list;</span><br><span class="line">        <span class="built_in">this</span>.as = as;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;Item&gt; <span class="title function_">getList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setList</span><span class="params">(ArrayList&lt;Item&gt; list)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> AbilitySlice <span class="title function_">getAs</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> as;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAs</span><span class="params">(AbilitySlice as)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.as = as;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> list.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getItem</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (list != <span class="literal">null</span> &amp;&amp; i &gt;= <span class="number">0</span> &amp;&amp; i &lt; list.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> list.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getItemId</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Component <span class="title function_">getComponent</span><span class="params">(<span class="type">int</span> i, Component component, ComponentContainer componentContainer)</span> &#123;</span><br><span class="line">        DirectionalLayout dl;</span><br><span class="line">        <span class="keyword">if</span> (component != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 优化</span></span><br><span class="line">            dl = (DirectionalLayout) component;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dl = (DirectionalLayout) LayoutScatter.getInstance(as).parse(ResourceTable.Layout_list_item, <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Text</span> <span class="variable">text</span> <span class="operator">=</span> (Text) dl.findComponentById(ResourceTable.Id_text);</span><br><span class="line">        text.setText(list.get(i).getText());</span><br><span class="line">        <span class="keyword">return</span> dl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>将适配器交给ListContainer</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.roydon.listcontainerdemo1.ResourceTable;</span><br><span class="line"><span class="keyword">import</span> com.roydon.listcontainerdemo1.bean.Item;</span><br><span class="line"><span class="keyword">import</span> com.roydon.listcontainerdemo1.provider.ItemProvider;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.ability.AbilitySlice;</span><br><span class="line"><span class="keyword">import</span> ohos.aafwk.content.Intent;</span><br><span class="line"><span class="keyword">import</span> ohos.agp.components.ListContainer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onStart</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onStart(intent);</span><br><span class="line">        <span class="built_in">super</span>.setUIContent(ResourceTable.Layout_ability_main);</span><br><span class="line"></span><br><span class="line">        <span class="type">ListContainer</span> <span class="variable">listContainer</span> <span class="operator">=</span> (ListContainer) findComponentById(ResourceTable.Id_listContainer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.数据传给item视图</span></span><br><span class="line">        <span class="type">ItemProvider</span> <span class="variable">itemProvider</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ItemProvider</span>(getData(), <span class="built_in">this</span>);</span><br><span class="line">        <span class="comment">//2.item视图传到ListContainer</span></span><br><span class="line">        listContainer.setItemProvider(itemProvider);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onActive</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onForeground</span><span class="params">(Intent intent)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onForeground(intent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;Item&gt; <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;Item&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">Item</span>(<span class="string">&quot;item--&gt;&quot;</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>案例：微信消息</p><h3 id="Picker"><a href="#Picker" class="headerlink" title="Picker"></a>Picker</h3><p>picker是滑动选择器组件。在一些app中选择地址的时候会用到，但是一般是三个picker选择器组合在一起使用。 如图所示：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220924202616824.png" alt="image-20220924202616824"></p><p>案例：选择今天星期几</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Picker</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:id</span>=<span class="string">&quot;$+id:picker&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:width</span>=<span class="string">&quot;100vp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:max_value</span>=<span class="string">&quot;6&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:min_value</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:normal_text_color</span>=<span class="string">&quot;#21a8fd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:normal_text_size</span>=<span class="string">&quot;20fp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:selected_text_color</span>=<span class="string">&quot;#FF0000&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:selected_text_size</span>=<span class="string">&quot;20fp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:shader_color</span>=<span class="string">&quot;pink&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:value</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Picker</span> <span class="variable">picker</span> <span class="operator">=</span> (Picker) findComponentById(ResourceTable.Id_picker);</span><br><span class="line"><span class="comment">//把要展示的内容全部放在集合中</span></span><br><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;星期一&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期二&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期三&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期四&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期五&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期六&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;星期日&quot;</span>);</span><br><span class="line"><span class="comment">//设置内容</span></span><br><span class="line">picker.setFormatter(list::get)</span><br></pre></td></tr></table></figure><p>Picker联动时</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">Picker</span>.ValueChangedListener</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数一：表示当前数据变动的那个滑动选择器对象</span></span><br><span class="line"><span class="comment">//参数二：表示旧值 (原来选中的值)</span></span><br><span class="line"><span class="comment">//参数三：表示新值（现在选中的值）</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onValueChanged</span><span class="params">(Picker picker, <span class="type">int</span> oldValue, <span class="type">int</span> newValue)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (picker == province) &#123;</span><br><span class="line">     <span class="type">Province</span> <span class="variable">chooseProvince</span> <span class="operator">=</span> provinceList.get(newValue);<span class="comment">//获取当前省份</span></span><br><span class="line">        </span><br><span class="line">        city.setMaxValue(chooseProvince.getList().size() - <span class="number">1</span>);</span><br><span class="line">        city.setFormatter(i -&gt; chooseProvince.getList().get(i));</span><br><span class="line">        city.setValue(<span class="number">0</span>);<span class="comment">//当前面更换省份的时候，中间的城市需要从第一个开始展示</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>案例：省市区三级联动</p><hr><h3 id="DatePicker和TimePicker"><a href="#DatePicker和TimePicker" class="headerlink" title="DatePicker和TimePicker"></a>DatePicker和TimePicker</h3><p> DatePicker和TimePicker都是时间选择器。</p><blockquote><p>DatePicker：表示年月日 </p><p>TimePicker：表示时分秒</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DatePicker</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:datepicker&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:normal_text_size</span>=<span class="string">&quot;20fp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:selected_text_size</span>=<span class="string">&quot;20fp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TimePicker</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:id</span>=<span class="string">&quot;$+id:timepicker&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:height</span>=<span class="string">&quot;match_content&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:width</span>=<span class="string">&quot;300vp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:normal_text_size</span>=<span class="string">&quot;20fp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">ohos:selected_text_size</span>=<span class="string">&quot;20fp&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>DatePicker监听：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainAbilitySlice</span> <span class="keyword">extends</span> <span class="title class_">AbilitySlice</span> <span class="keyword">implements</span> <span class="title class_">DatePicker</span>.ValueChangedListener</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DatePicker</span> <span class="variable">datePicker</span> <span class="operator">=</span> (DatePicker) findComponentById(ResourceTable.Id_datepicker);</span><br><span class="line">datePicker.setValueChangedListener(<span class="built_in">this</span>);</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onValueChanged</span><span class="params">(DatePicker datePicker, <span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">text.setText(year + <span class="string">&quot;年&quot;</span> + month + <span class="string">&quot;月&quot;</span> + day + <span class="string">&quot;日&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TimePicker监听：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TimePicker</span> <span class="variable">timePicker</span> <span class="operator">=</span> (TimePicker) findComponentById(ResourceTable.Id_timepicker);</span><br><span class="line">timePicker.setTimeChangedListener(<span class="keyword">new</span> <span class="title class_">TimePicker</span>.TimeChangedListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onTimeChanged</span><span class="params">(TimePicker timePicker, <span class="type">int</span> hour, <span class="type">int</span> minutes, <span class="type">int</span> second)</span> &#123;</span><br><span class="line">text.setText(<span class="string">&quot;时间为:&quot;</span> + hour + minutes + second);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h1 id="美化组件"><a href="#美化组件" class="headerlink" title="美化组件"></a>美化组件</h1><ul><li><p>美化外形 </p><ul><li>组件外形（方形，圆角，胶囊形，圆形）</li><li>组件边框（颜色，粗细） 背景颜色（有色号就行）</li><li>背景渐变（线形或者辐射形） </li></ul></li><li><p>美化状态 </p><p>组件在不同状态时显示不同的样式。 </p><p>暂时掌握三中状态： </p><ul><li>默认状态 （所有组件都有默认状态）</li><li>按下状态 （组件按下不松时的状态） </li><li>选中状态 （开关组件，多选按钮，单选按钮的开启状态）</li></ul></li></ul><h2 id="shape标签"><a href="#shape标签" class="headerlink" title="shape标签"></a>shape标签</h2><p>在graphic包中新建xml，根标签为：shape就可以自定义组件的形状。</p><p>根标签：shape</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:ohos</span>=<span class="string">&quot;http://schemas.huawei.com/res/ohos&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">ohos:shape</span>=<span class="string">&quot;rectangle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">solid</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:color</span>=<span class="string">&quot;#FFFFFF&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">corners</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ohos:radius</span>=<span class="string">&quot;15vp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>根标签包含一个属性：shape —&gt; ohos:shape=”rectangle”</p><p>常用值： 1. rectangle：长方形 2. oval：椭圆 </p><p>根标签包含五个子标签：</p><p>① stroke：绘制边框 </p><ul><li>属性： <ul><li>宽度，颜色 </li></ul></li></ul><p>② corners：圆角 </p><ul><li><p>属性： </p><ul><li><p>radius半径 (主要)</p></li><li><p>left_top_x、left_top_y 左上</p></li><li><p>right_top_x、right_top_y 右上 </p></li><li>left_bottom_x、left_bottom_y 左下 </li><li>right_bottom_x、right_bottom_y 右下 </li></ul></li></ul><p>③ solid：背景填充 </p><ul><li>属性： <ul><li>color 只能指定一个颜色 </li><li>colors 可以指定多个颜色，渐变。 </li></ul></li></ul><p>④ bounds：边框 可以单独设置上下左右的边框。 </p><p>⑤ gradient：渐变 </p><ul><li>属性： <ul><li>shader_type：类型 —- radial（辐射） linear（线性）</li></ul></li></ul></blockquote><hr><h2 id="state-container标签"><a href="#state-container标签" class="headerlink" title="state-container标签"></a>state-container标签</h2><p>在graphic包中新建xml，根标签为：state-container ，就可以在不同状态下美化组件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">state-container</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:ohos</span>=<span class="string">&quot;http://schemas.huawei.com/res/ohos&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    /按下</span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">ohos:state</span>=<span class="string">&quot;component_state_pressed&quot;</span> <span class="attr">ohos:element</span>=<span class="string">&quot;#000000&quot;</span>/&gt;</span></span><br><span class="line">    //打开状态</span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">ohos:state</span>=<span class="string">&quot;component_state_checked&quot;</span> <span class="attr">ohos:element</span>=<span class="string">&quot;#FF0000&quot;</span>/&gt;</span></span><br><span class="line">    //默认状态：要写在最下面</span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">ohos:state</span>=<span class="string">&quot;component_state_empty&quot;</span> <span class="attr">ohos:element</span>=<span class="string">&quot;#21a8f6&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">state-container</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>默认状态： component_state_empty （必须要写在最下面）</li><li>按下不松的状态： component_state_pressed </li><li>打开状态： component_state_checked</li></ul><blockquote><p>element中可以写指定的色号，也可以指定根标签为shape的xml文件，也可以指定固定的图片。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> harmony2.0 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HUAWEI </tag>
            
            <tag> harmony2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatis-Plus之mapper Crud</title>
      <link href="/posts/Mybatis-Plus.html"/>
      <url>/posts/Mybatis-Plus.html</url>
      
        <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><ul><li><p>官网：<a href="https://baomidou.com">https://baomidou.com</a></p></li><li><p>研发团队：苞米豆</p></li><li><p>github地址：<a href="https://github.com/baomidou/mybatis-plus">https://github.com/baomidou/mybatis-plus</a></p></li></ul><hr><p><a href="https://github.com/baomidou/mybatis-plus">MyBatis-Plus</a>（简称 MP）是一个 <a href="https://www.mybatis.org/mybatis-3/">MyBatis</a>的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/dd133a90fdfb4f089d79ca0f1efbf3d3.png#pic_center" alt="1"></p><p>小蓝鸟代表Mybatis，小红鸟代表MP，就像魂斗罗两兄弟，基友搭配，效率翻倍。</p><h2 id="特性（来自官网）"><a href="#特性（来自官网）" class="headerlink" title="特性（来自官网）"></a>特性（来自官网）</h2><ul><li><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li><li><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li><li><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li><li><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li><li><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li><li><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li><li><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li><li><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li><li><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li><li><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li><li><strong>内置性能分析插件</strong>：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li><li><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li></ul><h2 id="支持的数据库"><a href="#支持的数据库" class="headerlink" title="支持的数据库"></a>支持的数据库</h2><p>常用的如MySQL，Oracle，DB2，SQLite等等。</p><h2 id="框架结构"><a href="#框架结构" class="headerlink" title="框架结构"></a>框架结构</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/62119f84515e41acb6bfdefd8cec15e3.jpeg#pic_center" alt="2"></p><h1 id="mapper-CRUD接口"><a href="#mapper-CRUD接口" class="headerlink" title="mapper CRUD接口"></a>mapper CRUD接口</h1><h2 id="引入MP依赖"><a href="#引入MP依赖" class="headerlink" title="引入MP依赖"></a>引入<code>MP</code>依赖</h2><p>新建springboot项目，引入依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>roydon.xyz<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Mybatis-Plus-Demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Mybatis-Plus-Demo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Mybatis-Plus-Demo<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mysql--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis-plus--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ali数据库连接池--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="yml配置文件"><a href="#yml配置文件" class="headerlink" title="yml配置文件"></a>yml配置文件</h2><p>yml配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis-plus-first?serverTimezone=GMT%2b8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">qwer1234</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span> <span class="comment"># id自增长配置，不用再每个实体每个主键单独配置。</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span> <span class="comment">#sql日志打印</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span>  <span class="comment">#自定义方法映射的sqlmapper文件路径</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">roydon.xyz.mybatisplusdemo.entity</span></span><br></pre></td></tr></table></figure><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>新建数据库文件：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7577d4e1b49b43ca9c32534f4c3fd4d9.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_user` (</span><br><span class="line">  `id` <span class="type">bigint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  `user_name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  `age` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">  `email` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><p>导入数据：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;18&#x27;</span>, <span class="string">&#x27;test1@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;test2@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;28&#x27;</span>, <span class="string">&#x27;test3@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;zhaoliu&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;赵六&#x27;</span>, <span class="string">&#x27;21&#x27;</span>, <span class="string">&#x27;test4@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;sunqi&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;孙七&#x27;</span>, <span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;test5@itcast.cn&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="实体类User"><a href="#实体类User" class="headerlink" title="实体类User"></a>实体类User</h2><p>项目新建实体类<code>User</code>：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/286b82e16e0a44d0aa80031cc1abdba9.png#pic_center" alt="在这里插入图片描述"></p><p>注意下方注解用法：</p><ul><li>@Data<br>@AllArgsConstructor<br>@NoArgsConstructor // 简化set，get</li><li>@TableName(“tb_user”) // 指定表名</li><li>@TableField // 下方已给出作用</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> roydon.xyz.mybatisplusdemo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Intellij IDEA</span></span><br><span class="line"><span class="comment"> * Author: yi cheng</span></span><br><span class="line"><span class="comment"> * Date: 2022/9/21</span></span><br><span class="line"><span class="comment"> * Time: 20:14</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@TableName(&quot;tb_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @TableId(type = IdType.AUTO) // 主键自增长</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(select = false)</span> <span class="comment">// 忽略查询，查询结果无此字段</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(value = &quot;name&quot;)</span> <span class="comment">// 指定数据库字段</span></span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span> <span class="comment">// 数据库是否存在此字段，关联查询时用到</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="UserMapper"><a href="#UserMapper" class="headerlink" title="UserMapper"></a>UserMapper</h2><p>新建<code>UserMapper</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> roydon.xyz.mybatisplusdemo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> roydon.xyz.mybatisplusdemo.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Intellij IDEA</span></span><br><span class="line"><span class="comment"> * Author: yi cheng</span></span><br><span class="line"><span class="comment"> * Date: 2022/9/21</span></span><br><span class="line"><span class="comment"> * Time: 20:18</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="comment">// 通过继承BaseMapper就可以获取到各种各样的单表操作</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可自定义方法，sql语句需写在resources对应的mapper下</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过继承BaseMapper就可以获取到各种各样的单表操作，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="comment">// (powered by FernFlower decompiler)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.baomidou.mybatisplus.core.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.Wrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BaseMapper</span>&lt;T&gt; <span class="keyword">extends</span> <span class="title class_">Mapper</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">insert</span><span class="params">(T entity)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteByMap</span><span class="params">(<span class="meta">@Param(&quot;cm&quot;)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">delete</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; wrapper)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteBatchIds</span><span class="params">(<span class="meta">@Param(&quot;coll&quot;)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateById</span><span class="params">(<span class="meta">@Param(&quot;et&quot;)</span> T entity)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">update</span><span class="params">(<span class="meta">@Param(&quot;et&quot;)</span> T entity, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">selectById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectBatchIds</span><span class="params">(<span class="meta">@Param(&quot;coll&quot;)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectByMap</span><span class="params">(<span class="meta">@Param(&quot;cm&quot;)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">selectOne</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    Integer <span class="title function_">selectCount</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectList</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectMaps</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Object&gt; <span class="title function_">selectObjs</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    IPage&lt;T&gt; <span class="title function_">selectPage</span><span class="params">(IPage&lt;T&gt; page, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    IPage&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectMapsPage</span><span class="params">(IPage&lt;T&gt; page, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="UserMapper-xml"><a href="#UserMapper-xml" class="headerlink" title="UserMapper.xml"></a>UserMapper.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--namespace：命名空间，指向的就是对应接口的全限定名--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;roydon.xyz.mybatisplusdemo.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select *</span><br><span class="line">        from tb_user</span><br><span class="line">        where id = #&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="MybatisPlusConfig"><a href="#MybatisPlusConfig" class="headerlink" title="MybatisPlusConfig"></a>MybatisPlusConfig</h2><p>新建<code>MP</code>配置文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> roydon.xyz.mybatisplusdemo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Intellij IDEA</span></span><br><span class="line"><span class="comment"> * Author: yi cheng</span></span><br><span class="line"><span class="comment"> * Date: 2022/9/21</span></span><br><span class="line"><span class="comment"> * Time: 20:49</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;roydon/xyz/mybatisplusdemo/mapper&quot;)</span> <span class="comment">// 扫描mapper包</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * page分页插件，分页查询使用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PaginationInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PaginationInterceptor</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> roydon.xyz.mybatisplusdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> roydon.xyz.mybatisplusdemo.entity.User;</span><br><span class="line"><span class="keyword">import</span> roydon.xyz.mybatisplusdemo.mapper.UserMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MybatisPlusDemoApplicationTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * select---------------------------------------------------------------</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 根据 ID 查询</span></span><br><span class="line">        userMapper.selectById(<span class="number">2L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectOne</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>); <span class="comment">//查询条件</span></span><br><span class="line">        <span class="comment">// 根据 entity 条件，查询一条记录。查询的数据超过一条时，会抛出异常(例如：wrapper.eq(&quot;password&quot;, &quot;123456&quot;);)</span></span><br><span class="line">        userMapper.selectOne(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testSelectBatchIds</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 查询（根据ID 批量查询），返回 List&lt;User&gt; 集合，若ID 不存在像100L，那么只会查出存在的ID</span></span><br><span class="line">        userMapper.selectBatchIds(Arrays.asList(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">3L</span>));</span><br><span class="line"><span class="comment">//        userMapper.selectBatchIds(Arrays.asList(1L, 2L, 3L,100L)); // 只会查出1，2，3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//设置查询条件</span></span><br><span class="line">        wrapper.like(<span class="string">&quot;email&quot;</span>, <span class="string">&quot;itcast&quot;</span>);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectByMap</span><span class="params">()</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="comment">// 查询（根据 columnMap 条件）</span></span><br><span class="line">        userMapper.selectByMap(map);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectPage</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        IPage&lt;User&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">0</span>, <span class="number">2</span>); <span class="comment">// 第一页，两条数据</span></span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.like(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">        userMapper.selectPage(page, queryWrapper);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;数据总条数&quot;</span> + page.getTotal());</span><br><span class="line">        System.out.println(<span class="string">&quot;数据总页数&quot;</span> + page.getPages());</span><br><span class="line">        System.out.println(<span class="string">&quot;当前页数&quot;</span> + page.getCurrent()); <span class="comment">// getRecords为数据list</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectCount</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.gt(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>); <span class="comment">// 条件：年龄大于20岁的用户</span></span><br><span class="line">        <span class="comment">// 根据 Wrapper 条件，查询总记录数，返回整数类型</span></span><br><span class="line">        userMapper.selectCount(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * update---------------------------------------------------------</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 根据 ID 修改，返回整型，表示影响的行数</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">1L</span>); <span class="comment">//条件，根据id更新</span></span><br><span class="line">        user.setAge(<span class="number">19</span>); <span class="comment">//更新的字段</span></span><br><span class="line">        user.setPassword(<span class="string">&quot;666666&quot;</span>);</span><br><span class="line"></span><br><span class="line">        userMapper.updateById(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setAge(<span class="number">20</span>); <span class="comment">//更新的字段</span></span><br><span class="line">        user.setPassword(<span class="string">&quot;8888888&quot;</span>);</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>); <span class="comment">//匹配 user_name = zhangsan 的用户数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据 whereWrapper 条件，更新记录</span></span><br><span class="line">        userMapper.update(user, wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate2</span><span class="params">()</span> &#123;</span><br><span class="line">        UpdateWrapper&lt;User&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;&gt;();</span><br><span class="line">        updateWrapper.set(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>).set(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;999999&quot;</span>) <span class="comment">//更新的字段</span></span><br><span class="line">                .eq(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>); <span class="comment">//更新的条件</span></span><br><span class="line">        userMapper.update(<span class="literal">null</span>, updateWrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * insert--------------------------------------------------------</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setUserName(<span class="string">&quot;baomidou&quot;</span>);</span><br><span class="line">        user.setNickName(<span class="string">&quot;苞米豆&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        user.setAge(<span class="number">30</span>);</span><br><span class="line">        user.setEmail(<span class="string">&quot;insert@itcast.cn&quot;</span>);</span><br><span class="line">        user.setAddress(<span class="string">&quot;北京&quot;</span>);</span><br><span class="line">        userMapper.insert(user); <span class="comment">//result数据库受影响的行数</span></span><br><span class="line">        <span class="comment">//获取自增长后的id值, 自增长后的id值会回填到user对象中</span></span><br><span class="line">        System.out.println(<span class="string">&quot;id =&gt; &quot;</span> + user.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * delete---------------------------------------------------------</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDelete</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//用法一：</span></span><br><span class="line"><span class="comment">//        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();</span></span><br><span class="line"><span class="comment">//        wrapper.eq(&quot;user_name&quot;, &quot;baomidou&quot;)</span></span><br><span class="line"><span class="comment">//                .eq(&quot;password&quot;, &quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//用法二：</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setUserName(<span class="string">&quot;baomidou&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;(user);</span><br><span class="line">        <span class="comment">// 根据包装条件做删除</span></span><br><span class="line">        userMapper.delete(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 根据id删除数据</span></span><br><span class="line">        userMapper.deleteById(<span class="number">5L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteByMap</span><span class="params">()</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据map删除数据，多条件之间是and关系</span></span><br><span class="line">        userMapper.deleteByMap(map);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteBatchIds</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 根据id批量删除数据</span></span><br><span class="line">        userMapper.deleteBatchIds(Arrays.asList(<span class="number">3L</span>, <span class="number">4L</span>));</span><br><span class="line"><span class="comment">//        userMapper.deleteBatchIds(Arrays.asList(3L, 4L,100L));</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自定义方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">selById</span><span class="params">()</span> &#123;</span><br><span class="line">        userMapper.getById(<span class="number">1L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自定义的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    @Test</span></span><br><span class="line"><span class="comment">//    public void testFindById()&#123;</span></span><br><span class="line"><span class="comment">//        User user = this.userMapper.findById(2L);</span></span><br><span class="line"><span class="comment">//        System.out.println(user);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAllEq</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Object&gt; params = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        params.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        params.put(<span class="string">&quot;age&quot;</span>, <span class="string">&quot;20&quot;</span>);</span><br><span class="line">        params.put(<span class="string">&quot;password&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE password IS NULL AND name = ? AND age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq(params);</span></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? AND age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq(params, false);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq((k, v) -&gt; (k.equals(&quot;age&quot;) || k.equals(&quot;id&quot;)) , params);</span></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? AND age = ?</span></span><br><span class="line">        wrapper.allEq((k, v) -&gt; (k.equals(<span class="string">&quot;age&quot;</span>) || k.equals(<span class="string">&quot;id&quot;</span>) || k.equals(<span class="string">&quot;name&quot;</span>)), params);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEq</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//SELECT id,user_name,password,name,age,email FROM tb_user WHERE password = ? AND age &gt;= ? AND name IN (?,?,?)</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">                .ge(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;李四&quot;</span>, <span class="string">&quot;王五&quot;</span>, <span class="string">&quot;赵六&quot;</span>);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLike</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name LIKE ?</span></span><br><span class="line">        <span class="comment">// 参数：%五(String)</span></span><br><span class="line">        wrapper.likeLeft(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;五&quot;</span>);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testOrderByAgeDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//按照年龄倒序排序</span></span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user ORDER BY age DESC</span></span><br><span class="line">        wrapper.orderByDesc(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testOr</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? OR age = ?</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;王五&quot;</span>).or().eq(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        userMapper.selectList(wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelect</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//SELECT id,name,age FROM tb_user WHERE name = ? OR age = ?</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;王五&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .eq(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>)</span><br><span class="line">                .select(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>); <span class="comment">//指定查询的字段</span></span><br><span class="line">userMapper.selectList(wrapper);</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="条件构造器"><a href="#条件构造器" class="headerlink" title="条件构造器"></a>条件构造器</h1><p>指路—&gt;官方文档：<a href="https://baomidou.com/pages/10c804/#abstractwrapper">https://baomidou.com/pages/10c804/#abstractwrapper</a></p><h2 id="allEq"><a href="#allEq" class="headerlink" title="allEq"></a>allEq</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">allEq(Map&lt;R, V&gt; params)</span><br><span class="line">allEq(Map&lt;R, V&gt; params, <span class="type">boolean</span> null2IsNull)</span><br><span class="line">allEq(<span class="type">boolean</span> condition, Map&lt;R, V&gt; params, <span class="type">boolean</span> null2IsNull)</span><br></pre></td></tr></table></figure><ul><li>全部<a href="https://baomidou.com/pages/10c804/#eq">eq</a>(或个别<a href="https://baomidou.com/pages/10c804/#isnull">isNull</a>)</li></ul><blockquote><p>个别参数说明:</p><p><code>params</code> : <code>key</code>为数据库字段名,<code>value</code>为字段值<br><code>null2IsNull</code> : 为<code>true</code>则在<code>map</code>的<code>value</code>为<code>null</code>时调用 <a href="https://baomidou.com/pages/10c804/#isnull">isNull</a> 方法,为<code>false</code>时则忽略<code>value</code>为<code>null</code>的</p></blockquote><ul><li>例1: <code>allEq(&#123;id:1,name:&quot;老王&quot;,age:null&#125;)</code>—-&gt;<code>id = 1 and name = &#39;老王&#39; and age is null</code></li><li>例2: <code>allEq(&#123;id:1,name:&quot;老王&quot;,age:null&#125;, false)</code>—-&gt;<code>id = 1 and name = &#39;老王&#39;</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">allEq(BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params)</span><br><span class="line">allEq(BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params, <span class="type">boolean</span> null2IsNull)</span><br><span class="line">allEq(<span class="type">boolean</span> condition, BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params, <span class="type">boolean</span> null2IsNull) </span><br></pre></td></tr></table></figure><blockquote><p>个别参数说明:</p><p><code>filter</code> : 过滤函数,是否允许字段传入比对条件中<br><code>params</code> 与 <code>null2IsNull</code> : 同上</p></blockquote><ul><li>例1: <code>allEq((k,v) -&gt; k.indexOf(&quot;a&quot;) &gt;= 0, &#123;id:1,name:&quot;老王&quot;,age:null&#125;)</code>—-&gt;<code>name = &#39;老王&#39; and age is null</code></li><li>例2: <code>allEq((k,v) -&gt; k.indexOf(&quot;a&quot;) &gt;= 0, &#123;id:1,name:&quot;老王&quot;,age:null&#125;, false)</code>—-&gt;<code>name = &#39;老王&#39;</code></li></ul><hr><h2 id="基本比较操作"><a href="#基本比较操作" class="headerlink" title="基本比较操作"></a>基本比较操作</h2><ul><li><p>eq</p><blockquote><p>等于 = </p></blockquote></li><li><p>ne </p><blockquote><p>不等于 &lt;&gt; </p></blockquote></li><li><p>gt </p><blockquote><p>大于 &gt; </p></blockquote></li><li><p>ge </p><blockquote><p>大于等于 &gt;=</p></blockquote></li><li><p>lt </p><blockquote><p>小于 &lt; </p></blockquote></li><li><p>le </p><blockquote><p>小于等于 &lt;= </p></blockquote></li><li><p>between </p><blockquote><p>BETWEEN 值1 AND 值2 </p></blockquote></li><li><p>notBetween </p><blockquote><p>NOT BETWEEN 值1 AND 值2 </p></blockquote></li><li><p>in </p><blockquote><p>字段 IN (value.get(0), value.get(1), …)</p></blockquote></li><li><p>notIn </p><blockquote><p>字段 NOT IN (v0, v1, …)</p></blockquote></li></ul><h2 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h2><ul><li>like </li></ul><blockquote><p>LIKE ‘%值%’ </p><p>例: like(“name”, “王”) —-&gt; name like ‘%王%’ </p></blockquote><ul><li><p>notLike </p><blockquote><p>NOT LIKE ‘%值%’</p><p>例: notLike(“name”, “王”) —-&gt; name not like ‘%王%’ </p></blockquote></li><li><p>likeLeft </p><blockquote><p>LIKE ‘%值’ </p><p>例: likeLeft(“name”, “王”) —-&gt; name like ‘%王’ </p></blockquote></li><li><p>likeRight </p><blockquote><p>LIKE ‘值%’ </p><p>例: likeRight(“name”, “王”) —-&gt; name like ‘王%’</p></blockquote></li></ul><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><ul><li>orderBy</li></ul><blockquote><p>例: orderBy(true, true, “id”, “name”) —-&gt; order by id ASC,name ASC</p></blockquote><ul><li>orderByAsc</li></ul><blockquote><p>例: orderByAsc(“id”, “name”) —-&gt; order by id ASC,name ASC</p></blockquote><ul><li>orderByDesc</li></ul><blockquote><p>例: orderByDesc(“id”, “name”) —-&gt; order by id DESC,name DES</p></blockquote><h2 id="逻辑查询"><a href="#逻辑查询" class="headerlink" title="逻辑查询"></a>逻辑查询</h2><ul><li>or</li></ul><blockquote><p>拼接 OR </p><p>主动调用 or 表示紧接着下一个方法不是用 and 连接!(不调用 or 则默认为使用 and 连接)</p></blockquote><ul><li>and</li></ul><blockquote><p>AND 嵌套 </p><p>例: and(i -&gt; i.eq(“name”, “李白”).ne(“status”, “活着”)) —-&gt; and (name = ‘李白’ and status &lt;&gt; ‘活着’)</p></blockquote><h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p>在MP查询中，默认查询所有的字段，如果有需要也可以通过select方法进行指定字段。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelect</span><span class="params">()</span> &#123;</span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//SELECT id,name,age FROM tb_user WHERE name = ? OR age = ?</span></span><br><span class="line">    wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;王五&quot;</span>)</span><br><span class="line">            .or()</span><br><span class="line">            .eq(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>)</span><br><span class="line">            .select(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>); <span class="comment">//指定查询的字段</span></span><br><span class="line">    userMapper.selectList(wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="代码生成器（新）"><a href="#代码生成器（新）" class="headerlink" title="代码生成器（新）"></a>代码生成器（新）</h1><p>Github—&gt;<a href="https://github.com/roydonGuo/Mybatis-Plus-Generator">https://github.com/roydonGuo/Mybatis-Plus-Generator</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> Mybatis-Plus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>26.删除有序数组中的重复项</title>
      <link href="/posts/26.html"/>
      <url>/posts/26.html</url>
      
        <content type="html"><![CDATA[<p>给你一个 升序排列 的数组 nums ，请你 原地 删除重复出现的元素，使每个元素 只出现一次 ，返回删除后数组的新长度。元素的 相对顺序 应该保持 一致 。</p><p>由于在某些语言中不能改变数组的长度，所以必须将结果放在数组nums的第一部分。更规范地说，如果在删除重复项之后有 k 个元素，那么 nums 的前 k 个元素应该保存最终结果。</p><p>将最终结果插入 nums 的前 k 个位置后返回 k 。</p><p>不要使用额外的空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。</p><p><strong>示例 1</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">输出：<span class="number">2</span>, nums = [<span class="number">1</span>,<span class="number">2</span>,_]</span><br><span class="line">解释：函数应该返回新的长度 <span class="number">2</span> ，并且原数组 nums 的前两个元素被修改为 <span class="number">1</span>, <span class="number">2</span> 。不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure><p><strong>示例 2</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">输出：<span class="number">5</span>, nums = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">解释：函数应该返回新的长度 <span class="number">5</span> ， 并且原数组 nums 的前五个元素被修改为 <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> 。不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure><p>双指针算法思路：<br><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">1</button></li><li class="tab"><button type="button" data-href="#$-2">2</button></li><li class="tab"><button type="button" data-href="#$-3">3</button></li><li class="tab"><button type="button" data-href="#$-4">4</button></li><li class="tab"><button type="button" data-href="#$-5">5</button></li><li class="tab"><button type="button" data-href="#$-6">6</button></li><li class="tab"><button type="button" data-href="#$-7">7</button></li><li class="tab"><button type="button" data-href="#$-8">8</button></li><li class="tab"><button type="button" data-href="#$-9">9</button></li><li class="tab"><button type="button" data-href="#$-10">10</button></li><li class="tab"><button type="button" data-href="#$-11">11</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/1.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/2.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-3"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/3.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-4"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/4.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-5"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/5.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-6"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/6.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-7"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/7.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-8"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/8.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-9"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/9.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-10"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/10.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-11"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/solution-static/26/11.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">思路</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeDuplicates</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>, q = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (q &lt; nums.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[p] != nums[q]) &#123;</span><br><span class="line">                nums[++p] = nums[q];</span><br><span class="line">            &#125;</span><br><span class="line">            q++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p>使用双指针；<br>q指向前面元素，p指向后面待比较元素。<br>每一次比较下来q都要自增，当两下标对应的元素不相等时，p会自增，并自增后的下标指向的元素赋值为q下标指向的元素。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><p>LeetCode地址—&gt;<a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/">26.删除有序数组中的重复项</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数组 </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>21.合并两个有序链表</title>
      <link href="/posts/21.html"/>
      <url>/posts/21.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>将两个升序链表合并为一个新的 <strong>升序</strong> 链表并返回。新链表是通过拼接给定的两个链表的所有节点组成的。</p></blockquote><p><strong>示例 1</strong>：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2020/10/03/merge_ex1.jpg" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>], l2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">输出：[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure><p><strong>示例 2</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [], l2 = []</span><br><span class="line">输出：[]</span><br></pre></td></tr></table></figure><p><strong>示例 3</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [], l2 = [<span class="number">0</span>]</span><br><span class="line">输出：[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><hr><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">C</button></li><li class="tab"><button type="button" data-href="#$-2">思路</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> ListNode* <span class="title function_">mergeTwoLists</span><span class="params">(<span class="keyword">struct</span> ListNode* list1, <span class="keyword">struct</span> ListNode* list2)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(list1==<span class="literal">NULL</span>) <span class="keyword">return</span> list2;</span><br><span class="line">    <span class="keyword">if</span>(list2==<span class="literal">NULL</span>) <span class="keyword">return</span> list1;</span><br><span class="line">    <span class="keyword">if</span>(list1-&gt;val &lt; list2-&gt;val)&#123;</span><br><span class="line">        list1-&gt;next = mergeTwoLists(list1-&gt;next,list2);</span><br><span class="line">        <span class="keyword">return</span> list1;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        list2-&gt;next = mergeTwoLists(list1,list2-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> list2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p>使用递归：<br>一直进行比较直到其中一个链表值为NULL，此为判断递归结束条件。<br>然后开始返回，是在原有链表的基础之上往后面拼接节点。<br>递归到最后一层才开始拼接链表。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/86c8ce53d2a91f3d710fdba825333be582a15bd661e9f05a10278bf558fbf1ef-1.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><p>LeetCode地址—&gt;<a href="https://leetcode.cn/problems/merge-two-sorted-lists/">21.合并两个有序链表</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ListNode </tag>
            
            <tag> 链表 </tag>
            
            <tag> 递归 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java面试-基础篇</title>
      <link href="/posts/b0faee08.html"/>
      <url>/posts/b0faee08.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong><em>基础篇要点分为三部分：1.算法、2.数据结构、3.基础设计模式(单例模式)</em></strong></p></blockquote><h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><p><strong>算法要求：</strong></p><blockquote><p>不但要掌握各个算法的含义，代码逻辑，更要能通过自己理解的角度对代码有一个清楚的认识，能使用自己的语言口述算法。</p></blockquote><h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><p><strong>算法描述：</strong></p><ol><li><p>前提：有<strong>已排序</strong>数组 A</p></li><li><p>定义左边界 L、右边界 R，确定搜索范围，循环执行二分查找（3、4两步）</p></li><li><p>获取中间索引 M = Floor((L+R) /2)</p></li><li><p>中间索引的值  A[M] 与待搜索的值 T 进行比较</p><p>① A[M] == T 表示找到，返回中间索引</p><p>② A[M] &gt; T，中间值右侧的其它元素都大于 T，无需比较，中间索引左边去找，<strong>M - 1 设置为右边界</strong>，重新查找</p><p>③ A[M] &lt; T，中间值左侧的其它元素都小于 T，无需比较，中间索引右边去找，<strong>M + 1 设置为左边界</strong>，重新查找</p></li><li><p>当 L &gt; R 时，表示没有找到，应结束循环</p></li></ol><p><strong>算法实现：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> t)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = a.length - <span class="number">1</span>, m;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        m = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[m] == t) &#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a[m] &gt; t) &#123;</span><br><span class="line">            r = m - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>其它考法</strong></p><ol><li><p>有一个有序表为 1,5,8,11,19,22,31,35,40,45,48,49,50 当二分查找值为 48 的结点时，查找成功需要比较的次数 </p></li><li><p>使用二分法在序列 1,4,6,7,15,33,39,50,64,78,75,81,89,96 中查找元素 81 时，需要经过（   ）次比较</p></li><li><p>在拥有128个元素的数组中二分查找一个数，需要比较的次数最多不超过多少次</p></li></ol><p>对于前两个题目，记得一个简要判断口诀：<strong>奇数二分取中间，偶数二分取中间靠左。</strong>对于后一道题目，需要知道公式：</p><p><code>n = [log2(N)] + 1;</code>(其中 2 为底数 n 为查找次数，N 为元素个数)</p><h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><p><strong>算法描述</strong></p><ol><li>依次比较数组中相邻两个元素大小，若 a[j] &gt; a[j+1]，则交换两个元素，两两都比较一遍称为一轮冒泡，结果是让最大的元素排至最后</li><li>重复以上步骤，直到整个数组有序</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.runoob.com/wp-content/uploads/2019/03/bubbleSort.gif" alt=""></p><p><strong>算法实现</strong></p><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">java优化</button></li><li class="tab"><button type="button" data-href="#$-3">C</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubble</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; a.length - <span class="number">1</span>; j++) &#123;</span><br><span class="line">        <span class="comment">// 一轮冒泡</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">swapped</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// 是否发生了交换</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length - <span class="number">1</span> - j; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;比较次数&quot;</span> + i);</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                Utils.swap(a, i, i + <span class="number">1</span>);<span class="comment">// 交换位置，大的往后排</span></span><br><span class="line">                swapped = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 第一轮冒泡下来，最大元素排到最后</span></span><br><span class="line">        System.out.println(<span class="string">&quot;第&quot;</span> + j + <span class="string">&quot;轮冒泡&quot;</span> + Arrays.toString(a));</span><br><span class="line">        <span class="keyword">if</span> (!swapped) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubble_v2</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> a.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 表示最后一次交换索引位置</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;比较次数&quot;</span> + i);</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                Utils.swap(a, i, i + <span class="number">1</span>);</span><br><span class="line">                last = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        n = last;</span><br><span class="line">        System.out.println(<span class="string">&quot;第轮冒泡&quot;</span> + Arrays.toString(a));</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-3"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">bubble_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span> &#123;</span><br><span class="line">    <span class="type">int</span> i, j, temp;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><p><strong>算法描述</strong></p><ol><li><p>将数组分为两个子集，排序的和未排序的，每一轮从未排序的子集中选出最小的元素，放入排序子集。简单来说，就是从后排选出最小的放前排之后。（需要一个索引指向最小值）</p></li><li><p>重复以上步骤，直到整个数组有序</p></li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.runoob.com/wp-content/uploads/2019/03/selectionSort.gif" alt=""></p><ul><li>优化点：为减少交换次数，每一轮可以先找最小的索引，在每轮最后再交换元素</li></ul><p><strong>算法实现</strong></p><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">C</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selection</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// i 代表每轮选择最小元素要交换到的目标索引</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> i; <span class="comment">// 代表最小元素的索引</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> s + <span class="number">1</span>; j &lt; a.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[s] &gt; a[j]) s = j; <span class="comment">// j 元素比 s 元素还要小, 更新 s    </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s != i) &#123;</span><br><span class="line">            swap(a, s, i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> *b)</span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">selection_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; len - <span class="number">1</span> ; i++)&#123;</span><br><span class="line">        <span class="type">int</span> min = i;</span><br><span class="line">        <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[min]) min = j;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(&amp;arr[min], &amp;arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>与冒泡排序比较</strong></p><ol><li><p>二者平均时间复杂度都是 $O(n^2)$</p></li><li><p>选择排序一般要快于冒泡，因为其交换次数少</p></li><li><p>但如果集合有序度高，冒泡优于选择</p></li><li><p>冒泡属于稳定排序算法，而选择属于不稳定排序</p><ul><li>稳定排序指，按对象中不同字段进行多次排序，不会打乱同值元素的顺序</li><li>不稳定排序则反之</li></ul></li></ol><h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><p><strong>算法描述</strong></p><ol><li><p>将数组分为两个区域，排序区域（前面为已排序区域）和未排序区域（后面为待排序区域），每一轮从未排序区域中取出第一个元素，插入到排序区域（需保证顺序）</p></li><li><p>重复以上步骤，直到整个数组有序</p></li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.runoob.com/wp-content/uploads/2019/03/insertionSort.gif" alt=""></p><p><strong>算法实现</strong></p><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">C</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改了代码与希尔排序一致</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> a[i]; <span class="comment">// 代表待插入的元素值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; <span class="comment">// 已排序部分最后元素的索引</span></span><br><span class="line">        System.out.println(j);</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; t &lt; a[j - <span class="number">1</span>]) &#123;</span><br><span class="line">            a[j] = a[j - <span class="number">1</span>]; <span class="comment">// j-1 是上一元素索引，若 &gt; t，后移</span></span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j != i) a[j] = t; <span class="comment">// 找到比 t 小的了，就插入在 j 这个位置</span></span><br><span class="line">        System.out.println(Arrays.toString(a) + <span class="string">&quot; &quot;</span> + j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insertion_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i,j,temp;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        temp = arr[i];</span><br><span class="line">        j=i<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>((j&gt;=<span class="number">0</span>) &amp;&amp; (arr[j]&gt;temp)) &#123;</span><br><span class="line">            arr[j+<span class="number">1</span>] = arr[j];</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[j+<span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>与选择排序比较</strong></p><ol><li><p>二者平均时间复杂度都是 $O(n^2)$</p></li><li><p>大部分情况下，插入都略优于选择。小数据量排序，都会优先选择插入排序</p></li><li><p>有序集合插入的时间复杂度为 $O(n)$</p></li><li><p>插入属于稳定排序算法，而选择属于不稳定排序</p></li></ol><h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h2><p><strong>算法描述</strong></p><ol><li><p>首先选取一个间隙序列，如 (n/2，n/4 … 1)，n 为数组长度</p></li><li><p>每一轮将间隙相等的元素视为一组，对组内元素进行插入排序，目的有二</p><p>① 少量元素插入排序速度很快</p><p>② 让组内值较大的元素更快地移动到后方</p></li><li><p>当间隙逐渐减少，直至为 1 时，即可完成排序</p></li></ol><iframe src="//player.bilibili.com/player.html?aid=94596268&bvid=BV1rE411g7rW&cid=161489004&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p><strong>算法实现</strong></p><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">C</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">shell</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">gap</span> <span class="operator">=</span> a.length / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap /= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> gap; i &lt; a.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> a[i]; <span class="comment">// 代表待插入的元素值</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt;= gap &amp;&amp; t &lt; a[j - gap]) &#123;</span><br><span class="line">                <span class="comment">// 每次与上一个间隙为 gap 的元素进行插入排序</span></span><br><span class="line">                a[j] = a[j - gap]; <span class="comment">// j-gap 是上一个元素索引，如果 &gt; t，后移</span></span><br><span class="line">                j -= gap;</span><br><span class="line">            &#125;</span><br><span class="line">            a[j] = t;</span><br><span class="line">            System.out.println(Arrays.toString(a) + <span class="string">&quot; gap:&quot;</span> + gap);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">shell_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span> &#123;</span><br><span class="line">    <span class="type">int</span> gap, i, j;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (gap = len &gt;&gt; <span class="number">1</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (i = gap; i &lt; len; i++) &#123;</span><br><span class="line">            temp = arr[i];</span><br><span class="line">            <span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j -= gap)</span><br><span class="line">                arr[j + gap] = arr[j];</span><br><span class="line">            arr[j + gap] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><p><strong>算法描述</strong></p><ol><li>每一轮排序选择一个基准点（pivot）进行分区<ul><li>让小于基准点的元素的进入一个分区，大于基准点的元素的进入另一个分区</li><li>当分区完成时，基准点元素的位置就是其最终位置</li></ul></li><li>在子分区内重复以上过程，直至子分区元素个数少于等于 1，这体现的是分而治之的思想</li><li>从以上描述可以看出，一个关键在于分区算法，常见的有洛穆托分区方案、双边循环分区方案、霍尔分区方案</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.runoob.com/wp-content/uploads/2019/03/quickSort.gif" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
            <tag> 算法 </tag>
            
            <tag> Java数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>20.有效的括号</title>
      <link href="/posts/20.html"/>
      <url>/posts/20.html</url>
      
        <content type="html"><![CDATA[<p>给定一个只包括 ‘(‘，’)’，’{‘，’}’，’[‘，’]’ 的字符串 s ，判断字符串是否有效。</p><p>有效字符串需满足：</p><blockquote><p>左括号必须用相同类型的右括号闭合。<br>左括号必须以正确的顺序闭合。<br>每个右括号都有一个对应的相同类型的左括号。</p></blockquote><p><strong>示例 1</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：s = <span class="string">&quot;()&quot;</span></span><br><span class="line">输出：<span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>示例 2</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：s = <span class="string">&quot;()[]&#123;&#125;&quot;</span></span><br><span class="line">输出：<span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：s = <span class="string">&quot;(]&quot;</span></span><br><span class="line">输出：<span class="literal">false</span></span><br></pre></td></tr></table></figure><hr><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">思路</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isVaild</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// 输入的 s 字符串长度为奇数或第一项是右括号直接 false</span></span><br><span class="line">        <span class="keyword">if</span> (s.length() % <span class="number">2</span> != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                stack.push(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;&#123;&#x27;</span>)</span><br><span class="line">                stack.push(<span class="string">&#x27;&#125;&#x27;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;[&#x27;</span>)</span><br><span class="line">                stack.push(<span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (stack.empty() || c != stack.pop())</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.empty();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p>巧法<br>forEach遍历每个字符;<br>如果存在左边括号;<br>则使用栈的方式存储对应的右边括号，成为待匹配的右括号，等待下一轮循环进来与 c 比较同时 pop();<br>（就巧在这次比较，如果 c 为右括号，执行<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (stack.empty() || c != stack.pop()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><br>最后若栈为空，则一定是正确的括号</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><p>LeetCode地址—&gt;<a href="https://leetcode.cn/problems/valid-parentheses/">20. 有效的括号</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>14.最长公共前缀</title>
      <link href="/posts/14.html"/>
      <url>/posts/14.html</url>
      
        <content type="html"><![CDATA[<p>编写一个函数来查找字符串数组中的最长公共前缀。<br>如果不存在公共前缀，返回空字符串 “”。</p><p><strong>示例 1</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：strs = [<span class="string">&quot;flower&quot;</span>,<span class="string">&quot;flow&quot;</span>,<span class="string">&quot;flight&quot;</span>]</span><br><span class="line">输出：<span class="string">&quot;fl&quot;</span></span><br></pre></td></tr></table></figure><p><strong>示例 2</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：strs = [<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;racecar&quot;</span>,<span class="string">&quot;car&quot;</span>]</span><br><span class="line">输出：<span class="string">&quot;&quot;</span></span><br><span class="line">解释：输入不存在公共前缀。</span><br></pre></td></tr></table></figure><hr><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1">java</button></li><li class="tab"><button type="button" data-href="#$-2">思路</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">longestCommonPrefixSolution</span><span class="params">(String[] strs)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (strs == <span class="literal">null</span> || strs.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> strs[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (index &lt; Math.min(str.length(), strs[i].length()) &amp;&amp; str.charAt(index) == strs[i].charAt(index)) &#123;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            str = str.substring(<span class="number">0</span>, index);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/04/Bj3ETknH.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><p>LeetCode地址—&gt;<a href="https://leetcode.cn/problems/longest-common-prefix/">14. 最长公共前缀</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arrays </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构与算法</title>
      <link href="/posts/4b0178e0.html"/>
      <url>/posts/4b0178e0.html</url>
      
        <content type="html"><![CDATA[<p>常见数据结构可参考下方视频(视频来自B站黑马程序员之Java SE)</p><iframe src="//player.bilibili.com/player.html?aid=250694651&bvid=BV1Cv411372m&cid=423438698&page=130" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>]]></content>
      
      
      <categories>
          
          <category> 数据结构与算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>华为鲲鹏HCIA</title>
      <link href="/posts/5380d66.html"/>
      <url>/posts/5380d66.html</url>
      
        <content type="html"><![CDATA[<h1 id="华为鲲鹏HCIA1-5认证考题分析与解释，易错题。"><a href="#华为鲲鹏HCIA1-5认证考题分析与解释，易错题。" class="headerlink" title="华为鲲鹏HCIA1.5认证考题分析与解释，易错题。"></a>华为鲲鹏HCIA1.5认证考题分析与解释，易错题。</h1><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>q代码迁移工具：Porting Advisor。支持创建用户和用户管理。可下载替换程序中所有依赖so库。web界面单用户单任务。</p><p>d代码分析扫描工具：Dependency Advisor。不可同时安装Web和CLI模式。部署在x86架构服务器上。</p><p>x性能优化工具：Tuning Kit。只能安装在TaiShan服务器上。火焰图。Top10热点函数性能指标数据。全景分析采样类型：软件、硬件。</p><p>TaiShan 2280 V2服务器最多支持 <strong>8</strong> 个PCIe扩展插槽，最多 <strong>32</strong> 个DDR4内存插槽。TaiShan V2服务器最多支持 <strong>128</strong> 个计算内核。</p><p>TaiShan 2280 V2均衡型服务器支持 <strong>GE/10GE/25GE</strong> 宽带的网卡</p><p>云鲲鹏裸金属服务器最高支持 <strong>128</strong> 核。BMS最高提供 <strong>128</strong> 核。kc1。</p><p>解压：-Jxvf</p><p>GNU编译器支持-mcpu110参数</p><p>3306:3366 此docker命令将容器端口3306映射到主机3366端口</p><p>Linux安装软件的方式：</p><ul><li>rpm</li><li>yml</li><li>源码安装</li></ul><p>镜像文件一般包括预装软件和操作系统。</p><p>容器和虚拟机比较在于启动速度</p><p>弱内存序不是由多核导致的</p><h2 id="练习001"><a href="#练习001" class="headerlink" title="练习001"></a>练习001</h2><h3 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/cl4xzo2M.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/AVP4iwZ0.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/F8bkkdhI.png" alt=""><br>解释：B选项：是根据容器ID创建一个新镜像作为Redis的基础镜像。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/D9aBxExC.png" alt=""><br>解释：B选项：此特点属于弹性云服务器ECS<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/vQ0c1xUW.png" alt=""><br>正确选项：<font color="green">ABD</font><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/bvc6Obdt.png" alt=""><br>正确选项：<font color="green">ABCDF</font><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/hVm5Fzth.png" alt=""><br>正确选项：<font color="green">AD</font><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/bJqFAxHD.png" alt=""><br>正确选项：<font color="green">AD</font><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/dvPelH6q.png" alt=""><br>正确选项：<font color="green">BCD</font><br>解释：A选项：支持25GE/50GE/100GE标准NIC</p><h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><p>鲲鹏分析扫描工具Dependency Advisor只能用于分析、扫描需要迁移到TaiShan服务器的应用。（×）<br>使用Python语言开发的程序在迁移至鲲鹏处理器时,开发者必须先将源码编译成pyc文件(字节码)。（×）<br>C/C++编写的应用程序从x86平台向华为鲲鹏平台迁移软件,SO动态链接库在源码编译时需要先替换。（×）</p><h2 id="练习002"><a href="#练习002" class="headerlink" title="练习002"></a>练习002</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/yoZWEwMO.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/iL2ZGoQR.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/dSJXH1ed.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/rxyqiemU.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> HUAWEI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HUAWEI </tag>
            
            <tag> 鲲鹏HCIA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python入门</title>
      <link href="/posts/d9ef328.html"/>
      <url>/posts/d9ef328.html</url>
      
        <content type="html"><![CDATA[<h1 id="单行注释与多行注释"><a href="#单行注释与多行注释" class="headerlink" title="单行注释与多行注释"></a>单行注释与多行注释</h1><p>单行注释用<code>#</code>—&gt;一个井号，vacode快捷键<code>ctrl+/</code></p><p>多行注释用<code>&quot;&quot;&quot;</code>—&gt;三个双引号，vacode快捷键<code>ctrl+shift+/</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello python&#x27;</span>) <span class="comment">#现在这个是单行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;这个是多行注释</span></span><br><span class="line"><span class="string">print(&#x27;hello python&#x27;)</span></span><br><span class="line"><span class="string">print(&#x27;hello python&#x27;)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><hr><h1 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h1><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>使用<code>input</code>函数可以获得用户输入在控制台窗口上输入的<strong>一行</strong>的<strong>字符串</strong>，使用<code>变量 = input()</code>的形式将其赋值给一个变量：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="built_in">input</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;输入的是%s&quot;</span> % str1)</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/esfHeB2O.png" alt="image-20220902234950887"></p><p>还可以在<code>input()</code>的括号内，加入一些提示信息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str1=<span class="built_in">input</span>(<span class="string">&quot;请输入:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;输入的是%s&quot;</span> % str1)</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/xsqVSg7s.gif" alt="gif1"></p><hr><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><h3 id="print的函数"><a href="#print的函数" class="headerlink" title="print的函数"></a><code>print</code>的函数</h3><p>将要输出的内容放在<code>print()</code>的括号内，就可以输出：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>) <span class="comment">#单引号包裹也是可行的</span></span><br><span class="line"><span class="comment">#控制台打印：hello world</span></span><br></pre></td></tr></table></figure><p><code>print</code>函数可以同时输出多个内容，只需要将它一起放在<code>print</code>的括号内，并用逗号隔开：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>)</span><br><span class="line"><span class="comment">#控制台打印：hello world</span></span><br></pre></td></tr></table></figure><p>==注意==：此时同时输出的多个内容之间，会有<strong>空格</strong>隔开。</p><p>类似于 C/C++ 的<code>printf</code>，Python 的<code>print</code>也能实现格式化输出，方法是使用<code>%</code>操作符，它会将左边的字符串当做<strong>格式字符串</strong>，将右边的参数代入格式字符串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;1 + 1 = %d&quot;</span> % <span class="number">2</span>) </span><br><span class="line"><span class="comment">#2会替换掉 %d 。控制台输出：1 + 1 = 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello %s&quot;</span> % <span class="string">&quot;world&quot;</span>)</span><br><span class="line"><span class="comment">#左边 %s 被替换成右边的 world 。控制台输出：hello world</span></span><br></pre></td></tr></table></figure><p>一般不用担心占位格式字符由于代码多肉眼难以区分和查看的问题，一般的编译器会带高亮提示。例如：博主用的 vsCode：</p><p>（我vsCode使用了主题，所以可能和大众的代码颜色不同）</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/03/S2PI6Bab.png" alt="image-20220903000459990"></p><p>如果要带入多个参数，则需要用<code>()</code>包裹代入的多个参数，参数与参数之间用逗号隔开。</p><p>==注意==：<strong>参数的顺序应该对应格式字符串中的顺序</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d + %d = %d&quot;</span> % (<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="comment">#控制台打印：1 + 1 = 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%s %s&quot;</span> % (<span class="string">&quot;world&quot;</span>,<span class="string">&quot;hello&quot;</span>))</span><br><span class="line"><span class="comment">#控制台打印：world hello</span></span><br></pre></td></tr></table></figure><h3 id="格式字符串（占位符）"><a href="#格式字符串（占位符）" class="headerlink" title="格式字符串（占位符）"></a>格式字符串（占位符）</h3><p>格式字符串中，不同<strong>占位符</strong>的含义：</p><div class="table-container"><table><thead><tr><th style="text-align:center">占位符</th><th>表示</th></tr></thead><tbody><tr><td style="text-align:center">%s</td><td>作为字符串</td></tr><tr><td style="text-align:center">%d</td><td>作为有符号十进制整数</td></tr><tr><td style="text-align:center">%u</td><td>作为无符号十进制整数</td></tr><tr><td style="text-align:center">%o</td><td>作为无符号八进制整数</td></tr><tr><td style="text-align:center">%x</td><td>作为无符号十六进制整数，a～f采用小写形式</td></tr><tr><td style="text-align:center">%X</td><td>作为无符号十六进制整数，A～F采用大写形式</td></tr><tr><td style="text-align:center">%f</td><td>作为浮点数</td></tr><tr><td style="text-align:center">%e，%E</td><td>作为浮点数，使用科学计数法</td></tr><tr><td style="text-align:center">%g，%G</td><td>作为浮点数，使用最低有效数位</td></tr></tbody></table></div><p><strong>注意:</strong> <code>print</code>函数输出数据后会换行，如果不想换行，需要指定<code>end=&quot;&quot;</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span> , end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;world&quot;</span> , end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment">#控制台输出helloworld</span></span><br></pre></td></tr></table></figure><h3 id="字符串转换"><a href="#字符串转换" class="headerlink" title="字符串转换"></a>字符串转换</h3><p><code>input</code>函数接收的是用户控制台输入的<strong>字符串</strong>，此时还不能作为整数或者小数进行数学运算，需要使用函数将字符串转换成想要的类型。</p><ul><li>转换成整数，使用<code>int()</code>函数：<code>num1 = int(str1)</code></li><li>转换成小数，使用<code>float()</code>函数：<code>f1 = float(str1)</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="built_in">input</span>()</span><br><span class="line">num1 = <span class="built_in">int</span>(str1)</span><br><span class="line">f1 = <span class="built_in">float</span>(str1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;整数%d,小数%f&quot;</span> % (num1,f1))</span><br><span class="line"><span class="comment">#控制台输入：114514</span></span><br><span class="line"><span class="comment">#控制台输出：整数114514,小数114514.000000</span></span><br></pre></td></tr></table></figure><p>如果输入10，得到的输出是：<code>整数10,小数10.000000</code>。</p><hr><h1 id="Python字符串"><a href="#Python字符串" class="headerlink" title="Python字符串"></a>Python字符串</h1><p>Python 语言中，字符串是用两个双引号<code>&quot;example&quot;</code>或者单引号<code>&#39;example&#39;</code>括起来的零个或多个字符。</p><p>字符串是字符的序列，可以按照单个字符或字符片段进行索引，字符串包括两种序号体系：正向递增序号和反向递减序号。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/08/i0bWcnyX.png" alt="image-20220908214625279"></p><p>Python 字符串也可以采用<code>[N:M]</code>区间格式获取指定字符串。</p><p>表示字符串中从<code>N</code>到<code>M</code>（不包含<code>M</code>，包左不包右）的子字符串，其中，<code>N</code>和<code>M</code>为字符串的索引序号，可以混合使用正向递增序号和反向递减序号。如果表示中<code>N</code>或者<code>M</code>索引缺失，则表示字符串把开始或结束索引值设为默认值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;name=<span class="string">&quot;Python语言程序设计&quot;</span></span><br><span class="line">&gt;&gt;&gt;name[<span class="number">0</span>]</span><br><span class="line"><span class="string">&#x27;P&#x27;</span></span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(name[<span class="number">0</span>],name[<span class="number">7</span>],name[-<span class="number">1</span>])</span><br><span class="line">P 言 计</span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(name[<span class="number">2</span>:-<span class="number">4</span>])</span><br><span class="line">thon语言</span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(name[:<span class="number">6</span>])</span><br><span class="line">Python</span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(name[<span class="number">6</span>:])</span><br><span class="line">语言程序设计</span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(name[:])</span><br><span class="line">Python语言程序设计</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Miniconda管理多版本python环境</title>
      <link href="/posts/5753d50.html"/>
      <url>/posts/5753d50.html</url>
      
        <content type="html"><![CDATA[<p>Miniconda下载地址：<br><a href="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b653515dcb04455d822c345b343f4f28.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>查看当前python版本：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e8a70ba2ab924a5fa6dc9f224e2c6091.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>下载python3.7版本（不用直接找官网下载配环境变量了）：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/122189c400514527be41ba9e1ef84a50.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>激活新安装的3.7环境：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5c6f1800dc89428c8b64900dba4e1cc9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>此时在vs code中可查看多版本环境<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d4f209be590c437a9d30ddabc3ee1576.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于mybatis一对一查询，一对多查询遇到的错误</title>
      <link href="/posts/1e2b9fda.html"/>
      <url>/posts/1e2b9fda.html</url>
      
        <content type="html"><![CDATA[<blockquote><blockquote><p>springboot整合mybatis项目<br>博客系统<br>文章，相册，评论，标签，等表<br>IDEA为最新版2021.3.3，mysql数据库为最新版Navicat</p><h2 id="（或许有些字段不支持特定的命名）"><a href="#（或许有些字段不支持特定的命名）" class="headerlink" title="（或许有些字段不支持特定的命名）"></a>（或许有些字段不支持特定的命名）</h2><p>也是醉了，以前idea还是19版的，navicat也是老版本的时候mybatis关联查询mapper操作能正常运行，拿到相应字段，并封装，但最近写项目过程中遇到一个离谱的是，过了好久才发现，</p></blockquote></blockquote><p>当关联查询时，无论一对一<association>还是一对多<collection><br>除了需要注意javaType和ofType之外，还应该注意各表主键不能同一名称</p><p>实体类文章</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Article</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> Integer authorId;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> Timestamp date;<span class="comment">//private LocalDate date;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Users user;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Comment&gt; commentList;</span><br><span class="line">    <span class="keyword">private</span> List&lt;ArticleTag&gt; articleTagList;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来是对文章进行操作，要求查询全部文章，并关联查询==作者==，文章==标签==（一个文章多个标签）</p><p>先看一下我下面代码块的写法，注意一对一，一对多的各个实体查询时的id，都是拿的数据库的id字段，只有标签被我改为了tag_id</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e9e285869f624a8b9684451ddcaf1a62.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">&quot;queryAllArticles&quot;</span> resultMap=<span class="string">&quot;ArticleList&quot;</span>&gt;</span><br><span class="line">        select a.*,u.*,t.*</span><br><span class="line">        from article a</span><br><span class="line">                 join users u on a.authorid = u.id</span><br><span class="line">                 left outer join article_tag t on a.id = t.article_id</span><br><span class="line"></span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;resultMap id=<span class="string">&quot;ArticleList&quot;</span> type=<span class="string">&quot;article&quot;</span>&gt;</span><br><span class="line">        &lt;id column=<span class="string">&quot;id&quot;</span> property=<span class="string">&quot;id&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;authorid&quot;</span> property=<span class="string">&quot;authorId&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;title&quot;</span> property=<span class="string">&quot;title&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;content&quot;</span> property=<span class="string">&quot;content&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;date&quot;</span> property=<span class="string">&quot;date&quot;</span>/&gt;</span><br><span class="line">        &lt;association property=<span class="string">&quot;user&quot;</span> javaType=<span class="string">&quot;users&quot;</span>&gt;</span><br><span class="line">            &lt;id column=<span class="string">&quot;id&quot;</span> property=<span class="string">&quot;id&quot;</span>/&gt;</span><br><span class="line">            &lt;result column=<span class="string">&quot;pet_name&quot;</span> property=<span class="string">&quot;petName&quot;</span>/&gt;</span><br><span class="line">            &lt;result column=<span class="string">&quot;headportrait&quot;</span> property=<span class="string">&quot;headPortrait&quot;</span>/&gt;</span><br><span class="line">        &lt;/association&gt;</span><br><span class="line">        &lt;collection property=<span class="string">&quot;articleTagList&quot;</span> ofType=<span class="string">&quot;articleTag&quot;</span>&gt;</span><br><span class="line">            &lt;id column=<span class="string">&quot;tag_id&quot;</span> property=<span class="string">&quot;tagId&quot;</span>/&gt;</span><br><span class="line">            &lt;result column=<span class="string">&quot;article_id&quot;</span> property=<span class="string">&quot;articleId&quot;</span>/&gt;</span><br><span class="line">            &lt;result column=<span class="string">&quot;tag_content&quot;</span> property=<span class="string">&quot;tag&quot;</span>/&gt;</span><br><span class="line">        &lt;/collection&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br></pre></td></tr></table></figure><p>如下图<br>所以当我测试的时候能正常根据id拿到每张表的同一主键名称id吗</p><blockquote><blockquote><p>并不能拿到<br>控制台仅仅正确输出了标签list中的tag_id，没错，细心点，我也是最后才发现，它nn的，上面输出的user（文章作者）他的id封装错了，他的id是这篇文章的id，所以，sql我自此所有==表的主键不都全命名为id==了，防止此处再烙下病根，而且数据库字段在命名时，我发现字段名字为describe和tag都查不到数据，本来想简简单单命名的数据库表，也得上心了拜拜了~~改bug去了🥲😭🥲😭✍️✍️<br>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/92fcd7251c044c6592875d3f9ad4734c.png#pic_center" alt="1">看控制台输出/////////////////////////////////////////////////////////////////////////////////////////////////</p></blockquote></blockquote><p>我的用户表里就没有id为56的<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8c49b0e13a644f2bb58dd181a07dbfe8.png#pic_center" alt="user"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/65109a7771c44eafb01c12a1d9d50619.png#pic_center" alt="article"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/dc2666c4bd3b4d7797cb76249f0b8dd8.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node.js</title>
      <link href="/posts/node.js.html"/>
      <url>/posts/node.js.html</url>
      
        <content type="html"><![CDATA[<div class="note pink icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>notice：<br>    <mark class="hl-label pink">基础篇，具体讲解模块化部分内容，路由模块，写接口，数据库，JWT</mark> </p></div><p>前提·需要掌握</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/fRNUYiRe.png" alt="image-20220809172613764"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/53tYZlGe.png" alt="image-20220809172800095"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/YAvi2ZFf.png" alt="image-20220809173304478"></p><p>Node.js  is a JavaScript runtime built on Chrome’s V8 JavaScript engine.<br>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。</p><p>Node.js 的官网地址： <a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/xvMDcCOL.png" alt="image-20220809173543073"></p><ul><li>浏览器是 JavaScript 的前端运行环境。</li><li>Node.js 是 JavaScript 的后端运行环境。Node.js 中无法调用 DOM 和 BOM 等浏览器内置 API。</li></ul><p>使用 tab 键，能够快速补全路径<br>使用 esc 键，能够快速清空当前已输入的命令<br>输入 cls 命令，可以清空终端</p><h1 id="fs-文件系统模块"><a href="#fs-文件系统模块" class="headerlink" title="fs 文件系统模块"></a>fs 文件系统模块</h1><p>fs 模块是 Node.js 官方提供的、用来操作文件的模块。它提供了一系列的方法和属性，用来满足用户对文件的操作需求。<br>例如：</p><ul><li><strong>fs.readFile()</strong> 方法，用来读取指定文件中的内容</li><li><strong>fs.writeFile()</strong> 方法，用来向指定的文件中写入内容 </li></ul><p>如果要在 JavaScript 代码中，使用 fs 模块来操作文件，则需要使用如下的方式先导入它：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br></pre></td></tr></table></figure></p><h2 id="1-fs-readFile-的语法格式"><a href="#1-fs-readFile-的语法格式" class="headerlink" title="1. fs.readFile() 的语法格式"></a>1. fs.readFile() 的语法格式</h2><p>使用 fs.readFile() 方法，可以读取指定文件中的内容，语法格式如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(path,[options,]callback)</span><br></pre></td></tr></table></figure></p><p>参数解读：</p><ul><li>参数1：必选参数，字符串，表示文件的路径。</li><li>参数2：可选参数，表示以什么编码格式来读取文件。</li><li>参数3：必选参数，文件读取完成后，通过回调函数拿到读取的结果。</li></ul><h2 id="2-fs-writeFile-的语法格式"><a href="#2-fs-writeFile-的语法格式" class="headerlink" title="2. fs.writeFile() 的语法格式"></a>2. fs.writeFile() 的语法格式</h2><p>使用 fs.writeFile() 方法，可以向指定的文件中写入内容，语法格式如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">writeFile</span>(file,data,[options,]callback)</span><br></pre></td></tr></table></figure></p><p>参数解读：</p><ul><li>参数1：必选参数，需要指定一个文件路径的字符串，表示文件的存放路径。</li><li>参数2：必选参数，表示要写入的内容。</li><li>参数3：可选参数，表示以什么格式写入文件内容，默认值是 utf8。</li><li>参数4：必选参数，文件写入完成后的回调函数。</li></ul><p>==路径动态拼接的问题==</p><p>在使用 fs 模块操作文件时，如果提供的操作路径是以 ./ 或 ../ 开头的相对路径时，很容易出现路径动态拼接错误的问题。<br>原因：代码在运行的时候，会以执行 node 命令时所处的目录，动态拼接出被操作文件的完整路径。<br>解决方案：在使用 fs 模块操作文件时，直接提供完整的路径，不要提供 ./ 或 ../ 开头的相对路径，从而防止路径动态拼接的问题。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 出现路径拼接错误的问题，是因为提供了 ./ 或 ../ 开头的相对路径</span></span><br><span class="line"><span class="comment">// 如果要解决这个问题，可以直接提供一个完整的文件存放路径就行</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./files/1.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件失败！&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件成功！&#x27;</span> + dataStr)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移植性非常差、不利于维护</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;C:\\Users\\31330\\Desktop\\nodejs\\code\\files\\1.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件失败！&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件成功！&#x27;</span> + dataStr)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// __dirname 表示当前文件所处的目录</span></span><br><span class="line"><span class="comment">// console.log(__dirname)</span></span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(__dirname + <span class="string">&#x27;/files/1.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件失败！&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;读取文件成功！&#x27;</span> + dataStr)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h1 id="path-路径模块"><a href="#path-路径模块" class="headerlink" title="path 路径模块"></a>path 路径模块</h1><p>path 模块是 Node.js 官方提供的、用来处理路径的模块。它提供了一系列的方法和属性，用来满足用户对路径的处理需求。<br>例如：</p><ul><li><strong>path.join() </strong>方法，用来将多个路径片段拼接成一个完整的路径字符串 </li><li><strong>path.basename()</strong> 方法，用来从路径字符串中，将文件名解析出来</li></ul><p>如果要在 JavaScript 代码中，使用 path 模块来处理路径，则需要使用如下的方式先导入它：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br></pre></td></tr></table></figure></p><h2 id="1-path-join-的语法格式"><a href="#1-path-join-的语法格式" class="headerlink" title="1. path.join() 的语法格式"></a>1. path.join() 的语法格式</h2><p>使用 path.join() 方法，可以把多个路径片段拼接为完整的路径字符串，语法格式如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">join</span>([...paths])</span><br></pre></td></tr></table></figure></p><p>参数解读：</p><ul><li>…paths <string> 路径片段的序列</li><li>返回值: <string></li></ul><p>使用 path.join() 方法，可以把多个路径片段拼接为完整的路径字符串：</p><blockquote><p>注意： ‘../‘  表示回退一层路径</p><p>涉及到路径拼接的操作，都要使用 path.join() 方法进行处理。不要直接使用 + 进行字符串的拼接。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意：  ../ 会抵消前面的路径</span></span><br><span class="line"><span class="keyword">const</span> pathStr = path.<span class="title function_">join</span>(<span class="string">&#x27;/a&#x27;</span>, <span class="string">&#x27;/b/c&#x27;</span>, <span class="string">&#x27;../../&#x27;</span>, <span class="string">&#x27;./d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pathStr)  <span class="comment">// \a\b\d\e</span></span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(__dirname + <span class="string">&#x27;/files/1.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./files/1.txt&#x27;</span>), <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(dataStr) <span class="comment">//当前文件所在目录\files\1.txt</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="2-path-basename-的语法格式"><a href="#2-path-basename-的语法格式" class="headerlink" title="2. path.basename() 的语法格式"></a>2. path.basename() 的语法格式</h2><p>使用 path.basename() 方法，可以获取路径中的最后一部分，经常通过这个方法获取路径中的文件名，语法格式如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">basename</span>(path[,ext])</span><br></pre></td></tr></table></figure></p><p>参数解读：</p><ul><li>path <string> 必选参数，表示一个路径的字符串 </li><li>ext <string> 可选参数，表示文件扩展名</li><li>返回: <string> 表示路径中的最后一部分</li></ul><p>使用 path.basename() 方法，可以从一个文件路径中，获取到文件的名称部分：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;a/b/c/index.html&#x27;</span> <span class="comment">// 文件存放路径</span></span><br><span class="line"><span class="keyword">var</span> fullName = path.<span class="title function_">basename</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName) <span class="comment">// 输出 index.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nameWithoutExt = path.<span class="title function_">basename</span>(fpath,<span class="string">&#x27;.html&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName) <span class="comment">// 输出 index</span></span><br></pre></td></tr></table></figure></p><h2 id="3-path-extname-的语法格式"><a href="#3-path-extname-的语法格式" class="headerlink" title="3. path.extname() 的语法格式"></a>3. path.extname() 的语法格式</h2><p>使用 path.extname() 方法，可以获取路径中的扩展名部分，语法格式如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">extname</span>(path)</span><br></pre></td></tr></table></figure></p><p>参数解读：</p><ul><li>path <string>必选参数，表示一个路径的字符串</li><li>返回: <string> 返回得到的扩展名字符串</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;a/b/c/index.html&#x27;</span> <span class="comment">// 文件存放路径</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fext = path.<span class="title function_">extname</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName) <span class="comment">// 输出 .html</span></span><br></pre></td></tr></table></figure><hr><h1 id="http-模块"><a href="#http-模块" class="headerlink" title="http 模块"></a>http 模块</h1><p>http 模块是 Node.js 官方提供的、用来创建 web 服务器的模块。</p><p>通过 http 模块提供的<code>http.createServer()</code>方法，就能方便的把一台电脑变成Web 服务器，从而对外提供 Web 资源服务。</p><h2 id="1-创建基本的-web-服务器"><a href="#1-创建基本的-web-服务器" class="headerlink" title="1.创建基本的 web 服务器"></a>1.创建基本的 web 服务器</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 http 模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 创建 web 服务器实例</span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"><span class="comment">// 3. 服务器实例绑定 request 事件，监听客户端的请求</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Someone visit our web server.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 4. 启动服务器</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;server running at http://127.0.0.1:8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="req-请求对象"><a href="#req-请求对象" class="headerlink" title="req 请求对象"></a>req 请求对象</h3><p>只要客户端访问了服务器监听的地址，服务器接收到了客户端的请求，就会调用通过 <code>server.on()</code> 为服务器绑定的 request 事件处理函数。</p><p>通过函数的 req 参数可以访问与==客户端==相关的数据或属性：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// req.url 是客户端请求的 URL 地址。req.method 是客户端请求的 method 类型</span></span><br><span class="line">  <span class="keyword">const</span> str = <span class="string">`Your request url is <span class="subst">$&#123;req.url&#125;</span>, and request method is <span class="subst">$&#123;req.method&#125;</span>`</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br><span class="line">  <span class="comment">// 输出结果：Your request url is /, and request method is GET</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="res-响应对象"><a href="#res-响应对象" class="headerlink" title="res 响应对象"></a>res 响应对象</h3><p>如果想访问与==服务器==相关的数据或属性：res.end()</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> str = <span class="string">`Your request url is <span class="subst">$&#123;req.url&#125;</span>, and request method is <span class="subst">$&#123;req.method&#125;</span>`</span></span><br><span class="line">  <span class="comment">// 调用 res.end() 方法，向客户端响应str。并结束这次请求的处理过程</span></span><br><span class="line">  res.<span class="title function_">end</span>(str)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>==注意==：当调用 res.end() 方法，向客户端发送中文内容的时候，会出现乱码问题，此时，需要手动设置内容的编码格式：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> str = <span class="string">`您请求的 URL 地址是 <span class="subst">$&#123;req.url&#125;</span>，请求的 method 类型为 <span class="subst">$&#123;req.method&#125;</span>`</span></span><br><span class="line">  <span class="comment">// 调用 res.setHeader() 方法，设置 Content-Type 响应头，解决中文乱码的问题</span></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">end</span>(str)<span class="comment">// 模块化之后 end() 全部变 send()</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h1 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h1><h2 id="1-模块化的基本概念"><a href="#1-模块化的基本概念" class="headerlink" title="1. 模块化的基本概念"></a>1. 模块化的基本概念</h2><p>类似于电脑主机，你懂我意思吧。</p><p>Node.js 中根据模块来源的不同，将模块分为了 3 大类，分别是：</p><ul><li><strong>内置模块</strong>（内置模块是由 Node.js 官方提供的，例如 fs、path、http 等）</li><li><strong>自定义模块</strong>（用户创建的每个 .js 文件，都是自定义模块）</li><li><strong>第三方模块</strong>（由第三方开发出来的模块，并非官方提供的内置模块，也不是用户创建的自定义模块，使用前需要先下载）</li></ul><p><code>require()</code>方法，可以加载需要的内置模块、用户自定义模块、第三方模块进行使用。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure><p>模块作用域:</p><p>和函数作用域类似，在自定义模块中定义的变量、方法等成员，只能在当前模块内被访问，这种模块级别的访问限制，叫做模块<br>作用域。可以有效防止变量污染。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/q7IgY6zn.png" alt="image-20220829203007219"></p><p>向外共享模块作用域中的成员：</p><ol><li>==module 对象==</li></ol><p>在每个 .js 自定义模块中都有一个 module 对象，它里面存储了和当前模块有关的信息，打印如下：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/SOQpq6Xx.png" alt="image-20220829203223692"></p><ol><li>==module.exports 对象==</li></ol><p>在自定义模块中，可以使用 module.exports 对象，将模块内的成员共享出去，供外界使用。外界用 require() 方法导入自定义模块时，得到的就是 module.exports 所指向的对象。</p><p>使用 require() 方法导入模块时，导入的结果，永远以 module.exports 指向的对象为准。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/yWPn0DiK.png" alt="image-20220829203405008"></p><ol><li>==exports 对象==</li></ol><p>由于 module.exports 单词写起来比较复杂，为了简化向外共享成员的代码，Node 提供了 exports 对象。默认情况<br>下，exports 和 module.exports 指向同一个对象。最终共享的结果，还是以 module.exports 指向的对象为准。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/AQzPMWgu.png" alt="image-20220829203530932"></p><p>==注意==：</p><p>时刻谨记，require() 模块时，得到的永远是 <strong>module.exports</strong> 指向的对象：</p><p>不建议同一个模块中同时使用 exports 和 module.exports</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/GmXSmpfB.png" alt="image-20220829203802578"></p><h2 id="2-npm与包"><a href="#2-npm与包" class="headerlink" title="2. npm与包"></a>2. npm与包</h2><p>Node.js 中的第三方模块又叫做包。<br>就像电脑和计算机指的是相同的东西，第三方模块和包指的是同一个概念，只不过叫法不同。</p><p>国外有一家 IT 公司，叫做 npm, Inc. 这家公司旗下有一个非常著名的网站： <a href="https://www.npmjs.com/">https://www.npmjs.com/</a> ，它是全球最<br>大的包共享平台，你可以从这个网站上搜索到任何你需要的包，只要你有足够的耐心！<br>到目前位置，全球约 1100 多万的开发人员，通过这个包共享平台，开发并共享了超过 120 多万个包 供我们使用。<br>npm, Inc. 公司提供了一个地址为 <a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a> 的服务器，来对外共享所有的包，我们可以从这个服务<br>器上下载自己所需要的包。<br>注意：<br>⚫ 从 <a href="https://www.npmjs.com/">https://www.npmjs.com/</a> 网站上搜索自己所需要的包<br>⚫ 从 <a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a> 服务器上下载自己需要的包</p><p>包管理工具的名字叫做 Node Package Manager（简称 npm 包管理工具），这个包管理工具随着 Node.js 的安<br>装包一起被安装到了用户的电脑上。</p><p> npm -v 命令，来查看自己电脑上所安装的 npm 包管理工具的版本号</p><p>安装第三方包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i 包名</span><br></pre></td></tr></table></figure><p>上述命令默认安装最新版本包</p><p>如果需要安装指定版本的包，可以在包名之后通过 <code>@ 符号</code>指定具体的版本，例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i moment@2.22.2</span><br></pre></td></tr></table></figure><p>初次装包完成后，在项目文件夹下多一个叫做 ==node_modules== 的文件夹和 ==package-lock.json== 的配置文件。</p><ul><li>node_modules 文件夹用来存放所有已安装到项目中的包。require() 导入第三方包时，就是从这个目录中查找并加载包。</li><li>package-lock.json 配置文件用来记录 node_modules 目录下的每一个包的下载信息，例如包的名字、版本号、下载地址等。</li></ul><p>包管理配置文件:</p><p>npm 规定，在项目根目录中，必须提供一个叫做 ==package.json== 的包管理配置文件。用来记录与项目有关的一些配置<br>信息。信息存放在 dependencies  节点中。例如：</p><ul><li>项目的名称、版本号、描述等</li><li>项目中都用到了哪些包</li><li>哪些包只在开发期间会用到</li><li>那些包在开发和部署时都需要用到</li></ul><p>新建项目时进入文件夹使用如下命令即可自动生成 package.json 包管理配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><p>npm 包管理工具会自动把包的名称和版本号，记录到 package.json 中。</p><p>当我们拿到一个剔除了 node_modules 的项目之后，需要先把所有的包下载到项目中，才能将项目运行起来。<br>执行下面命令安装所有包。从 package.json 中读取按过的包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i</span><br></pre></td></tr></table></figure><p>卸载包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall 包名</span><br></pre></td></tr></table></figure><p>npm uninstall 命令执行成功后，会把卸载的包，自动从 package.json 的 dependencies 中移除掉。</p><p>只在项目开发阶段会用到，在项目上线之后不会用到的包安装命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i 包名 -D</span><br></pre></td></tr></table></figure><p>命令等价于===npm i 包名 —save-dev</p><p>这些包将被记录到 devDependencies 节点中。与之对应的，如果某些包在开发和项目上线之后都需要用到，则建议把这些包记录到 dependencies 节点中。</p><p>国外服务器，下包慢，切换镜像源到淘宝</p><ul><li>查看当前镜像源</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><ul><li>切换为淘宝镜像源</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><ul><li>检测镜像源是否下载成功</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><p>为了更方便的切换下包的镜像源，我们可以安装 nrm 这个小工具，利用 nrm 提供的终端命令，可以快速查看和切换下<br>包的镜像源。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g</span><br><span class="line">nrm <span class="built_in">ls</span></span><br><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure><hr><p>包的分类：</p><ul><li>项目包</li></ul><p>被安装到项目的 node_modules 目录中的包，都是项目包</p><p>项目包又分为两类，分别是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i 包名 -D  <span class="comment">#开发依赖包（被记录到 devDependencies 节点中的包，只在开发期间会用到）</span></span><br><span class="line">npm i 包名     <span class="comment">#核心依赖包（被记录到 dependencies 节点中的包，在开发期间和项目上线之后都会用到）</span></span><br></pre></td></tr></table></figure><ul><li>全局包</li></ul><p>全局包会被安装到 C:\Users\用户目录\AppData\Roaming\npm\node_modules 目录下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i 包名 -g <span class="comment">#全局安装包</span></span><br><span class="line">npm uninstall 包名    <span class="comment">#卸载全局安装包</span></span><br></pre></td></tr></table></figure><p>注：只有工具性质的包，才有全局安装的必要性。因为它们提供了好用的终端命令。</p><hr><h1 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h1><p>Express 是基于 Node.js 平台，基于http模块，快速、开放、极简的 Web 开发框架。<br>通俗的理解：Express 的作用和 Node.js 内置的 http 模块类似，是专门用来创建 Web 服务器的。<br>Express 的本质：就是一个 npm 上的第三方包，提供了快速创建 Web 服务器的便捷方法。<br>Express 的中文官网： <a href="http://www.expressjs.com.cn/">http://www.expressjs.com.cn/</a></p><p>安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i express@4.17.1</span><br></pre></td></tr></table></figure><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 创建 web 服务器</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// --------------------</span></span><br><span class="line"><span class="comment">// 4. 监听客户端的 GET 和 POST 请求，并向客户端响应具体的内容</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 调用 express 提供的 res.send() 方法，向客户端响应一个 JSON 对象</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 调用 express 提供的 res.send() 方法，向客户端响应一个 文本字符串</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;请求成功&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 通过 req.query 可以获取到客户端发送过来的 查询参数</span></span><br><span class="line">  <span class="comment">// 注意：默认情况下，req.query 是一个空对象</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">query</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 注意：这里的 :id 是一个动态的参数</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user/:ids/:username&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// req.params 是动态匹配到的 URL 参数，默认也是一个空对象</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">params</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// --------------------</span></span><br><span class="line"><span class="comment">// 3. 启动 web 服务器</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p> 托管静态资源：</p><p><code>express.static()</code></p><p>express 提供了一个非常好用的函数，叫做 express.static()，通过它，我们可以非常方便地创建一个静态资源服务器，<br>例如，通过如下代码就可以将 public 目录下的图片、CSS 文件、JavaScript 文件对外开放访问了：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在这里，调用 express.static() 方法，快速的对外提供静态资源</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/public&#x27;</span>, express.<span class="title function_">static</span>(<span class="string">&#x27;public&#x27;</span>))</span><br></pre></td></tr></table></figure><p>现在，你就可以通过带有 /public 前缀地址来访问 public 目录中的文件了：</p><blockquote><p><a href="http://localhost/public/images/kitten.jpg">http://localhost/public/images/kitten.jpg</a><br><a href="http://localhost/public/css/style.css">http://localhost/public/css/style.css</a><br><a href="http://localhost/public/js/app.js">http://localhost/public/js/app.js</a></p></blockquote><hr><blockquote><p>在编写调试 Node.js 项目的时候，如果修改了项目的代码，则需要频繁的手动 close 掉，然后再重新启动，非常繁琐。<br>现在，我们可以使用 nodemon（<a href="https://www.npmjs.com/package/nodemon）">https://www.npmjs.com/package/nodemon）</a> 这个工具，它能够监听项目文件<br>的变动，当代码被修改后，nodemon 会自动帮我们重启项目，极大方便了开发和调试。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g nodemon</span><br></pre></td></tr></table></figure><p>node app.js 替换为 nodemon app.js</p></blockquote><hr><h2 id="Express-路由"><a href="#Express-路由" class="headerlink" title="Express 路由"></a>Express 路由</h2><p>广义上来讲，路由就是映射关系。</p><p>在 Express 中，路由指的是客户端的请求与服务器处理函数之间的映射关系。<br>Express 中的路由分 3 部分组成，分别是请求的类型、请求的 URL 地址、处理函数</p><p>Express 中的路由的例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 挂载路由</span></span><br><span class="line"><span class="comment">// 匹配 GET 请求，请求 URL 为 /</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;hello world.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 匹配 POST 请求，请求 URL 为 /</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Post Request.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 请求类型和请求的URL同时匹配成功，才会调用对应的处理函数</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>使用：</p><p>为了方便对路由进行模块化的管理，Express 不建议将路由直接挂载到 app 上，而是推荐将路由抽离为单独的模块。<br>将路由抽离为单独模块的步骤如下：<br>① 创建路由模块对应的 .js 文件<br>② 调用 express.Router() 函数创建路由对象<br>③ 向路由对象上挂载具体的路由<br>④ 使用 module.exports 向外共享路由对象<br>⑤ 使用 app.use() 函数注册路由模块</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 导入路由模块</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">&#x27;./user_router&#x27;</span>)</span><br><span class="line"><span class="comment">// 5. 注册路由模块，并为路由模块添加前缀 /api</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>, router)</span><br><span class="line"><span class="comment">// 注意： app.use() 函数的作用，就是来注册全局中间件</span></span><br><span class="line"><span class="comment">// 请求地址变为了 http://127.0.0.1/api/......</span></span><br><span class="line"><span class="comment">// app.use(&#x27;/files&#x27;, express.static(&#x27;./files&#x27;))</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>创建的路由模块js文件（user_router.js）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 user_router.js，导入 express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"><span class="comment">// 3. 挂载具体的路由</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/user/list&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Get user list.by URL http://127.0.0.1/api/user/list&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/user/add&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Add new user.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 4. 向外导出路由对象</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><hr><h2 id="Express-中间件"><a href="#Express-中间件" class="headerlink" title="Express 中间件"></a>Express 中间件</h2><p>中间件（Middleware ），特指业务流程的中间处理环节。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/6qCivFo6.png" alt="image-20220829214331133"></p><p>当一个请求到达 Express 的服务器之后，可以连续调用多个中间件，从而对这次请求进行预处理。</p><p>Express 的中间件，本质上就是一个 function 处理函数，Express 中间件的格式如下：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/kotwSQ0M.png" alt="image-20220829214506369"></p><p>中间件函数的形参列表中，必须包含 next 参数。而路由处理函数中只包含 req 和 res。</p><p>next 函数是实现多个中间件连续调用的关键，它表示把流转关系转交给下一个中间件或路由</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/JIacgRGt.png" alt="image-20220829214642281"></p><p>定义中间件函数：</p><p>中间件需要在路由之前定义，因为js从上到下读</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个最简单的中间件函数</span></span><br><span class="line"><span class="comment">// const mw = function (req, res, next) &#123;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;这是最简单的中间件函数&#x27;)</span></span><br><span class="line"><span class="comment">//   // 把流转关系，转交给下一个中间件或路由</span></span><br><span class="line"><span class="comment">//   next()</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// 将 mw 注册为全局生效的中间件</span></span><br><span class="line"><span class="comment">// app.use(mw)</span></span><br><span class="line"><span class="comment">// *************************</span></span><br><span class="line"><span class="comment">// 这是定义全局中间件的简化形式</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是最简单的中间件函数&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> time = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">  <span class="comment">// 为 req 对象，挂载自定义属性，从而把时间共享给后面的所有路由。多个中间件之间，共享 req 和 res 对象</span></span><br><span class="line">  req.<span class="property">startTime</span> = time</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// *************************</span></span><br></pre></td></tr></table></figure><p>定义局部生效的中间件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 1. 定义中间件函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mw1</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;调用了局部生效的中间件&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. 创建路由，引入mw1中间件</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, mw1, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Home page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 同时使用多个局部中间件</span></span><br><span class="line"><span class="comment">// app.get(&#x27;/&#x27;, [mw1, mw2], (req, res) =&gt; &#123;res.send(&#x27;Home page.&#x27;)&#125;)</span></span><br><span class="line"><span class="comment">// 等价于 app.get(&#x27;/&#x27;, mw1, mw2, (req, res) =&gt; &#123;res.send(&#x27;Home page.&#x27;)&#125;)</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;User page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>为了方便大家理解和记忆中间件的使用，Express 官方把常见的中间件用法，分成了 5 大类，分别是：<br>① 应用级别的中间件<br>② 路由级别的中间件<br>③ 错误级别的中间件<br>④ Express 内置的中间件<br>⑤ 第三方的中间件</p><ol><li>应用级别的中间件</li></ol><p>通过 app.use() 或 app.get() 或 app.post() ，绑定到 app 实例上的中间件，叫做应用级别的中间件，代码已经给出：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 局部</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, mw1, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Home page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>路由级别的中间件</li></ol><p>绑定到 express.Router() 实例上的中间件，叫做路由级别的中间件。它的用法和应用级别中间件没有任何区别。只不过，<strong>应用级别中间件是绑定到 app 实例上，路由级别中间件绑定到 router 实例上</strong>，代码示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">exoress</span>()</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"><span class="comment">// 路由级别中间件,此处先不必深究</span></span><br><span class="line">router.<span class="title function_">use</span>(<span class="keyword">function</span>(<span class="params">req,res,next</span>)&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/&#x27;</span>,router)</span><br></pre></td></tr></table></figure><ol><li>错误级别的中间件</li></ol><p>错误级别中间件的作用：专门用来捕获整个项目中发生的异常错误，从而防止项目异常崩溃的问题。<br>格式：错误级别中间件的 function 处理函数中，必须有 4 个形参，形参顺序从前到后，分别是 (err, req, res, next)。</p><p>==注意==：错误级别的中间件，必须注册在所有路由之后！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 1. 定义路由</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.1 人为的制造错误</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;服务器内部发生了错误！&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Home page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义错误级别的中间件，捕获整个项目的异常错误，从而防止程序的崩溃</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123; <span class="comment">// 必须带4个参数，代码块中没有next()</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发生了错误！&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  <span class="comment">// 发送异常给客户端</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Error：&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>Express内置的中间件</li></ol><p>自 Express 4.16.0 版本开始，Express 内置了 3 个常用的中间件，极大的提高了 Express 项目的开发效率和体验：<br>① express.static 快速托管静态资源的内置中间件，例如： HTML 文件、图片、CSS 样式等（无兼容性）<br>② express.json 解析 JSON 格式的请求体数据（有兼容性，仅在 4.16.0+ 版本中可用）<br>③ express.urlencoded 解析 URL-encoded 格式的请求体数据（有兼容性，仅在 </p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/jLQY3nCY.png" alt="image-20220829221153096"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：除了错误级别的中间件，其他的中间件，必须在路由之前进行配置</span></span><br><span class="line"><span class="comment">// 解析表单中的 JSON 格式的数据</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>())</span><br><span class="line"><span class="comment">// 解析表单中的 url-encoded 格式的数据</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 在服务器端，可以通过 req,body 来获取来接收客户端发送过来的请求体数据，包括 JSON 格式的表单数据和 url-encoded 格式的数据</span></span><br><span class="line">  <span class="comment">// 默认情况下，如果不配置解析表单数据的中间件，则 req.body 默认等于 undefined</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>第三方的中间件</li></ol><p>。。。比如，老版本的 body-parser。功能同 express.urlencoded。后者就是基于前者封装的。</p><ol><li>自定义中间件</li></ol><p>例如：模拟 express.urlencoded 对请求体进行解析。实现步骤：<br>① 定义中间件 app.use((req, res, next) =&gt; {…})<br>② 监听 req 的 data 事件<br>③ 监听 req 的 end 事件<br>④ 使用 querystring 模块解析请求体数据<br>⑤ 将解析出来的数据对象挂载为 req.body<br>⑥ 将自定义中间件封装为模块</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 导入 Node.js 内置的 querystring 模块</span></span><br><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>)</span><br><span class="line"><span class="comment">// 1. 解析表单数据的中间件</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// str 字符串存储请求体数据</span></span><br><span class="line">  <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="comment">// 2. 监听 req 的 data 事件</span></span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">    str += chunk</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// 3. 监听 req 的 end 事件</span></span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 4. 把字符串格式的请求体数据解析成对象格式</span></span><br><span class="line">    <span class="keyword">const</span> body = qs.<span class="title function_">parse</span>(str)</span><br><span class="line">    <span class="comment">// 5. 对象挂载到自定义属性body上</span></span><br><span class="line">    req.<span class="property">body</span> = body</span><br><span class="line">    <span class="comment">// 交由路由处理</span></span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">body</span>)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>==注==：关键字 const 定义常量。let 定义变量。</p><p>⑥ 将自定义中间件封装为模块</p><p>第一步：新建js文件，内容：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 Node.js 内置的 querystring 模块</span></span><br><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">bodyParser</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;str += chunk&#125;)</span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> body = qs.<span class="title function_">parse</span>(str)</span><br><span class="line">    req.<span class="property">body</span> = body</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = bodyParser</span><br></pre></td></tr></table></figure><p>第二步：使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 导入自己封装的中间件模块</span></span><br><span class="line"><span class="keyword">const</span> customBodyParser = <span class="built_in">require</span>(<span class="string">&#x27;./my-body-parser&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 将自定义的中间件函数，注册为全局可用的中间件</span></span><br><span class="line">app.<span class="title function_">use</span>(customBodyParser)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">body</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 app.listen 方法，指定端口号并启动web服务器</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h2 id="Express-写接口"><a href="#Express-写接口" class="headerlink" title="Express 写接口"></a>Express 写接口</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析表单数据的中间件</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 必须在配置 cors 中间件之前，配置 JSONP 的接口</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/api/jsonp&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1. 得到函数的名称</span></span><br><span class="line">  <span class="keyword">const</span> funcName = req.<span class="property">query</span>.<span class="property">callback</span></span><br><span class="line">  <span class="comment">// 2. 定义要发送到客户端的数据对象</span></span><br><span class="line">  <span class="keyword">const</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;</span><br><span class="line">  <span class="comment">// 3. 拼接出一个函数的调用</span></span><br><span class="line">  <span class="keyword">const</span> scriptStr = <span class="string">`<span class="subst">$&#123;funcName&#125;</span>(<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>)`</span></span><br><span class="line">  <span class="comment">// 4. 把拼接的字符串，响应给客户端</span></span><br><span class="line">  res.<span class="title function_">send</span>(scriptStr)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一定要路由之前配置 cors 中间件，从而解决***接口跨域***</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入路由模块</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">&#x27;./my-apiRouter&#x27;</span>)</span><br><span class="line"><span class="comment">// 把路由模块注册到 app 上</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>, router)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动服务器</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>路由模块 my-apiRouter.js：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"><span class="comment">// 挂载路由</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/get&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> query = req.<span class="property">query</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>, <span class="comment">// 0 表示处理成功，1 表示处理失败</span></span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;GET 请求成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: query, <span class="comment">// 需要响应给客户端的数据</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/post&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> body = req.<span class="property">body</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;POST 请求成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: body,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 定义 DELETE 接口</span></span><br><span class="line">router.<span class="title function_">delete</span>(<span class="string">&#x27;/delete&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;DELETE请求成功&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><p><strong>使用 cors 中间件解决跨域问题</strong><br>cors 是 Express 的一个第三方中间件。通过安装和配置 cors 中间件，可以很方便地解决跨域问题。<br>使用步骤分为如下 3 步：<br>① 运行 npm install cors 安装中间件<br>② 使用 const cors = require(‘cors’) 导入中间件<br>③ 在路由之前调用 app.use(cors()) 配置中间件</p><p>CORS （Cross-Origin Resource Sharing，跨域资源共享）由一系列 HTTP 响应头组成，这些 HTTP 响应头决定浏览器是否阻止前端 JS 代码跨域获取资源。<br>浏览器的同源安全策略默认会阻止网页“跨域”获取资源。但如果接口服务器配置了 CORS 相关的 HTTP 响应头就可以解除浏览器端的跨域访问限制。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/pG0rU3f4.png" alt="image-20220830000028687"></p><p>CORS 主要在服务器端进行配置。客户端浏览器无须做任何额外的配置，即可请求开启了 CORS 的接口。CORS 在浏览器中有兼容性。只有支持 XMLHttpRequest Level2 的浏览器，才能正常访问开启了 CORS 的服务端接口.</p><hr><ol><li>CORS 响应头部 - <strong>Access-Control-Allow-Origin</strong></li></ol><p>响应头部中可以携带一个 Access-Control-Allow-Origin 字段，其语法如下:</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: &lt;origin&gt; | *</span><br></pre></td></tr></table></figure><p>origin 参数的值指定了允许访问该资源的外域 URL。例如，下面的字段值将只允许来自 <a href="https://roydon.xyz">https://roydon.xyz</a> 的请求：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;https://roydon.xyz&#x27;</span>)</span><br></pre></td></tr></table></figure><p>如果指定了 Access-Control-Allow-Origin 字段的值为通配符 *，表示允许来自任何域的请求，示例代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li>CORS 响应头部 - <strong>Access-Control-Allow-Headers</strong></li></ol><p>默认情况下，CORS 仅支持客户端向服务器发送如下的 9 个请求头：</p><div class="table-container"><table><thead><tr><th>Accept、Accept-Language、Content-Language、DPR、Downlink、Save-Data、Viewport-Width、Width 、Content-Type（值仅限于 text/plain、multipart/form-data、application/x-www-form-urlencoded 三者之一）</th></tr></thead><tbody><tr><td></td></tr></tbody></table></div><p>如果客户端向服务器发送了额外的请求头信息，则需要在服务器端，通过 Access-Control-Allow-Headers 对额外的请求头进行声明，否则这次请求会失败！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">serHeader</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>,<span class="string">&#x27;Content-Type,X-Custom-Header&#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li>CORS 响应头部 - <strong>Access-Control-Allow-Methods</strong></li></ol><p>默认情况下，CORS 仅支持客户端发起 GET、POST、HEAD 请求。如果客户端希望通过 PUT、DELETE 等方式请求服务器的资源，则需要在服务器端，通过 Access-Control-Alow-Methods来指明实际请求所允许使用的 HTTP 方法。<br>示例代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">serHeader</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>,<span class="string">&#x27;GET,POST,DELETE,HEAD&#x27;</span>)</span><br><span class="line"><span class="comment">// 允许所有请求</span></span><br><span class="line">res.<span class="title function_">serHeader</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><p>CORS请求的分类<br>客户端在请求 CORS 接口时，根据请求方式和请求头的不同，可以将 CORS 的请求分为两大类，分别是：</p><ul><li>① 简单请求</li></ul><p>同时满足以下两大条件的请求，就属于简单请求：<br>① 请求方式：GET、POST、HEAD 三者之一<br>② HTTP 头部信息不超过以下几种字段：无自定义头部字段、Accept、Accept-Language、Content-Language、DPR、<br>Downlink、Save-Data、Viewport-Width、Width 、Content-Type（只有三个值application/x-www-form-<br>urlencoded、multipart/form-data、text/plain）</p><ul><li>② 预检请求</li></ul><p>只要符合以下任何一个条件的请求，都需要进行预检请求：<br>① 请求方式为 GET、POST、HEAD 之外的请求 Method 类型<br>② 请求头中包含自定义头部字段<br>③ 向服务器发送了 application/json 格式的数据<br>在浏览器与服务器正式通信之前，浏览器会先发送 OPTION 请求进行预检，以获知服务器是否允许该实际请求，所以这一<br>次的 OPTION 请求称为“预检请求”。服务器成功响应预检请求后，才会发送真正的请求，并且携带真实数据。</p><hr><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>组织、存储和管理数据的仓库。</p><p>除了文本类型的数据，图像、音乐、声音都是数据。</p><p>基本操作：增删查改。</p><p>推荐：    Mysql（关系型数据库</p><p>需要前提知识数据库（由于我做的是后端，了解数据库），此处不多赘述，直接进行node整合mysql。增删查改等Sql语句自行百度。</p><p>🥰🥰</p><h2 id="node整合mysql"><a href="#node整合mysql" class="headerlink" title="node整合mysql"></a>node整合mysql</h2><p>步骤：</p><p>① 安装操作 MySQL 数据库的第三方模块（mysql）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i mysql</span><br></pre></td></tr></table></figure><p>② 通过 mysql 模块连接到 MySQL 数据库</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 mysql 模块</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 建立与 MySQL 数据库的连接关系</span></span><br><span class="line"><span class="keyword">const</span> db = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="comment">// 数据库的 IP 地址</span></span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>, <span class="comment">// 登录数据库的账号</span></span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;qwer1234&#x27;</span>, <span class="comment">// 登录数据库的密码</span></span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;db_1&#x27;</span>, <span class="comment">// 指定要操作哪个数据库</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>③ 通过 mysql 模块执行 SQL 语句<br>下面依次举例（查找、增加、修改、删除）四项：数据表为 users</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.查找</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;select * from users&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 查询数据失败</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="comment">// 查询数据成功</span></span><br><span class="line">  <span class="comment">// 注意：如果执行的是 select 查询语句，则执行的结果是数组</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(results)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.增加</span></span><br><span class="line"><span class="comment">// 写法一：******************</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">username</span>: <span class="string">&#x27;guo&#x27;</span>, <span class="attr">password</span>: <span class="string">&#x27;123&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 定义待执行的 SQL 语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;insert into users (username, password) values (?, ?)&#x27;</span></span><br><span class="line"><span class="comment">// 执行 SQL 语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user.<span class="property">username</span>, user.<span class="property">password</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 执行 SQL 语句失败了</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="comment">// 成功了</span></span><br><span class="line">  <span class="comment">// 注意：如果执行的是 insert into 插入语句，则 results 是一个对象</span></span><br><span class="line">  <span class="comment">// 可以通过 affectedRows 属性，来判断是否插入数据成功</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;插入数据成功!&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 写法二：推荐**********************</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">username</span>: <span class="string">&#x27;roydon&#x27;</span>, <span class="attr">password</span>: <span class="string">&#x27;123456&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 插入的 SQL 语句，? 为占位符</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;insert into users set ?&#x27;</span></span><br><span class="line"><span class="comment">// 执行 SQL 语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, user, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;插入数据成功&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3.修改(更新)</span></span><br><span class="line"><span class="comment">// 写法一：********************</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">username</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">password</span>: <span class="string">&#x27;000&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 定义 SQL 语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;update users set username=?, password=? where id=?&#x27;</span></span><br><span class="line"><span class="comment">// 执行 SQL 语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user.<span class="property">username</span>, user.<span class="property">password</span>, user.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="comment">// 注意：执行了 update 语句之后，执行的结果，也是一个对象，可以通过 affectedRows 判断是否更新成功</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;更新成功&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 写法二：(推荐)****************</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">username</span>: <span class="string">&#x27;bbb&#x27;</span>, <span class="attr">password</span>: <span class="string">&#x27;111&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 定义 SQL 语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;update users set ? where id=?&#x27;</span></span><br><span class="line"><span class="comment">// 执行 SQL 语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user, user.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;更新数据成功&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4.删除</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;delete from users where id=?&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, <span class="number">2</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="comment">// 注意：执行 delete 语句之后，结果也是一个对象，也会包含 affectedRows 属性</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;删除数据成功&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h1 id="前后端的身份认证"><a href="#前后端的身份认证" class="headerlink" title="前后端的身份认证"></a>前后端的身份认证</h1><p>目前主流的 Web 开发模式有两种，分别是：</p><ol><li>服务端渲染的传统 Web 开发模式</li></ol><p>服务端渲染的概念：服务器发送给客户端的 HTML 页面，是在服务器通过字符串的拼接，动态生成的。因此，客户端不<br>需要使用 Ajax 这样的技术额外请求页面的数据。</p><blockquote><p>服务端渲染的优缺点<br>优点：<br>① 前端耗时少。因为服务器端负责动态生成 HTML 内容，浏览器只需要直接渲染页面即可。尤其是移动端，更省电。<br>② 有利于SEO。因为服务器端响应的是完整的 HTML 页面内容，所以爬虫更容易爬取获得信息，更有利于 SEO。<br>缺点：<br>① 占用服务器端资源。即服务器端完成 HTML 页面内容的拼接，如果请求较多，会对服务器造成一定的访问压力。<br>② 不利于前后端分离，开发效率低。使用服务器端渲染，则无法进行分工合作，尤其对于前端复杂度高的项目，不利于<br>项目高效开发。</p></blockquote><ol><li>前后端分离的新型 Web 开发模式</li></ol><p>前后端分离的概念：前后端分离的开发模式，依赖于 Ajax 技术的广泛应用。简而言之，前后端分离的 Web 开发模式，<br>就是后端只负责提供 API 接口，前端使用 Ajax 调用接口把数据渲染到页面上的开发模式。</p><blockquote><p>前后端分离的优缺点<br>优点：<br>① 开发体验好。前端专注于 UI 页面的开发，后端专注于api 的开发，且前端有更多的选择性。<br>② 用户体验好。Ajax 技术的广泛应用，极大的提高了用户的体验，可以轻松实现页面的局部刷新。<br>③ 减轻了服务器端的渲染压力。因为页面最终是在每个用户的浏览器中生成的。<br>缺点：<br>① 不利于 SEO。因为完整的 HTML 页面需要在客户端动态拼接完成，所以爬虫对无法爬取页面的有效信息。（解决方<br>案：利用 Vue、React 等前端框架的 SSR （server side render）技术能够很好的解决 SEO 问题！）</p></blockquote><h2 id="身份认证："><a href="#身份认证：" class="headerlink" title="身份认证："></a>身份认证：</h2><p>身份认证（Authentication）又称“身份验证”、“鉴权”，是指通过一定的手段，完成对用户身份的确认。<br>确保是此用户登录。</p><p>对于服务端渲染和前后端分离这两种开发模式来说，分别有着不同的身份认证方案：<br><strong>服务端渲染推荐使用 Session 认证机制</strong>.</p><p>客户端第一次请求服务器的时候，服务器通过响应头的形式，向客户端发送一个身份认证的 Cookie，客户端会自动将 Cookie 保存在浏览器中。随后，当客户端浏览器每次请求服务器的时候，浏览器会自动将身份认证相关的 Cookie，通过请求头的形式发送给服务器，服务器即可验明客户端的身份。</p><p>Cookie 是存储在用户浏览器中的一段不超过 4 KB 的字符串。它由一个名称（Name）、一个值（Value）和其它几个用于控制 Cookie 有效期、安全性、使用范围的可选属性组成。不同域名下的 Cookie 各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期的 Cookie 一同发送到服务器。<br>由于 Cookie 是存储在浏览器中的，而且浏览器也提供了读写 Cookie 的 API，因此 Cookie 很容易被伪造，不具有安全性。因此不建议服务器将重要的隐私数据，通过 Cookie 的形式发送给浏览器。</p><p>Session 的工作原理：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/kUmHTFh8.png" alt=""></p><h2 id="Express-使用-Session-认证"><a href="#Express-使用-Session-认证" class="headerlink" title="Express 使用 Session 认证"></a>Express 使用 Session 认证</h2><ol><li>安装 express-session 插件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i express-session</span><br></pre></td></tr></table></figure><ol><li><p>配置 express-session 中间件</p><p>通过 app.use() 来注册 session 中间件:</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">&#x27;express-session&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(</span><br><span class="line">  <span class="title function_">session</span>(&#123;</span><br><span class="line">    <span class="attr">secret</span>: <span class="string">&#x27;roydon&#x27;</span>,<span class="comment">// 自定义字符穿</span></span><br><span class="line">    <span class="attr">resave</span>: <span class="literal">false</span>,<span class="comment">// 固定写法</span></span><br><span class="line">    <span class="attr">saveUninitialized</span>: <span class="literal">true</span>, <span class="comment">// 固定写法</span></span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol><li>向 session 中存数据</li></ol><p>通过 req.session 来访问和使用 session 对象，从而存储用户的关键信息：</p><p>例如下面的登录接口：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 判断用户提交的登录信息是否正确</span></span><br><span class="line">  <span class="keyword">if</span> (req.<span class="property">body</span>.<span class="property">username</span> !== <span class="string">&#x27;admin&#x27;</span> || req.<span class="property">body</span>.<span class="property">password</span> !== <span class="string">&#x27;000000&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">msg</span>: <span class="string">&#x27;登录失败&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 将登录成功后的用户信息，保存到 Session 中</span></span><br><span class="line">  req.<span class="property">session</span>.<span class="property">user</span> = req.<span class="property">body</span> <span class="comment">// 用户的信息</span></span><br><span class="line">  req.<span class="property">session</span>.<span class="property">islogin</span> = <span class="literal">true</span> <span class="comment">// 用户的登录状态</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">msg</span>: <span class="string">&#x27;登录成功&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>从 session 中取数据</li></ol><p>可以直接从 req.session 对象上获取之前存储的数据，示例代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/api/username&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 从 Session 中获取用户的名称，响应给客户端</span></span><br><span class="line">  <span class="keyword">if</span> (!req.<span class="property">session</span>.<span class="property">islogin</span>) &#123;</span><br><span class="line">    <span class="comment">// session 验证失败</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">msg</span>: <span class="string">&#x27;fail&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">    <span class="attr">username</span>: req.<span class="property">session</span>.<span class="property">user</span>.<span class="property">username</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>清空 Session 信息：req.session.destroy()</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/logout&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 清空 Session 信息</span></span><br><span class="line">  req.<span class="property">session</span>.<span class="title function_">destroy</span>()</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;退出登录成功&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>局限性：</p><p>Session 认证机制需要配合 Cookie 才能实现。由于 Cookie 默认不支持跨域访问，所以，当涉及到前端跨域请求后端接<br>口的时候，需要做很多额外的配置，才能实现跨域 Session 认证。<br>注意：<br>⚫ 当前端请求后端接口不存在跨域问题的时候，推荐使用 Session 身份认证机制。<br>⚫ 当前端需要跨域请求后端接口的时候，不推荐使用 Session 身份认证机制，推荐使用 JWT 认证机制。</p></blockquote><hr><h2 id="Express-使用-JWT"><a href="#Express-使用-JWT" class="headerlink" title="Express 使用 JWT"></a>Express 使用 JWT</h2><p>JWT（英文全称：JSON Web Token）是目前最流行的跨域认证解决方案</p><p>前后端分离推荐使用 JWT 认证机制</p><p>JWT 的工作原理：用户信息通过 Token 字符串的形式，保存在客户端浏览器中。服务器通过还原 Token 字符串的形式来认证用户的身份。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/f6Q43c6D.png" alt=""></p><p>JWT 通常由三部分组成，分别是 Header（头部）、Payload（有效荷载）、Signature（签名）。<br>三者之间使用英文的“.”分隔，格式如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Header.Payload.Signature</span><br></pre></td></tr></table></figure><blockquote><p>Payload 部分是真正的用户信息，它是用户信息经过加密之后生成的字符串。<br>Header 和 Signature 是安全性相关的部分，只是为了保证 Token 的安全性。</p></blockquote><p>客户端收到服务器返回的 JWT 之后，通常会将它储存在 localStorage 或 sessionStorage 中。<br>此后，客户端每次与服务器通信，都要带上这个 JWT 的字符串，从而进行身份认证。推荐的做法是把 JWT 放在 HTTP <strong>请求头的 Authorization 字段</strong>中，格式如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure><p>Express 中使用 JWT：</p><ol><li><p>安装包，导入包</p><p>jsonwebtoken 用于生成 JWT 字符串。express-jwt 用于将 JWT 字符串解析还原成 JSON 对象</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i jsonwebtoken express-jwt</span><br></pre></td></tr></table></figure><ol><li>如下：（插件老版本写法如下）</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.安装并导入 JWT 相关的两个包，分别是 jsonwebtoken 和 express-jwt</span></span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> expressJWT = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许跨域资源共享</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析 post 表单数据的中间件</span></span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.定义 secret 密钥，建议将密钥命名为 secretKey ，值自定义</span></span><br><span class="line"><span class="keyword">const</span> secretKey = <span class="string">&#x27;i am roydon&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.注册将 JWT 字符串解析还原成 JSON 对象的中间件</span></span><br><span class="line"><span class="comment">// 注意：只要配置成功了 express-jwt 这个中间件，就可以把解析出来的用户信息，挂载到 req.user 属性上</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressJWT</span>(&#123; <span class="attr">secret</span>: secretKey &#125;).<span class="title function_">unless</span>(&#123; <span class="attr">path</span>: [<span class="regexp">/^\/api\//</span>] &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录接口</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="comment">// 将 req.body 请求体中的数据，转存为 userinfo 常量</span></span><br><span class="line">  <span class="keyword">const</span> userinfo = req.<span class="property">body</span></span><br><span class="line">  <span class="comment">// 登录失败</span></span><br><span class="line">  <span class="keyword">if</span> (userinfo.<span class="property">username</span> !== <span class="string">&#x27;admin&#x27;</span> || userinfo.<span class="property">password</span> !== <span class="string">&#x27;000000&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="number">400</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;登录失败！&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 登录成功</span></span><br><span class="line">  <span class="comment">// 3.在登录成功之后，调用 jwt.sign() 方法生成 JWT 字符串。并通过 token 属性发送给客户端</span></span><br><span class="line">  <span class="comment">// 参数1：用户的信息对象</span></span><br><span class="line">  <span class="comment">// 参数2：加密的秘钥</span></span><br><span class="line">  <span class="comment">// 参数3：配置对象，可以配置当前 token 的有效期</span></span><br><span class="line">  <span class="comment">// 记住：千万不要把密码加密到 token 字符中</span></span><br><span class="line">  <span class="keyword">const</span> tokenStr = jwt.<span class="title function_">sign</span>(&#123; <span class="attr">username</span>: userinfo.<span class="property">username</span> &#125;, secretKey, &#123; <span class="attr">expiresIn</span>: <span class="string">&#x27;30s&#x27;</span> &#125;)</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;登录成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">token</span>: tokenStr, <span class="comment">// 要发送给客户端的 token 字符串</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是一个有权限的 API 接口</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/admin/getinfo&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="comment">// TODO_05：使用 req.user 获取用户信息，并使用 data 属性将用户信息发送给客户端</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">user</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;获取用户信息成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: req.<span class="property">user</span>, <span class="comment">// 要发送给客户端的用户信息</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO_06：使用全局错误处理中间件，捕获解析 JWT 失败后产生的错误</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 这次错误是由 token 解析失败导致的</span></span><br><span class="line">  <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="number">401</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;无效的token&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">500</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;未知的错误&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8888</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1:8888&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>插件新版本解析出来的信息好像会挂在到 req.auth 下。写法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO_01：安装并导入 JWT 相关的两个包，分别是 jsonwebtoken 和 express-jwt</span></span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">expressjwt</span>: expressjwt &#125; = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>)</span><br><span class="line"><span class="comment">// 允许跨域资源共享</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析 post 表单数据的中间件</span></span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO_02：定义 secret 密钥，建议将密钥命名为 secretKey</span></span><br><span class="line"><span class="keyword">const</span> secretKey = <span class="string">&#x27;i am roydon&#x27;</span></span><br><span class="line"><span class="comment">// TODO_04：注册将 JWT 字符串解析还原成 JSON 对象的中间件</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressjwt</span>(&#123; <span class="attr">secret</span>: secretKey, <span class="attr">algorithms</span>: [<span class="string">&#x27;HS256&#x27;</span>] &#125;).<span class="title function_">unless</span>(&#123; <span class="attr">path</span>: [<span class="regexp">/^\/api\//</span>] &#125;))</span><br><span class="line"><span class="comment">// 登录接口</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="comment">// 将 req.body 请求体中的数据，转存为 userinfo 常量</span></span><br><span class="line">  <span class="keyword">const</span> userinfo = req.<span class="property">body</span></span><br><span class="line">  <span class="comment">// 登录失败</span></span><br><span class="line">  <span class="keyword">if</span> (userinfo.<span class="property">username</span> !== <span class="string">&#x27;roydon&#x27;</span> || userinfo.<span class="property">password</span> !== <span class="string">&#x27;roydon&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="number">400</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;登录失败！&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 登录成功</span></span><br><span class="line">  <span class="comment">// TODO_03：在登录成功之后，调用 jwt.sign() 方法生成 JWT 字符串。并通过 token 属性发送给客户端</span></span><br><span class="line">  <span class="keyword">const</span> tokenStr = jwt.<span class="title function_">sign</span>(&#123; <span class="attr">username</span>: userinfo.<span class="property">username</span> &#125;, secretKey, &#123; <span class="attr">expiresIn</span>: <span class="string">&#x27;60s&#x27;</span> &#125;)</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;登录成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">token</span>: tokenStr <span class="comment">// 要发送给客户端的 token 字符串</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是一个有权限的 API 接口</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/admin/getinfo&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="comment">// TODO_05：使用 req.user 获取用户信息，并使用 data 属性将用户信息发送给客户端</span></span><br><span class="line">  <span class="comment">// 获取token头信息值+Bearer</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">auth</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;获取用户信息成功！&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: req.<span class="property">auth</span> <span class="comment">// 要发送给客户端的用户信息</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO_06：使用全局错误处理中间件，捕获解析 JWT 失败后产生的错误</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="number">401</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;无效的token&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">500</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;未知的错误&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 调用 app.listen 方法，指定端口号并启动web服务器</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8888</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1:8888&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>访问登录端口 <a href="http://127.0.0.1:8888/api/login">http://127.0.0.1:8888/api/login</a> 发现生成了加密 token<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/Yz4ncrVg.png" alt=""></p><p>客户端每次在访问那些有权限接口的时候，都需要主动通过请求头中的 <strong>Authorization</strong> 字段，将 Token 字符串发送到服务器进行身份认证。</p><div class="table-container"><table><thead><tr><th style="text-align:center">Authorization</th><th style="text-align:left">Bearer+刚才上图生成的 token 字符串(中间空格隔开)</th></tr></thead><tbody><tr><td style="text-align:center"></td></tr></tbody></table></div><p>加上请求头访问 getinfo 端口，得到挂载的 req.auth<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/30/evOCZIwX.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jQuery </tag>
            
            <tag> ajax </tag>
            
            <tag> jsonp </tag>
            
            <tag> cors </tag>
            
            <tag> node.js </tag>
            
            <tag> session </tag>
            
            <tag> 🔐JWT </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Minecraft——Forge1.16.5模组开发（36.2.20）——(3)第一个实体方块</title>
      <link href="/posts/mc-dev-3.html"/>
      <url>/posts/mc-dev-3.html</url>
      
        <content type="html"><![CDATA[<p>类似于方草块，我们可以自定义我们的实体方块，然后注册到Block组中，听起来很简单，需要继承minecraft提供的Block父类<br>下面演示一个黑曜石实体方块的例子，新建一个包代表新增的方块的例子注册和实例化都在此包下<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ac2d5cb9e95c4a979d6b20b8569fb474.png#pic_center" alt="在这里插入图片描述"><br>首先要注册我们的黑曜石方块，那么就需要先增加一个黑曜石实体类，然后再在此包下新建一个注册石块的类，因为黑曜石方块在mc中属于十块block<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/476de2db391f47a6b712083785931e22.png#pic_center" alt="在这里插入图片描述"><br>然后时注册类，去注册此方块实体类<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fbeeb09ebbf94db29f70c06e7a8c9c7c.png#pic_center" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/49cb0e9649d74994a065eb9f9795826a.png#pic_center" alt="在这里插入图片描述"></p><p>然后注册到mod总线中<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5226d2c48a8c47f3be0b28e30b07c132.png#pic_center" alt="在这里插入图片描述"></p><p>启动就能在方块栏最下面找到<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/16061cfc328b4b53ba86f484ca5b0566.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e33e99cec89d4a6d933a3f7d127450e0.png#pic_center" alt="在这里插入图片描述"><br>接着就是为方块添加材质贴图都是在resources包下添加</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">resources</span><br><span class="line">├── META-INF</span><br><span class="line">│   └── mods.toml</span><br><span class="line">├── assets</span><br><span class="line">│   └── boson</span><br><span class="line">│       ├── blockstates</span><br><span class="line">│       ├── lang</span><br><span class="line">│       ├── models</span><br><span class="line">│       │   ├── block</span><br><span class="line">│       │   └── item</span><br><span class="line">│       └── textures</span><br><span class="line">│           ├── block</span><br><span class="line">│           └── item</span><br><span class="line">└── pack.mcmeta</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/273551d34f324a1ba1bafacf01bd61bf.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/03f4f3d1835a4315aa6a262208269d41.png#pic_center" alt="在这里插入图片描述"><br>其中代码为</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;variants&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;model&quot;</span>: <span class="string">&quot;roydon:block/obsidian_block_model&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cebf7c7945bf4234a39ab0a91114bb83.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;parent&quot;</span>: <span class="string">&quot;block/cube_all&quot;</span>,</span><br><span class="line">  <span class="string">&quot;textures&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;all&quot;</span>: <span class="string">&quot;roydon:block/obsidian_block_texture&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8b8228e3e9564f4d806c73617fa14f71.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9b853ec89a4d4d8b9294a2d124675954.png#pic_center" alt="在这里插入图片描述"><br>最后实现的样子<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/be5327e0ff0e48c6aa9977b852f3ae3d.png#pic_center" alt="在这里插入图片描述"><br>本文是为了自己更方便理解逻辑，详细文档开发步骤可以前往文章首的开发链接<br><a href="https://boson.v2mcdev.com/block/modelandtextures.html">方块材质和素材</a></p>]]></content>
      
      
      <categories>
          
          <category> Minecraft </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
            <tag> ☕Java </tag>
            
            <tag> Forge </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Minecraft——Forge1.16.5模组开发（36.2.20）——(2)Mod全局配置</title>
      <link href="/posts/mc-dev-2.html"/>
      <url>/posts/mc-dev-2.html</url>
      
        <content type="html"><![CDATA[<p>当我们配置好mod开发环境后，注意到官方演示mod类上有一段注解</p><blockquote><p>@Mod(“examplemod”)</p></blockquote><p>这个的意思就是你这个mod的id，完全可以自定义，当你自定义后，修改resouses包下面的mods.toml文件，需要把mod_id修改为自己的mod_id<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/eac603f75a8a44fb85cd7b9ae3c559c2.png#pic_center" alt="修改modid"><br>这里可以别急着修改，因为我们要把官方的演示包给删掉，就是java包下的一些包都可以删掉，然后新建包，名称可以自己指定，此处是三级，主类在guo这个包下，即主类Guo就在此包下新建如下图<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ffeb670db84e4786a35106fcd94b1b66.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5a34203dd799439e8265095c60ba11d0.png#pic_center" alt="在这里插入图片描述"><br>为方便后续使用modid可以封装一个工具类，就是类Guo下面的Utils类，里面声明了modid。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/409497594e614567baf14ee0a9136ea4.png#pic_center" alt="在这里插入图片描述">主类调用时直接引用即可<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b989973641d9454385cd91233076a383.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> Minecraft </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
            <tag> ☕Java </tag>
            
            <tag> Forge </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Minecraft——Forge1.16.5模组开发（36.2.20）——(1)开发环境搭建</title>
      <link href="/posts/mc-dev-1.html"/>
      <url>/posts/mc-dev-1.html</url>
      
        <content type="html"><![CDATA[<p>==声明==：本文旨在提升作者的代码逻辑记忆能力，加深思考mojang的代码底层逻辑，更新mojang由于版本迭代替换掉的方法名称和实体名称，部分转载自Forge官方开发文档，指路-&gt;<a href="https://boson.v2mcdev.com/introducation/intro.html">1.16.5开发</a>，源代码GitHub-&gt;<a href="https://github.com/FledgeXu/BosonSourceCode">BosonSourceCode</a><br>==同时==：各位也可前往GitHub查看minecraft中文开发文档，指路-&gt;<a href="https://github.com/Mouse0w0/MinecraftDeveloperGuide#user-content-forge-minecraft%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8C%85%E7%A6%BB%E7%BA%BF%E5%8C%85">minecraft中文开发指南</a></p><p align="center"><font color="pink" size="4"><==为了更好的方块世界==></font></p><h1 id="1-java的安装"><a href="#1-java的安装" class="headerlink" title="1.java的安装"></a>1.java的安装</h1><p>本文由于按照官方操作文档进行开发1.16.5版本，故java版本为1.8，此处我的java的jdk版本为1.8_311，开发1.16.5的forge推荐使用java8；</p><p><hr/><br>//作者java版本：</p><p><div align=center ><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a8febe59994b4280a2cd6c05cadbd32d.png#pic_center/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center=200*150)" width="80%" /></div> </p><hr/><h2 id="1-1java下载"><a href="#1-1java下载" class="headerlink" title="1.1java下载"></a>1.1java下载</h2><p><a href="https://www.aliyundrive.com/s/wq8Z9aEgweU">java8u311阿里云盘分享——提取码: py20</a><br>java下载好后创建文件夹，把安装路径在随便一个盘中，如下图作者的java放在了D盘，新建的文件夹目录如下，注意：jdk1.8.0_311也是自己新建的文件夹，到时候安装时选择安装路径就是把java的jdk安装在此文件夹下；<br>jdk的目录结构</p><blockquote><p>D：<br>├── JAVA<br>│   └── java<br>├── └── jdk1.8.0_311</p></blockquote><p><hr/><br>//安装目录：</p><p><div align=center ><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/63d1674101cd482c9b72cc3570e1a2c4.png#pic_center/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center=200*150)" width="80%" /></div> </p><p><hr/><br>作者这里已经安装过了，安装就跳过了，都是一直下一步选择安装路径时就选你新建的 jdk1.8.0_311这个文件下，安装完成jdk之后，会再弹出安装jre的页面，选择路径也是 jdk1.8.0_311，随后一直下一步完成。</p><h1 id="2-java环境变量的配置"><a href="#2-java环境变量的配置" class="headerlink" title="2.java环境变量的配置"></a>2.java环境变量的配置</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c45fe6e8d1ef412fb97686e3d89f35b3.png#pic_center" alt="在这里插入图片描述"><br>变量名就如下图是</p><blockquote><p>JAVA_HOME</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9f8e3f2f08434f6fb36b5843cfe97d5a.png#pic_center" alt="在这里插入图片描述"><br>随后在系统变量中找到path<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/478cd5d1b11e44b58831b7d284a3cf29.png#pic_center" alt="在这里插入图片描述">点击下方编辑按钮</p><p>新建两个内容如下<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/21b2156db1914306b1734720a4ff32f3.png#pic_center" alt="在这里插入图片描述">点击确定应用，到此Java就算是配好了。</p><h1 id="3-Java-IDE——IDEA的安装"><a href="#3-Java-IDE——IDEA的安装" class="headerlink" title="3.Java IDE——IDEA的安装"></a>3.Java IDE——IDEA的安装</h1><p>官网：<a href="https://www.jetbrains.com/zh-cn/idea/download/#section=windows">idea</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c221059c383d4880ad63813dcc789ae8.png#pic_center" alt="在这里插入图片描述"></p><h1 id="4-Forge1-16-5mdk下载"><a href="#4-Forge1-16-5mdk下载" class="headerlink" title="4.Forge1.16.5mdk下载"></a>4.Forge1.16.5mdk下载</h1><p>mdk即多媒体开发工具包，就像玩minecraft时想有更好的体验，其中一种方法是添加mod模组，而模组是jar后缀的java文件，mdk在编译完之后也是jar后缀的文件，所以我们就可以利用mdk提供的现成框架来自定义模组了。</p><p>Forge官网==&gt;<a href="https://files.minecraftforge.net/net/minecraftforge/forge/index_1.16.5.html">FORGE1.16.5</a><br>点击mdk进行下载，1.16.5的不同版本开发起来会有很大出入<br>例如新建物品要分类到自定义的物品栏中，就从老版本的group变为tab调用<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e0cb1f53689d4ff6834ff826dd7eced2.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/11ca14c0ab24472d8c2a5c915170afda.png#pic_center" alt="在这里插入图片描述"><br>下载好后解压就行，文件内容如图所示<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a6df938cf4134d4f98571054f2245b42.png#pic_center" alt="在这里插入图片描述"><br>我们接下来要做的事就是新建一个文件夹，作为项目文件夹，位置随意就行，新建一个文件夹后把上图解压出来的全部内容复制到你新建的文件夹中，（全部复制，一个不能少，建议ctrl+a，ctrl+c）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/10a743aae12442a287b077899400fab7.png#pic_center" alt="在这里插入图片描述"><br>仔细观察发现里面有一个txt后缀文件，名称为readme，就是官方提供的使用方法，用Nodepad打开<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c35d686949684883991e3e304113905e.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5a13929ba92a4cff87680a1e0ff45145.png#pic_center" alt="在这里插入图片描述"><br>接下来按照readme提示的步骤走,从forge官网下载依赖包<br>然后就是漫长的等待；；；；<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cae8e94c1caf4ddb99934076bdfdec62.png#pic_center" alt="在这里插入图片描述">之后完成<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c89930fc51554dafa1faaf88f4a8eb52.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c1335907554240438e2e60dc44cecaa9.png#pic_center" alt="在这里插入图片描述"></p><p>==运行成功==<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d32a9302484f40c8bab18558fe5f233b.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0e0e9020d2114e2f842f69531d159f45.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> Minecraft </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
            <tag> ☕Java </tag>
            
            <tag> Forge </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis-安装与配置</title>
      <link href="/posts/306dd2fe.html"/>
      <url>/posts/306dd2fe.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-Redis"><a href="#1-Redis" class="headerlink" title="1. Redis"></a>1. Redis</h1><h2 id="1-1-Redis的安装"><a href="#1-1-Redis的安装" class="headerlink" title="1.1. Redis的安装"></a>1.1. Redis的安装</h2><p>​        大多数企业都是基于Linux服务器来部署项目，而且Redis官方也没有提供Windows版本的安装包。本教程会在Linux下部署redis。</p><p>​        Linux版本为CentOS 7。</p><p>​        Redis的官方网站地址：<a href="https://redis.io/">https://redis.io/</a></p><h3 id="1-1-1-Windows安装"><a href="#1-1-1-Windows安装" class="headerlink" title="1.1.1. Windows安装"></a>1.1.1. Windows安装</h3><p>​        首先下载Redis压缩包，直接解压到指定目录即可，redis.conf配置文件</p><h3 id="1-1-2-Linux安装"><a href="#1-1-2-Linux安装" class="headerlink" title="1.1.2. Linux安装"></a>1.1.2. Linux安装</h3><p>​        首先去Redis官网 <a href="https://redis.io/download/">download</a>下载linux版本压缩包，官网只提供.<em>tar</em>.<em>gz</em>格式在linux环境下部署的压缩包。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/77d11908ba614dab83b9477610b264d1.png?size_19#pic_center =590x270" alt="在这里插入图片描述"></p><p>Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：<br>打开linux命令行界面输入下列命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><p>下载好的Redis安装包需要上传到虚拟机的指定目录，如此处我们上传的目录为根目录下的/JavaTools/Redis-5.0.14,可以使用==Xftp==上传。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a973abec3ef646b7821005bb740b6eee.png#pic_center =600x400" alt="javatools"></p><blockquote><p>在根目录’/‘下创建JavTools文件夹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">cd</span> /</span><br><span class="line">&gt;<span class="built_in">mkdir</span> JavTools</span><br></pre></td></tr></table></figure><br>后续操作可使用虚拟机连接工具Xftp</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8b733e9506ed4985ae68a60b050bcd84.png?size_10#pic_center" alt="ftp"></p><blockquote><p>下载好的redis-5.0.14.tar.gz压缩包上传到Linux后解压缩</p><p>解压命令<code>tar -xzf redis-5.0.14.tar.gz</code></p><p>得到redis-5.0.14</p></blockquote><p>进入redis目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-5.0.14</span><br></pre></td></tr></table></figure><p>运行编译命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><blockquote><p>可能会出现错误：jemalloc/jemalloc.h：没有那个文件或目录，执行如下命令即可： </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;make MALLOC=libc</span><br></pre></td></tr></table></figure></blockquote></blockquote><p>make install可将redis的相关运行文件复制一份放到==/usr/local/bin/==下，这样就可以在任意目录下执行redis的命令了</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5a0222b53a9249c49489afb03e339d31.png#pic_center" alt="usr/local"></p><ul><li>redis-cli：是redis提供的命令行客户端</li><li>redis-server：是redis的服务端启动脚本</li><li>redis-sentinel：是redis的哨兵启动脚本</li></ul><hr><h4 id="启动Redis"><a href="#启动Redis" class="headerlink" title="启动Redis"></a>启动Redis</h4><p>这样就可以启动Redis服务了，启动方式例如：</p><ul><li>默认启动</li><li>指定配置启动</li><li>开机自启</li></ul><hr><p>1.默认启动：</p><p>在任意目录下输入redis-server命令即可启动Redis</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>启动成功<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/af2fe54d6e0046b0b9042c728be8ee6f.png" alt="在这里插入图片描述"></p><p>这种属于<code>前台启动</code>，会阻塞整个会话窗口，窗口关闭或者按下<code>CTRL + C</code>则Redis停止。不推荐使用。</p><hr><p>2.指定配置文件启动：</p><p>需要将Redis以<strong>后台</strong>方式启动，需要修改redis.conf配置文件，就在解压的目录<code>/JavaTools/redis-5.0.14</code>下：</p><p>进入redis-5.0.14编辑redis.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-5.0.14</span><br></pre></td></tr></table></figure><p>先将配置文件备份一份：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> redis.conf redis.conf.bck</span><br></pre></td></tr></table></figure><p>然后修改redis.conf文件中的一些配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi redis.conf</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span></span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0</span><br><span class="line"><span class="comment"># 守护进程，修改为yes后即可后台运行</span></span><br><span class="line">daemonize <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># 密码，设置后访问Redis必须输入密码</span></span><br><span class="line">requirepass qwer1234</span><br></pre></td></tr></table></figure><p>详细步骤前往博客<a href="https://blog.csdn.net/m0_51390535/article/details/124965190?spm=1001.2014.3001.5502">Redis配置文件</a></p><p>Redis的其它常见配置(不要求)：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 监听的端口</span></span><br><span class="line"><span class="attr">port</span> <span class="string">6379</span></span><br><span class="line"><span class="comment"># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span></span><br><span class="line"><span class="attr">dir</span> <span class="string">.</span></span><br><span class="line"><span class="comment"># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span></span><br><span class="line"><span class="attr">databases</span> <span class="string">1</span></span><br><span class="line"><span class="comment"># 设置redis能够使用的最大内存</span></span><br><span class="line"><span class="attr">maxmemory</span> <span class="string">512mb</span></span><br><span class="line"><span class="comment"># 日志文件，默认为空，不记录日志，可以指定日志文件名</span></span><br><span class="line"><span class="attr">logfile</span> <span class="string">&quot;redis.log&quot;</span></span><br></pre></td></tr></table></figure><p>用配置文件启动Redis：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server redis.conf</span><br></pre></td></tr></table></figure><p>停止服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span></span><br><span class="line"><span class="comment"># 因为之前配置了密码，因此需要通过 -u 来指定密码</span></span><br><span class="line">redis-cli -u qwer1234 shutdown</span><br></pre></td></tr></table></figure><hr><p>3.开机自启：</p><p>我们也可以通过配置来实现开机自启。</p><p>首先，新建一个系统服务文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=redis-server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>然后重载系统服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>现在，我们可以用下面这组命令来操作redis了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">systemctl start redis</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">systemctl stop redis</span><br><span class="line"><span class="comment"># 重启</span></span><br><span class="line">systemctl restart redis</span><br><span class="line"><span class="comment"># 查看状态</span></span><br><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><p>执行下面的命令，可以让redis开机自启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><hr><h2 id="1-2-Redis客户端cli"><a href="#1-2-Redis客户端cli" class="headerlink" title="1.2.Redis客户端cli"></a>1.2.Redis客户端cli</h2><h3 id="1-2-1-Redis命令行客户端"><a href="#1-2-1-Redis命令行客户端" class="headerlink" title="1.2.1.Redis命令行客户端"></a>1.2.1.Redis命令行客户端</h3><p>Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli [options] [commonds]</span><br></pre></td></tr></table></figure><p>其中常见的options有：</p><ul><li><code>-h 127.0.0.1</code>：指定要连接的redis节点的IP地址，默认是127.0.0.1</li><li><code>-p 6379</code>：指定要连接的redis节点的端口，默认是6379</li><li><code>-a qwer1234</code>：指定redis的访问密码 </li></ul><p>其中的commonds就是Redis的操作命令，例如：</p><ul><li><code>ping</code>：与redis服务端做心跳测试，服务端正常会返回<code>pong</code></li></ul><p>不指定commond时，会进入<code>redis-cli</code>的交互控制台：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b1f36db50eef49d2a06b4c8bc6e75ff7.png#pic_center" alt="keys"></p><p>可以使用命令连接cli客户端</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 本机地址 -p 6379</span><br></pre></td></tr></table></figure><p>配置文件设置有密码时，cli启动后需要输入密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AUTH qwer1234 <span class="comment">#redis密码</span></span><br></pre></td></tr></table></figure><p>启动失败，尝试开放6379端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -I INPUT -p tcp --dport 6379 -j ACCEPT</span><br></pre></td></tr></table></figure><hr><p><strong>其他硬知识</strong></p><ul><li>查看redis进程是否存在<br><code>ps -ef |grep redis</code></li><li>检测6379端口是否在监听<br><code>netstat -lntp | grep 6379</code></li><li>停止redis，使用ctrl+c快捷键或者使用客户端 <code>redis-cli shutdown</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
            <tag> 🐧Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis通用命令和类型</title>
      <link href="/posts/32fwef.html"/>
      <url>/posts/32fwef.html</url>
      
        <content type="html"><![CDATA[<h2 id="reids通用命令和类型"><a href="#reids通用命令和类型" class="headerlink" title="reids通用命令和类型"></a>reids通用命令和类型</h2><h3 id="redis的数据类型key-value"><a href="#redis的数据类型key-value" class="headerlink" title="redis的数据类型key-value"></a>redis的数据类型key-value</h3><p>redis不想数据库有table其中id不会混乱，但redis的key都存在一起，所以命名可以加上’ : ‘作为区分<br>例如，本人roydon有article和problem</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">roydon:article:<span class="built_in">id</span></span><br><span class="line">roydon:problem:<span class="built_in">id</span></span><br></pre></td></tr></table></figure><p>value若是Java对象，可序列化为json字符串后存储<br>例如，key为roydon:user:1对应value：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#123;&quot;id&quot;:1,&quot;name&quot;:&quot;roydon&quot;,&quot;age&quot;:20&#125;&#x27;</span></span><br></pre></td></tr></table></figure></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f50fc59decaf4476aeb8be979251af68.png#pic_center" alt="keys"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/10952f88c3f9419791cbac89c59eb73a.png#pic_center" alt="rdmuser"></p><p>命令添加<br><code>set (key) (value)</code><br>获取<br><code>get (key) (value)</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6cb0054362f54a42bc4c9d2bdd7fe423.png#pic_center" alt="getset"></p><h3 id="通用命令"><a href="#通用命令" class="headerlink" title="通用命令"></a>通用命令</h3><p>结合help (commend)查看具体用法</p><blockquote><blockquote><p>KEYS：查看符合模板的所有key，结合通配符，不建议生产使用<br>DEL：删除指定的key，也可以同时删除多个<br>EXISTS：判断key是否存在<br>EXPIRE：给key设置有效期，到期该key自动删除（integer） -2<br>TTL：查看一个key的剩余有效期</p></blockquote></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8f682f19663941e38dcda6defaaeaa89.png#pic_center" alt="在这里插入图片描述"></p><h3 id="String类型的常用命令"><a href="#String类型的常用命令" class="headerlink" title="String类型的常用命令"></a>String类型的常用命令</h3><p>string类型，其value有三种//////////////////////////////////////</p><ul><li>string</li><li>int</li><li>float</li></ul><div class="table-container"><table><thead><tr><th>KEY</th><th>VALUE</th></tr></thead><tbody><tr><td>msg</td><td>hello world</td></tr><tr><td>num</td><td>100</td></tr><tr><td>pai</td><td>3.14</td></tr></tbody></table></div><hr><p>命令———help+comment查看</p><blockquote><p>1.SET<br>2.GET<br>3.MSET：批量添加<br>4.MGET：批量获取，后面添加多个key得到多的对应value<br>5.INCR:int的key自增1<br>6.INCRBY：指定增加或减少，key后指定数子，负数为减<br>7.INCRBYFLOAT：float自增，必须指定，指定值为float数<br>8.SETNX：添加string类型键值对，key若存在不执行。<br>同<code>set `key` `value` nx</code><br>9.SETEX：添加string类型键值对，并指定有效期</p></blockquote><h3 id="Hash类型"><a href="#Hash类型" class="headerlink" title="Hash类型"></a>Hash类型</h3><p>也叫散列，value是一个无序字典，类似于java中的HashMap结构<br>Hash将每个字段独立存储，可以针对单个字段做CRUD<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/aeea20ac3c264108b06aeab80a5961c6.png#pic_center" alt="在这里插入图片描述">可对单个field操作</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5c3ad00d259445e7a0e43b9dd8ae98b3.jpeg#pic_center" alt="hsak"></p><h3 id="List类型"><a href="#List类型" class="headerlink" title="List类型"></a>List类型</h3><p>类似Java中LinkedList，双向链表，反正向检索<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f7888347fd2540df804f761624f93b21.jpeg#pic_center" alt="在这里插入图片描述"></p><h3 id="Set类型"><a href="#Set类型" class="headerlink" title="Set类型"></a>Set类型</h3><p>与Java中HashSet类似，可以看作一个value为null的HashMap</p><ul><li>无序</li><li>元素不可重复</li><li>查找快</li><li>支持交集，并集，差集等功能</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/60089ae5030244d790bc389890adafeb.jpeg#pic_center" alt="在这里插入图片描述"></p><h3 id="SortedSet类型"><a href="#SortedSet类型" class="headerlink" title="SortedSet类型"></a>SortedSet类型</h3><p>是一个开排序的set集合，类似Java中TreeSet，但底层数据结构差别很大。SortedSet中每个元素都带有一个score属性，可以基于score属性对元素排序</p><ul><li>可排序</li><li>元素不重复</li><li>查询速度快<br>//////////////////适用场景：排行榜<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/110fd39f22b3426697196f80bb1fb84b.jpeg#pic_center" alt="sortset"></li></ul>]]></content>
      
      
      <categories>
          
          <category> redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis缓存击穿</title>
      <link href="/posts/2f323f.html"/>
      <url>/posts/2f323f.html</url>
      
        <content type="html"><![CDATA[<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>也是热点key问题，就是一个高并发访问并且缓存重建较为复杂的key突然失效了，这里的key失效可以理解为某电商平台在节日大促，同时段大量请求访问一个商品，这个商品key会存在一个固定TTL，若TTL到时了，key消失，仍有大量请求访问该商品，这个key的重建业务复杂，耗时又高。于是，请求都来到数据库拿数据，瞬间给数据库造成了巨大的压力。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h3><p>在发起请求未命中redis缓存时，表示此信息不存在，或过期，尝试获取锁。<br>若没拿到锁，表示此数据正在被更新，线程进行休眠再递归重新从缓存获取数据。<br>若拿到了锁，根据id查数据库，将数据信息写入redis并释放互斥锁，返回数据。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/44ba912cd87f4cdc9881504c42c2db61.jpeg#pic_center" alt="互斥锁"><br><em>ps：图片来自B站黑马程序员</em></p><blockquote><blockquote><p>redis中有命令<code>setnx key value</code>表示key不存在就set，存在就无法赋值，这就可以应用到锁中<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ef70f2d1e0fe4378bd22be29fe38968c.png#pic_center" alt="在这里插入图片描述"></p></blockquote></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e360a4c6584c4a8f858591c57da0681a.png#pic_center" alt="nx"></p><p>对应方法setIfAbsent()，再设置过期时间，避免死锁</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(String key)</span> &#123;<span class="comment">//获取锁</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span> stringRedisTemplate</span><br><span class="line">        .opsForValue()</span><br><span class="line">        .setIfAbsent(key, <span class="string">&quot;1&quot;</span>, LOCK_SHOP_TTL, TimeUnit.SECONDS);</span><br><span class="line">        <span class="comment">//锁的存在时间，几秒就行</span></span><br><span class="line">        <span class="keyword">return</span> BooleanUtil.isTrue(flag);<span class="comment">//flag可能为null，进行拆箱封箱</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>模拟：封装在了queryWithMutex()中，开始店铺信息不存在redis中，当请求需要获取店铺信息时，redis没命中，那么获取锁，<br>进行缓存写入操作，成功后释放锁并返回数据。然后其他请求就能从redis中拿到数据了。<br><em>ps：其中有部分缓存穿透操作，请前往<a href="https://blog.csdn.net/m0_51390535/article/details/124992782?spm=1001.2014.3001.5501">redis缓存穿透</a></em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="comment">//缓存穿透</span></span><br><span class="line"><span class="comment">//        Shop shop = queryWithPassThrough(id);</span></span><br><span class="line">        <span class="comment">//互斥锁解决缓存击穿</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> queryWithMutex(id);</span><br><span class="line">        <span class="keyword">if</span> (shop == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Shop <span class="title function_">queryWithMutex</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="comment">//从redis查询商铺缓存</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> CACHE_SHOP_KEY + id;<span class="comment">//缓存的key</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">            <span class="comment">//存在直接返回</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//判断命中的是否为空值</span></span><br><span class="line">        <span class="keyword">if</span> (shopJson != <span class="literal">null</span>) &#123;<span class="comment">//shopJson==&quot;&quot;</span></span><br><span class="line">            <span class="comment">//返回一个错误信息</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.redis中不存在,实现缓存重建</span></span><br><span class="line">        <span class="comment">//4.1获取互斥锁</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">lockKey</span> <span class="operator">=</span> LOCK_SHOP_KEY + id;</span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> tryLock(lockKey);</span><br><span class="line">            <span class="comment">//4.2判断是否获取成功</span></span><br><span class="line">            <span class="keyword">if</span> (!isLock) &#123;<span class="comment">//获取🔒失败</span></span><br><span class="line">                <span class="comment">//4.3失败，休眠小时间后重试查询操作（递归）</span></span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                <span class="keyword">return</span> queryWithMutex(id);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//4.4成功，根据id查询数据库</span></span><br><span class="line">            shop = getById(id);</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);<span class="comment">//模拟数据库不在本机，查询数据库会有延时</span></span><br><span class="line">            <span class="keyword">if</span> (shop == <span class="literal">null</span>) &#123;<span class="comment">//数据库没有数据，缓存设空</span></span><br><span class="line">                <span class="comment">//将null写入redis(缓存穿透策略)</span></span><br><span class="line">                stringRedisTemplate.opsForValue().set(key, <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//数据库中存在，存入redis</span></span><br><span class="line">            stringRedisTemplate.opsForValue().set(key, JSONUtil.toJsonStr(shop), CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//7.释放互斥锁</span></span><br><span class="line">            unLock(lockKey);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> shop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(String key)</span> &#123;<span class="comment">//获取锁</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().setIfAbsent(key, <span class="string">&quot;1&quot;</span>, LOCK_SHOP_TTL, TimeUnit.SECONDS);<span class="comment">//时间很短</span></span><br><span class="line">        <span class="keyword">return</span> BooleanUtil.isTrue(flag);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">unLock</span><span class="params">(String key)</span> &#123;<span class="comment">//释放锁</span></span><br><span class="line">        stringRedisTemplate.delete(key);<span class="comment">//就是删除缓存的锁</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>锁最终需要被释放，所以try的finally需要释放锁。<br>理论预期，只会进行一次数据库查询，需要在高并发条件模拟大量请求到来，只有一个线程获取锁，写缓存，其他请求递归查询，等待，直到写入缓存成功，理论全部请求会通过，只是耗时问题）</p><blockquote><p>redis无缓存，大量请求到来，数据库查询次数一次，并存入redis，释放锁<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b9c13b3ef2ac4f54a21165b31971fa2f.png#pic_center" alt="在这里插入图片描述"></p></blockquote><h3 id="逻辑过期"><a href="#逻辑过期" class="headerlink" title="逻辑过期"></a>逻辑过期</h3>]]></content>
      
      
      <categories>
          
          <category> redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis缓存穿透</title>
      <link href="/posts/321rrew.html"/>
      <url>/posts/321rrew.html</url>
      
        <content type="html"><![CDATA[<p>ps:想只读有效信息，见<code>红字</code></p><h2 id="正常情况"><a href="#正常情况" class="headerlink" title="正常情况"></a>正常情况</h2><p>当在高并发，高性能，降低数据库压力的情况下，首先会选择redis作为缓存机制，当有大量请求需要查询数据库时，为了降低数据库的压力，并提高请求查询性能（redis基于内存，读取速度快），会将数据库的信息缓存到redis中，这样就形成了很好的分层结构，请求可以直接查询redis中缓存的信息，然后返回，就不需要经过数据库，减小了数据库的压力，同时，可以迅速查询到信息，岂不美哉。<br><code>先从缓存取数据，娶不到从数据库取，取到了就返回并添加缓存或更新缓存，取不到就返回空。</code></p><blockquote><p>==正常请求操作==<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4bd2df7706884e2283d71236e19440ac.png#pic_center" alt="common"></p><blockquote><p>第4步，当从数据库拿到数据时，一并添加到redis缓存，下次若是相同请求，直接访问redis并返回，大大提升了性能和可用性，持久性。</p></blockquote></blockquote><h2 id="非正常情况"><a href="#非正常情况" class="headerlink" title="非正常情况"></a>非正常情况</h2><p>但有利就有弊，如果请求的数据是数据库中没有的，同样redis中也不会出现此数据缓存，这样当某短时间大量无效请求（数据库无对应数据）访问时，由于redis中没有此数据缓存，请求就给到了数据库，那么压力就来到了数据库这边，可想而知，其中会浪费掉多少性能，若是有心怀**之人故意为之，后果可想而知。所以，这就需要一个很好的解决方案，当大量无效请求（数据库并没有此数据）来访问时，就会导致缓存穿透。<br><code>缓存和数据库都娶不到数据，若大量无效请求发起，数据库负载压力过大</code></p><blockquote><p>==非正常操作（在大量无益请求的场景下）==<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4feedc5528b843ca9e126e7a42bae330.png#pic_center" alt="unnormal"></p><blockquote><p>第4步变为直接返回null，那么请求一多，全都访问数据库，好嘛，要是网站被攻击了，那数据库就白想活着~</p></blockquote></blockquote><h2 id="解决方案✍️✍️"><a href="#解决方案✍️✍️" class="headerlink" title="解决方案✍️✍️"></a>解决方案✍️✍️</h2><h3 id="1-redis缓存设空-“”"><a href="#1-redis缓存设空-“”" class="headerlink" title="1.redis缓存设空(“”)"></a>1.redis缓存设空(“”)</h3><p><code>redis设置key-null，TTL设置短时间</code><br>那么就又要考虑了，当一个请求访问时，我们两层都没有相应数据，数据库操作后接着对redis设一个空的键值，那么当我过了段时间又增加了一条数据，正好就是这个请求需要的，当第一步走到redis时直接就死掉了，那么可太不划算了。<br>所以在缓存设空时尽量TTL一个短时间，防住短时间大量请求即可，谁也不会闲的干这事。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b78f9bd4a5084922b7378642f5f1063f.png#pic_center" alt="redis=null"><br>那么我们接下来模拟一下具体场景<br>下面是操作流程代码块</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">//从redis查询商铺缓存</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;cache:shop&quot;</span>+id;</span><br><span class="line">    <span class="comment">//根据key拿到数据json块</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">        <span class="comment">//存在，转化为对应实体类直接返回</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//判断命中的是否为空值，下下面代码存入的value为&quot;&quot;空</span></span><br><span class="line">    <span class="keyword">if</span> (shopJson!=<span class="literal">null</span>) &#123;<span class="comment">//等效于shopJson==&quot;&quot;</span></span><br><span class="line">        <span class="comment">//返回一个错误信息</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//不存在根据id查数据库</span></span><br><span class="line">    <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> getById(id);</span><br><span class="line">    <span class="keyword">if</span> (shop == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">//数据库中不存在，将null写入redis，并设置TTL</span></span><br><span class="line">        stringRedisTemplate.opsForValue()</span><br><span class="line">        .set(key,<span class="string">&quot;&quot;</span>,<span class="number">2</span>, TimeUnit.MINUTES);</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//存在，存入redis</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(key,JSONUtil.toJsonStr(shop),<span class="number">60</span>, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一条请求，这里是根据id来查询，此时设置id为0，数据库并不存在这条数据。观察到，返回了不存在json信息<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c2f58b31c7cf42529a4cf1865f1d67ec.png#pic_center" alt="在这里插入图片描述"><br>而且redis是没有缓存的，所以执行了相应数据库的sql操作，数据库并没有id为0的数据，所以下一步就是增加redis空缓存<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/24212e0790a64c12a529d90621ce679a.png#pic_center" alt="123">此时，redis增加了一个key表示店铺id为0的空缓存，右上角TTL还剩·114秒（设置的为2分钟）<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1469247c024b4719877c49fd273623a3.png#pic_center" alt="在这里插入图片描述"><br>这样就能在短时间在缓存层面拦截大量无意义请求。</p><h3 id="2-布隆过滤"><a href="#2-布隆过滤" class="headerlink" title="2.布隆过滤"></a>2.布隆过滤</h3><p>利用hash算法计算数据库数据得到byte数组，当请求来访问先经过布隆过滤器，根据此数组0和1判断数据是否存在，存在就放行到redis否则拒绝。</p>]]></content>
      
      
      <categories>
          
          <category> redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络（谢希仁第八版）第一章：概述</title>
      <link href="/posts/7165c5d8.html"/>
      <url>/posts/7165c5d8.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-计算机网络在信息时代的作用"><a href="#1-计算机网络在信息时代的作用" class="headerlink" title="1.计算机网络在信息时代的作用"></a><strong>1.计算机网络在信息时代的作用</strong></h2><p><strong>三网</strong>：<code>电信网络，有线电视网络，计算机网络。</code></p><p><strong>三网融合</strong>：由于涉及多方面的利益和行政管辖权的问题，目前没有实现。</p><p><strong>Internet</strong>（译名：因特网，目前使用最广泛的译名为：==互联网==（不是互连网<strong>internet</strong>））采用<strong>TCP/IP协议族</strong>作为通信规则，其前身为美国的ARPANET。</p><p>*互联网的两个特点：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> ***连通性***</span><br><span class="line"><span class="number">2.</span> ***共享***</span><br></pre></td></tr></table></figure><h2 id="2-互联网概述"><a href="#2-互联网概述" class="headerlink" title="2.互联网概述"></a>2.互联网概述</h2><blockquote><p>互联网概述：将地理位置不同的具有独立功能的多台计算机及其外部设备，通过通信线路连接起来，在网络操作系统，网络管理软件及网络通信协议的管理和协调下，实现资源共享和信息传递的计算机系统。</p></blockquote><p><strong>计算机网络（网络</strong>）：由若干<strong>节点</strong>（node可以是计算机，集线器，交换机或路由器等）和连接这些节点的<strong>链路</strong>（link）组成。<br><strong>互连网（internet）</strong>：网络的网络，由许多计算机网络通过路由器相互连接起来，构成的覆盖范围更大的计算机网络。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/595e22506daf4889a706851ae901f14a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br><strong>互联网基础结构发展的三个阶段</strong>：</p><ol><li>第一阶段（1969—1990）：<br>单个的分组交换网络ARPANET（不是互连网）向互连网发展，1983年TCP/IP协议成为ARPANET上的标准协议，使得所有使用此协议的计算机都能利用互连网相互通信。因此1983年也是互联网的诞生时间。1990年ARPANET关闭。</li><li>第二阶段（1985—1993）：<br>建成了<strong>三级结构的互联网</strong>。1985年起，美国国家科学基金会NSF（National Science Foundation）就围绕六个大型计算机中心建设计算机网络，即国家科学基金网NSFNET。它是一个三级计算机网络，分为<strong>主干网、地区网和校园网（或企业网）</strong>。这种三级计算机网络覆盖了全美国主要的大学和研究所，并且成为互联网中的主要组成部分。<br><strong>三级结构：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b6ca353827f04b04a0950002c3edd2b5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></li><li>第三阶段（1993—now）：<br>逐渐形成了<strong>全球范围的多层次ISP结构的互联网</strong><br>1993年开始，美国政府资助的NSFNET逐渐被若干个<strong>商用的互联网主干网</strong>替代，政府机构不再负责互联网的运营。<br>这样就出现了一个新的名词：<strong>互联网服务提供者ISP（InternetService Provider）</strong>。在许多情况下，ISP就是一个进行商业活动的公司，因此ISP又常译为<strong>互联网服务提供商</strong>。<br>例如，中国电信、中国联通和中国移动等公司都是我国最有名的ISP。<br><strong>多层次的ISP：主干ISP、地区ISP和本地ISP</strong>。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c9a31065911c4ac984f92dda8c1aa748.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>20世纪90年代，欧洲原子核研究组织CERN开发==万维网WWW==（==World Wide Web==）成为互联网指数级增长的主要驱动力。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3bfa3b6c58ce419b8b486b45ce2565f2.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_15,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><h2 id="3-互联网的组成"><a href="#3-互联网的组成" class="headerlink" title="3.互联网的组成"></a>3.互联网的组成</h2></li></ol><ul><li>==边缘部分==：主机</li><li>==核心部分==：网络和路由器<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0a5b90c5bc3046e9a690545763d04376.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>边缘部分的通信方式：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#客户—服务器方式（CS方式）  Client/Server</span><br><span class="line">#对等方式（P2P方式）       Peer-to-Peer</span><br></pre></td></tr></table></figure><p>核心部分：</p><ol><li>电路交换：效率低</li><li>分组交换：高效，灵活，可靠</li><li>报文交换：最慢（基本不用了）</li></ol><h2 id="4-计算机在我国的发展"><a href="#4-计算机在我国的发展" class="headerlink" title="4.计算机在我国的发展"></a><strong>4.计算机在我国的发展</strong></h2><p>“了解即可”</p><h2 id="5-计算机网络的类别"><a href="#5-计算机网络的类别" class="headerlink" title="5.计算机网络的类别"></a>5.计算机网络的类别</h2><ol><li>按作用范围分：</li></ol><blockquote><pre><code>          1.广域网WAN          2.城域网MAN          3.局域网LAN          4.个人区域网PAN</code></pre></blockquote><ol><li>按网络的使用者分<blockquote><pre><code>          1.公用网          2.专用网</code></pre></blockquote></li></ol><h2 id="6-计算机网络的性能"><a href="#6-计算机网络的性能" class="headerlink" title="6.计算机网络的性能"></a>6.计算机网络的性能</h2><p><strong>性能指标</strong>：<br>==<strong>1.速率：</strong>==<br>数据的传送速率，它也称为<strong>数据率</strong>（data rate）或<strong>比特率</strong>（bit rate）。<br>单位：bit/s（比特每秒）（或b/s，有时也写为bps，即bit per second）。<br>==<strong>2.带宽：</strong>==（两种含义）<br> （1）.频域：某个信号具有的频带宽度。单位：Hz，赫（千赫、兆赫、吉赫）<br> （2）.时域：网络中某通道传送数据的能力，表示在单位时间内网络中的某信道所能通过的“最高数据率”。单位：bit/s（比特每秒）<br>对比=&gt;本质相同，带宽越宽，最高数据率越高。<br>==<strong>3.吞吐量：</strong>==<br>单位时间内通过某个网络（或信道、接口）的实际的数据量。<br>受网络<strong>带宽</strong>或<strong>额定速率</strong>限制<br>==<strong>4.时延：</strong>==<br>指数据从网络的一端传送到另一端所需的时间。<br>（1）、==发送时延==：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/dbb322d06c7f411ab44af2bd2c6c679d.png#pic_center" alt="在这里插入图片描述"></p><p>（2）、==传播时延==：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/13e7c6f9fd7b4c29aaf7e2a9b0f1c9a7.png#pic_center" alt="在这里插入图片描述"><br>电磁波在自由空间的传播速率是光速3.0×10^5^km/s。在铜线电缆中的传播速率约为2.3×10^5^km/s，在光纤中的传播速率约为2.0×10^5^km/s<br>（3）、==处理时延==：主机或路由器在收到分组时要花费一定的时间进行处理。<br>（4）、==排队时延==：分组在经过网络传输时，要经过许多路由器。分组在进入路由器后要先在输入队列中排队等待处理。在路由器确定了转发接口后，还要在输出队列中排队等待转发。</p><blockquote><p>总时延=发送时延+传播时延+处理时延+排队时延<br>—&gt;小时延优于大时延<br>—&gt;低速率小时延优于高速率大时延</p></blockquote><p>时延产生的地方：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ecad3ba56dfc468bafed989e8e4b349a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>==<strong>5.时延带宽积：</strong>==<br>=传播时延<em>带宽。单位：bit<br>==<strong>6.往返时间RTT：</strong>==<br>表示从发送方发送完数据到发送方收到来自接收方的确认总经历的时间。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a3e9e5d94188477e956f7c360163c7c5.png#pic_center" alt="在这里插入图片描述"><br>有效数据率&lt;发送速率<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/16fbfe3c81144b74bbb1663fc2c31d3d.png#pic_center" alt="在这里插入图片描述"><br>==<strong>7.利用率：</strong>==（并非越高越好）<br>（1）信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是0。<br>（2）网络利用率是全网络的信道利用率的加权平均值。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a25427bbecf241e1ae12898c7f5fe1f9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_17,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>D0表示网络空闲时的时延，D表示网络当前的时延<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d9bbda81c3684847885d884ae9a37107.png#pic_center" alt="在这里插入图片描述"><br><em>*计算机的非性能指标：</em></em></p><ul><li>费用</li><li>质量</li><li>标准化</li><li>可靠性</li><li>可扩展性和可升级性</li><li>易于管理和维护</li></ul><h2 id="7-计算机网络体系结构"><a href="#7-计算机网络体系结构" class="headerlink" title="7.计算机网络体系结构"></a>7.计算机网络体系结构</h2><p>协议三要素：</p><blockquote><p><strong>1.语法</strong><br><strong>2.语义</strong><br><strong>3.同步</strong></p><p>协议两种形式：<br>文字描述：—&gt;人<br>程序代码：—&gt;计算机</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4fb4a923e23e42e7af6e9553b9f8c4c2.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>本书学习的是五层结构</p><p>====================================本书索引<br><a href="https://blog.csdn.net/m0_51390535/article/details/121278340">计算机网络（谢希仁第八版）第一章：概述</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121593321">计算机网络（谢希仁第八版）第二章：物理层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121734353">计算机网络（谢希仁第八版）第三章：数据链路层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/122018224">计算机网络（谢希仁第八版）第四章：网络层</a></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 🖥️计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络（谢希仁第八版）第三章：数据链路层</title>
      <link href="/posts/87a073f0.html"/>
      <url>/posts/87a073f0.html</url>
      
        <content type="html"><![CDATA[<p>本章最重要的内容：<br>（1）数据链路层的==点对点信道==和==广播信道==的特点，以及这两种信道所使用的协议（==PPP协议==以及==CSMA/CD协议==）的特点。<br>（2）数据链路层的三个基本问题：==封装成帧、透明传输和差错检测==。<br>（3）以太网==MAC层的硬件地址==。<br>（4）<strong>适配器、转发器、集线器、网桥、以太网交换机</strong>的作用以及使用场合。<br>（5）数据链路的两层：</p><blockquote><p>LLC：逻辑链路控制子层（Logical Link Control）与传输媒体无关<br>MAC：媒体接入控制子层（Medium Access Control）与传输媒体有关</p></blockquote><p>（6）此层的协议数据单元==&gt;==帧(Frame)==。<br>两台主机通过互联网进行通信时数据链路层所处的地位如下图：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/68ded820d351474fa38e7330231de693.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><h2 id="1-数据链路层的几个共同问题（使用点对点信道的数据链路层）"><a href="#1-数据链路层的几个共同问题（使用点对点信道的数据链路层）" class="headerlink" title="1.数据链路层的几个共同问题（使用点对点信道的数据链路层）"></a>1.数据链路层的几个共同问题（使用点对点信道的数据链路层）</h2><h4 id="1-1-数据链路和帧"><a href="#1-1-数据链路和帧" class="headerlink" title="1.1.数据链路和帧"></a>1.1.数据链路和帧</h4><blockquote><p>链路：物理链路<br>数据链路：逻辑链路=链路+通信协议</p></blockquote><h4 id="1-2-三个基本问题"><a href="#1-2-三个基本问题" class="headerlink" title="1.2.三个基本问题"></a>1.2.三个基本问题</h4><p>==封装成帧、透明传输、差错检测==<br>1．封装成帧<br>帧的数据部分长度上限——最大传送单元MTU（Maximum Transfer Unit）长度==&gt;46~1500<br>帧定界符（SOH和EOT）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/630f79491644490a8c7d9ca7301f00d0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_90,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_15,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>2．透明传输<br>某一个实际存在的事物看起来却好像不存在一样<br>若数据报中出现控制字符会被误判，所以：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5256db467d5a44309c204a10e440a6d8.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e3beeade43444920b1b2b62ab7c59cce.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_29,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>3．差错检测<br>传输错误的比特占所传输比特总数的比率称为误码率BER（Bit ErrorRate）<br>==循环冗余检验CRC==（Cyclic Redundancy Check）<br>—&gt;产生—&gt;<br>==帧检验序列FCS==（Frame Check Sequence）</p><blockquote><p>CRC是检错方法，FCS是添加在数据后面的冗余码</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bd7ae814db3e4040a9e11d5d93f439aa.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_15,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>在接收端对收到的每一帧经过CRC检验后，有以下两种情况：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）若余数R＝<span class="number">0</span>，表帧没有差错，就接受（accept）。👌</span><br><span class="line"><span class="number">2</span>）若余数R≠<span class="number">0</span>，则判定这个帧有差错（但无法确定究竟是哪一位或哪几位出现了差错），就丢弃。🙏</span><br></pre></td></tr></table></figure><p>循环冗余检验CRC差错检测，只能做到对帧的无差错接受==实现无比特差错==，==不能做到可靠传输==。要做到可靠，还要解决帧丢失、帧重复或帧失序。</p><blockquote><p>1）对于通信质量良好的有线传输链路，数据链路层协议不使用确认和重传机制，即不要求数据链路层向上提供可靠传输的服务。如果在数据链路层传输数据时出现了差错并且需要进行改正，那么改正差错的任务就由上层协议（例如，运输层的TCP协议）来完成。<br>2）对于通信质量较差的无线传输链路，数据链路层协议使用确认和重传机制，数据链路层向上提供可靠传输的服务（见第9章）。</p><p>可靠传输协议将在第5章运输层中讨论。本章介绍的数据链路层协议都不是可靠传输的协议。</p><h2 id="2-点对点-协议PPP（Point-to-Point-Protocol）"><a href="#2-点对点-协议PPP（Point-to-Point-Protocol）" class="headerlink" title="2.==点对点==协议PPP（Point-to-Point Protocol）"></a>2.==点对点==协议PPP（Point-to-Point Protocol）</h2></blockquote><h4 id="2-1-PPP协议的组成"><a href="#2-1-PPP协议的组成" class="headerlink" title="2.1.PPP协议的组成"></a>2.1.PPP协议的组成</h4><p>PPP协议有三个组成部分：<br>（1）<strong>一个将IP数据报封装到串行链路的方法</strong>。PPP既支持异步链路（无奇偶检验的8比特数据），也支持面向比特的同步链路。IP数据报在PPP帧中就是其信息部分。这个信息部分的长度受最大传送单元MTU的限制。<br>（2）<strong>一个用来建立、配置和测试数据链路连接的链路控制协议LCP（LinkControl Protocol）</strong>。通信的双方可协商一些选项。在RFC 1661中定义了11种类型的LCP分组。<br>（3）<strong>一套网络控制协议NCP（Network Control Protocol）</strong>，其中的每一个协议支持不同的网络层协议，如IP、OSI的网络层、DECnet，以及AppleTalk等。</p><h4 id="2-2-PPP协议的帧格式"><a href="#2-2-PPP协议的帧格式" class="headerlink" title="2.2.PPP协议的帧格式"></a>2.2.PPP协议的帧格式</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e12f64fca3ca493d8f8d7d2c1192c883.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br> （1）字节填充：</p><p> （2）零比特填充：<br>五个连续的1后加0.<br>例：0111110101—&gt;011111==0==01001<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/be93aaf9c86f4c19bb900efe798b4eef.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><h2 id="3-使用广播信道的数据链路层"><a href="#3-使用广播信道的数据链路层" class="headerlink" title="3.使用广播信道的数据链路层"></a>3.使用广播信道的数据链路层</h2><h4 id="3-1-局域网三种拓扑结构"><a href="#3-1-局域网三种拓扑结构" class="headerlink" title="3.1.局域网三种拓扑结构"></a>3.1.局域网三种拓扑结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c04d332f553648159776dae0ff973a86.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><p>以太网使用无连接，不编号，不用回复确认，尽最大努力的交付，是不可靠服务。</p><h4 id="3-2-计算机联网工具——适配器（adapter）"><a href="#3-2-计算机联网工具——适配器（adapter）" class="headerlink" title="3.2.计算机联网工具——适配器（adapter）"></a>3.2.计算机联网工具——适配器（adapter）</h4><p>适配器本来是在主机箱内插入的一块网络接口板（或者是在笔记本电脑中插入一块PCMCIA卡——个人计算机存储器卡接口适配器）。这种接口板又称为<strong>网络接口卡NIC</strong>（Network Interface Card）或简称为“==网卡==”。适配器上面装有<strong>处理器和存储器</strong>（包括RAM和ROM）。==适配器和局域网之间的通信是通过电缆或双绞线以<strong>串行</strong>传输方式进行的，而适配器和计算机之间的通信则是通过计算机主板上的I/O总线以<strong>并行</strong>传输方式进行的==。因此，适配器的一个重要功能就是要进行数据串行传输和并行传输的转换。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/25e9380c0f2d4b418890714efbf72819.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><h4 id="3-3-CSMA-CD协议"><a href="#3-3-CSMA-CD协议" class="headerlink" title="3.3.CSMA/CD协议"></a>3.3.CSMA/CD协议</h4><p>why use it ?：总线上在同一时间只能允许一台计算机发送数据。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/11d1302f39e2455e8b4d714a510641f8.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9ee2249b8bd64e72b8264ea98b942064.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>电磁波在1km电缆的传播时延约为5µs，帧间最小间隔：9.6µs（用来处理缓存，为接收下一帧做准备）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/808bc3236b05405785fc2e1fcd9b8d07.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>上图重要时刻：</p><blockquote><p>在t＝0时，A发送数据。B检测到信道为空闲。<br>在t＝τ−δ时（这里τ&gt;δ&gt;0），A发送的数据还没有到达B时，由于B检测到信道是空闲的，因此B发送数据。<br>经过时间δ/2后，即在t＝τ−δ/2时，A发送的数据和B发送的数据发生了碰撞。但这时A和B都不知道发生了碰撞。<br>在t＝τ时，B检测到发生了碰撞，于是停止发送数据。<br>在t＝2τ−δ时，A也检测到发生了碰撞，因而也停止发送数据。<br>A和B发送数据均失败，它们都要推迟一段时间再重新发送。</p></blockquote><p>以太网的端到端往返时间2τ称为<strong>争用期</strong>（contention period），它是一个很重要的参数。争用期又称为碰撞窗口（collision window）。</p><p>1.对于10Mbit/s以太网，争用期内可发送512bit，即64字节（最短有效帧长），争用期2τ为51.2µs<br>所以，以太网端到端时延必须小于争用期的一半即25.6µs<br>2.对于100Mbit/s的以太网，争用期为5.12µs，帧间最小间隔：0.96µs<br><strong>若发生碰撞：</strong><br><strong>截断二进制指数退避</strong>（truncated binary exponentialbackoff）算法来确定碰撞后重传的时机。<br>从离散的整数集合［0，1，…，（2k−1）］中随机取出一个数，记为r。重传应推后的时间就是r倍的争用期。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/582c1bbf2b59457c900c704ec595df88.png#pic_center" alt="在这里插入图片描述"><br>当重传次数不超过10时，参数k等于重传次数；但<strong>当重传次数超过10时，k就不再增大而一直等于10</strong>。当重传达==16==次仍不能成功时（这表明同时打算发送数据的站太多，以致连续发生冲突），则丢弃该帧，并向高层报告。<br><em>强化碰撞：<br>当发送数据的站一旦发现发生了碰撞时，除了立即停止发送数据外，还要再继续发送<em>*32比特或48比特</em></em>的人为干扰信号（jamming signal），以便让所有用户都知道现在已经发生了碰撞。<br>对于10Mbit/s以太网，发送32（或48）比特只需要3.2（或4.8）µs。</p><h4 id="3-4-使用集线器的星型拓扑"><a href="#3-4-使用集线器的星型拓扑" class="headerlink" title="3.4.使用集线器的星型拓扑"></a>3.4.使用集线器的星型拓扑</h4><p>星形以太网10BASE-T</p><ol><li>10表示速率10Mbit/s</li><li>BASE表示基带信号</li><li>T表示双绞线</li></ol><p>使用集线器的以太网在逻辑上仍是一个总线网，各站共享逻辑上的总线，使用的还是CSMA/CD协议。<br>集线器工作在<strong>物理层</strong>。每个端口只<strong>简单的转发比特</strong>，<strong>不进行碰撞检测</strong>。</p><h4 id="3-5-以太网的信道利用率"><a href="#3-5-以太网的信道利用率" class="headerlink" title="3.5.以太网的信道利用率"></a>3.5.以太网的信道利用率</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/dbe8911906594690aef5ad820f532d54.png#pic_center" alt="在这里插入图片描述"><br>以太网单程端到端时延τ与帧的发送时间T0之比：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8ebc24b6afcd473992a9f2f9bba54d50.png#pic_center" alt="在这里插入图片描述"><br>因此，要提高以太网利用率参数a的值应当尽可能小，即当数据率一定时，<strong>以太网连线的长度受到限制</strong>（否则τ会太大），同时<strong>以太网帧长不能太短</strong>（否则T0的值会太小，使a值太大）。</p><h4 id="3-6-以太网的MAC层"><a href="#3-6-以太网的MAC层" class="headerlink" title="3.6.以太网的MAC层"></a>3.6.以太网的MAC层</h4><p>在局域网中，<strong>硬件地址</strong>又称为<strong>物理地址</strong>或<strong>MAC地址</strong>。用来唯一标识计算机，标识系统（identificationsystem）<br>查找MAC命令：<strong>ipconfig /all</strong></p><ul><li>IPv4：32位（4字节）</li><li>MAC：48位</li><li>IPv6：128位</li></ul><p>IEEE规定地址字段第一字节的最低位为<strong>I/G</strong>（Individual/Group）<strong>位</strong></p><ul><li>单站地址：I/G=0</li><li>组地址：I/G=1，用于多播</li><li>广播地址：只作为目的地址使用</li></ul><p>==MAC帧格式==</p><blockquote><p> DIX Ethernet V2：世界第一个局域网产品（以太网）规约<br> IEEE 802.3：第一个IEEE以太网标准</p></blockquote><p>以太网V2的MAC帧格式：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6022f0c9414b4ac289ea542767441c06.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>当数据字段的长度小于46字节时，MAC子层就会在数据字段的后面加入一个整数字节的填充字段，以保证以太网的MAC帧长不小于64字节。<br>MAC帧的FCS字段的检验范围不包括前同步码和帧开始定界符。<br><strong>有效的MAC帧长度为64～1518字节之间。</strong></p><h2 id="4-拓展的以太网"><a href="#4-拓展的以太网" class="headerlink" title="4.拓展的以太网"></a>4.拓展的以太网</h2><ul><li>物理层：集线器【半双工】</li><li>数据链路层：交换机（网桥）【全双工，自学习算法】</li></ul><p>物理层集线器缺点：<br>一个更大的碰撞域（冲突域），使得吞吐量减少。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/96a37774b8da4c21ada5ed24e941562a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>数据链路层交换机：多端口网桥，多速率端口，全双工，独立占用媒体，无碰撞传输数据，每个端口和连接端口的主机构成独立碰撞域，具有N个端口的以太网交换机碰撞域有N个。</p><p>传统10Mbit/s共享式以太网，若有十个用户，则每个用户占有的带宽为1Mbit/s，若用以太网交换机来连接这些主机，则总带宽为个主机带宽之和为100Mbit/s。</p><p>==从总线以太网到星形以太网<br>传统的电话网是星形结构，<strong>总线以太网使用CSMA/CD协议</strong>，以半双工方式工作。但<strong>以太网交换机不使用共享总线，没有碰撞问题，因此不使用CSMA/CD协议，而是以全双工方式工作</strong>。既然连以太网的重要协议CSMA/CD都不使用了（相关的“争用期”也没有了），为什么还叫做以太网呢？原因就是它的帧结构未改变，仍然采用以太网的帧结构。</p><p>====================================本书索引<br><a href="https://blog.csdn.net/m0_51390535/article/details/121278340">计算机网络（谢希仁第八版）第一章：概述</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121593321">计算机网络（谢希仁第八版）第二章：物理层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121734353">计算机网络（谢希仁第八版）第三章：数据链路层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/122018224">计算机网络（谢希仁第八版）第四章：网络层</a></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 🖥️计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络（谢希仁第八版）第二章：物理层</title>
      <link href="/posts/48c18324.html"/>
      <url>/posts/48c18324.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-物理层基本概念"><a href="#1-物理层基本概念" class="headerlink" title="1.物理层基本概念"></a>1.物理层基本概念</h2><p><del>物理层协议又被称为<strong>规程</strong></del><br>物理层协议数据单元==&gt;==比特流==<br>特性（了解）：</p><blockquote><p>（1）机械特性：指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。<br>（2）电气特性：指明在接口电缆的各条线上出现的电压的范围。<br>（3）功能特性：指明某条线上出现的某一电平的电压的意义。<br>（4）过程特性：指明对于不同功能的各种可能事件的出现顺序。</p></blockquote><p>数据在计算机内部采用<strong>并行传输</strong>，在通信线路（传输媒体）采用<strong>串行传输</strong></p><h2 id="2-数据通信的基础知识"><a href="#2-数据通信的基础知识" class="headerlink" title="2.数据通信的基础知识"></a>2.数据通信的基础知识</h2><h4 id="1-通信模型："><a href="#1-通信模型：" class="headerlink" title="1.通信模型："></a>1.通信模型：</h4><p>==源系统—&gt;传输系统—&gt;目的系统==</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0e4c239de461450da0f77ae6a349e4da.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><ul><li>消息：文字、图像等，数据是运送消息的实体，是有意义的符号序列。</li><li>信号：数据的电气或电磁表现。<blockquote><p>模拟信号（analogous signal）：（连续）<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f85767ecfdd944bd8b27e8669b8afc15.png#pic_center =200x30" alt="在这里插入图片描述"><br>数字信号（digital signal）：（离散）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/336d86687533455d8fd5a7c9fad4dc3e.png#pic_center =200x30" alt="在这里插入图片描述"></p></blockquote></li></ul><p><strong>码元</strong>：在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形就称为码元。在使用二进制编码时，只有两种不同的码元，一种代表0状态而另一种代表1状态。</p><h4 id="2-信道"><a href="#2-信道" class="headerlink" title="2.信道"></a>2.信道</h4><blockquote><p>（1）单向通信（单工通信）：只能有一个方向的通信而没有反方向的交互。无线电广播或有线电广播以及电视广播就属于这种类型。<br>（2）双向交替通信（半双工通信）：通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）。这种通信方式是一方发送另一方接收，过一段时间后可以再反过来。<br>（3）双向同时通信（全双工通信）：通信的双方可以同时发送和接收信息。</p></blockquote><p>（1）、常用编码方式：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1a047f1d3e7c459aaa18f1f1f7c13ce4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_10,color_FFFFFF,t_50,g_se,x_16#pic_center" alt="常用编码方式"></p><ul><li>不归零制：正电平代表1，负电平代表0。</li><li>归零制：正脉冲代表1，负脉冲代表0。</li><li>曼彻斯特编码；位周期中心的向上跳变代表0，位周期中心的向下跳变代表1。也可反过来定义。</li><li><p>差分曼彻斯特编码：在每一位的中心处始终都有跳变。位开始边界有跳变表0，位开始边界没有跳变表1。</p><p>（2）、基本的带通调制方法<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b7e5db4673a44cd19b97bf56fa62ca72.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_10,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="基本带同调制方法"></p></li><li><p>调幅（AM）：载波的振幅随基带数字信号而变化。例如，0或1分别对应于无载波或有载波输出。</p></li><li>调频（FM）：载波的频率随基带数字信号而变化。例如，0或1分别对应于频率f1或f2。</li><li><p>调相（PM）：载波的初始相位随基带数字信号而变化。例如，0或1分别对应于相位0度或180度。</p><h4 id="3-信道的极限容量"><a href="#3-信道的极限容量" class="headerlink" title="3.信道的极限容量"></a>3.信道的极限容量</h4><p>==信噪比==：信号的平均功率和噪声的平均功率之比，记为S/N<br>单位为分贝时：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f86da21e60ef4baa82c7e0e99b4f6d58.png#pic_center" alt="在这里插入图片描述"><br>==奈氏准则==：<br>在<strong>理想</strong>低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为2W Baud。</p><pre><code>   公式：理想低通信道下的极限数据传输率=2W（b/s）     </code></pre></li><li><p>W为信道带宽（Hz）。</p></li></ul><p>==香农公式==：<br>信道的极限信息传输速率</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b368ace80d164f3f8d8368cd52f3ba15.png#pic_center" alt="在这里插入图片描述"></p><ul><li>W为信道的带宽（以Hz为单位），S为信道内所传信号的平均功率，N为信道内部的高斯噪声功率。<h2 id="3-物理层下面的传输媒体"><a href="#3-物理层下面的传输媒体" class="headerlink" title="3.物理层下面的传输媒体"></a>3.物理层下面的传输媒体</h2><h4 id="1-导引型传输媒体（有线）"><a href="#1-导引型传输媒体（有线）" class="headerlink" title="1.导引型传输媒体（有线）"></a>1.导引型传输媒体（有线）</h4></li></ul><p>==双绞线==：<br>广泛用于局域网内</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; 屏蔽双绞线STP（Shielded Twisted Pair）</span><br><span class="line">&gt; 无屏蔽双绞线UTP（Unshielded Twisted Pair）</span><br></pre></td></tr></table></figure><p>==同轴电缆==：<br>主要用在有线电视网的居民小区<br>==光缆（光纤）==：<br>远距离传输</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）传输损耗小，中继距离长，对远距离传输特别经济。</span><br><span class="line">（<span class="number">2</span>）抗雷电和电磁干扰性能好。</span><br><span class="line">（<span class="number">3</span>）无串音干扰，保密性好，不易被窃听或截取数据。</span><br><span class="line">（<span class="number">4</span>）体积小，重量轻。</span><br></pre></td></tr></table></figure><h4 id="2-非导引型传输媒体（无线）"><a href="#2-非导引型传输媒体（无线）" class="headerlink" title="2.非导引型传输媒体（无线）"></a>2.非导引型传输媒体（无线）</h4><p>移动通信</p><h2 id="4-信道复用技术"><a href="#4-信道复用技术" class="headerlink" title="4.信道复用技术"></a>4.信道复用技术</h2><h4 id="1-频分复用、时分复用和统计时分复用"><a href="#1-频分复用、时分复用和统计时分复用" class="headerlink" title="1.频分复用、时分复用和统计时分复用"></a>1.频分复用、时分复用和统计时分复用</h4><p><strong>复用器和分用器</strong>：=&gt;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/278371ce15004748a77f464ffbe6c64c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>==频分复用==<strong>FDM</strong>（Frequency Division Multiplexing）最简单，如下图（a）用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽资源（这里的“带宽”是频率带宽而不是数据的发送速率）。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/95e80cd2e1a542ca895acd3d887d8500.png#pic_center" alt="在这里插入图片描述"><br>==时分复用==<strong>TDM</strong>（Time Division Multiplexing）是将时间划分为一段段等长的时分复用帧（TDM帧）。每一个时分复用的用户在每一个TDM帧中占用固定序号的时隙。如下图（b）。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/98e801f8470244239781b335f77585ef.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>【—&gt;】但时分复用面临着信道资源浪费的问题：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a4ae072e701740d1a9869c09b70a67a6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>于是就有了现在的==统计时分复用==<strong>STDM</strong>（Statistic TDM）是一种改进的时分复用，它能明显地提高信道的利用率。如下图的<strong>动态分配时隙</strong>，每一个STDM帧中的时隙数<strong>小于</strong>连接在集中器上的用户数。<em>各用户有了数据就随时发往集中器的输入缓存，然后集中器按顺序依次扫描输入缓存，把缓存中的输入数据放入STDM帧中。对没有数据的缓存就跳过去。当一个帧的数据放满了，就发送出去。</em><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8f11637129484167909a3d95982de61a.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>此TDM帧和STDM帧是在物理层传送的比特流中所划分的帧非数据链路层的“帧”</p><h4 id="2-波分复用和码分复用"><a href="#2-波分复用和码分复用" class="headerlink" title="2.波分复用和码分复用"></a>2.波分复用和码分复用</h4><p>==波分复用==<strong>WDM</strong>（Wavelength Division Multiplexing）就是光的频分复用，即使用一根光纤来同时传输多个频率很接近的光载波信号。随着技术发展，一根光纤上复用的光载波信号的路数越来越多，就出现了密集波分复用DWDM（Dense Wavelength Division Multiplexing）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/614527eb1a374217948f8d58e2347888.png#pic_center" alt="在这里插入图片描述"><br>==码分复用==<strong>CDM</strong>（Code Division Multiplexing），实际上，人们更常用的名词是&lt;<strong>码分多址</strong>&gt;<strong>CDMA</strong>（Code Division Multiple Access）<br>两个不同站的码片序列正交，就是向量S和T的规格化内积（inner product）都是==0==，向量S和各站码片反码的向量的内积也是==0==：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2b2d7831e7ca4f1ca1a50b21f802d700.png#pic_center" alt="在这里插入图片描述"><br>任何一个码片向量和该码片向量自己的规格化内积都是==1==：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a631d3950611425b87e6807f31f599af.png#pic_center" alt="在这里插入图片描述"><br>码片向量和该码片反码的向量的规格化内积值是–1。从上式可以看出，因为求和的各项都变成了–1。<br>==&gt;当两个码片向量内积的结果<br>= -1，发送0<br>=  0， 不发送<br>=  1， 发送1</p></blockquote><h2 id="5-数字传输系统"><a href="#5-数字传输系统" class="headerlink" title="5.数字传输系统"></a>5.数字传输系统</h2><p>pass</p><h2 id="6-宽带接入技术"><a href="#6-宽带接入技术" class="headerlink" title="6.宽带接入技术"></a>6.宽带接入技术</h2><h4 id="1-ADSL技术"><a href="#1-ADSL技术" class="headerlink" title="1.ADSL技术"></a>1.ADSL技术</h4><p><strong>非对称数字用户线ADSL</strong>（Asymmetric Digital Subscriber Line）</p><h4 id="2-光纤同轴混合网（HFC网）"><a href="#2-光纤同轴混合网（HFC网）" class="headerlink" title="2.光纤同轴混合网（HFC网）"></a>2.光纤同轴混合网（HFC网）</h4><h4 id="3-FTTx技术"><a href="#3-FTTx技术" class="headerlink" title="3.FTTx技术"></a>3.FTTx技术</h4><p>光纤到户FTTH（Fiber To The Home）<br>多种宽带光纤接入方式，称为FTTx，表示Fiber ToThe…。这里字母x可代表不同的光纤接入地点。</p><p>====================================本书索引<br><a href="https://blog.csdn.net/m0_51390535/article/details/121278340">计算机网络（谢希仁第八版）第一章：概述</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121593321">计算机网络（谢希仁第八版）第二章：物理层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/121734353">计算机网络（谢希仁第八版）第三章：数据链路层</a><br><a href="https://blog.csdn.net/m0_51390535/article/details/122018224">计算机网络（谢希仁第八版）第四章：网络层</a></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 🖥️计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络（谢希仁第八版）第四章：网络层</title>
      <link href="/posts/6f615cb.html"/>
      <url>/posts/6f615cb.html</url>
      
        <content type="html"><![CDATA[<p>网络层协议数据单元：==分组（IP数据报）==</p><hr/><h2 id="1-网络层提供的两种服务"><a href="#1-网络层提供的两种服务" class="headerlink" title="1.网络层提供的两种服务"></a>1.网络层提供的两种服务</h2><blockquote><p>有连接，可靠的==虚电路服务==<br>无连接，尽最大努力的==数据报服务==</p></blockquote><p>TCP/IP体系的网络层提供的是数据报服务。</p><p>网络层向上只提供<strong>简单灵活</strong>的、<strong>无连接</strong>的、<strong>尽最大努力交付</strong>的<strong>数据报服务</strong>。不提供服务质量的承诺。</p><p>*OSI体系的支持者曾极力主张在网络层使用可靠传输的虚电路服务，也曾推出过网络层虚电路服务的著名标准——ITU-T的X.25建议书。但现在X.25早已成为历史了。</p><div align=center><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2611b147a61e4bba8351fc09f0d42304.jpg?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center=200*150)" width="80%" /></div> <hr/>## 2.网际协议IP网际协议IP是TCP/IP体系中两个最主要的协议之一。本章只讲IPv4。与IP协议配套使用的还有三个协议： - **地址解析协议ARP**（Address Resolution Protocol）  IP-->MAC *逆地址解析协议RARP（Reverse Address ResolutionProtocol已淘汰） - **网际控制报文协议ICMP**（Internet Control Message Protocol） - **网际组管理协议IGMP**（Internet Group Management Protocol）<div align=center><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/84e722f6521a4531bf6aa5b69968cf78.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_14,color_FFFFFF,t_70,g_se,x_16#pic_center" width="50%" /></div> <h4 id="2-1-虚拟互连网络"><a href="#2-1-虚拟互连网络" class="headerlink" title="2.1.虚拟互连网络"></a>2.1.虚拟互连网络</h4><p>中间设备：</p><ol><li>物理层使用的中间设备叫做<strong>转发器</strong>（repeater）</li><li>数据链路层使用的中间设备叫做<strong>网桥或桥接器</strong>（bridge）</li><li>网络层使用的中间设备叫做<strong>路由器</strong>（router）</li><li>在网络层以上使用的中间设备叫做<strong>网关</strong>（gateway）。用网关连接两个不兼容的系统需要在高层进行协议的转换</li></ol><p>各个主机通过中间设备互连起来，并使用IP协议构成了虚拟互联网络。</p><h4 id="2-2-分类的IP地址"><a href="#2-2-分类的IP地址" class="headerlink" title="2.2.分类的IP地址"></a>2.2.分类的IP地址</h4><p>IP地址就是给互联网上的每一台主机（或路由器）的每一个接口分配一个在全世界范围内是唯一的<strong>32位</strong>的标识符。</p><p>IP地址的编址方法共经过了三个历史阶段。</p><ol><li>分类的IP地址</li><li>子网的划分</li><li>构成（构造）超网（无分类编址）</li></ol><p>分类的IP地址（两级）：</p><div align=center><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e3a2694a176b4ef2b20d36a6e4acfa5d.png#pic_center" width="50%" /></div> <br>**点分十进制记法**（dotted decimal notation）：32位的IP地址每8位插入一个空格（但在机器中并没有这样的空格）。为了便于书写，可用其等效的十进制数字表示，并且在这些数字之间加上一个点。<div align=center><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7b4621b7ad3a4c87b949ea375409ffd3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6LiP6L-H5bGx5rKz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" width="70%" /></div> <p>A类、B类和C类地址都是单播地址（一对一通信）<br>D类地址用于多播（一对多通信）<br>E类地址保留为以后用</p><div align=center><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/eddc3f332fae4ea98df961abf2ccd8ad.png#pic_center" width="90%" /></div> <blockquote><p>A类地址网络号数量126（2^7-2）,全0为”<strong>本网络</strong>“，127（01111111）保留作本地软件<strong>环回测试</strong>。<br>B类地址网络号数量16383（2^14-1），减1是因为不存在全零的情况。<br>C类地址网络号数量2097151（2^21-1），减1是因为不存在全零的情况。</p></blockquote><table><tr><th>类型</th><th>范围</th></tr><tr><td>A</td><td>1.0.0.1~126.255.255.254（127作为环回测试地址）</td></tr><tr><td>B</td><td>128.0.0.1~191.255.255.254（主机号不能为全0，故从.0.0.1开始）</td></tr><tr><td>C</td><td>192.0.0.1~223.255.255.254（主机号不能为全1，故只表示到254）</td></tr></table><p>（考大题时让写代码块大多都要省略全0全1主机号的情况）</p><hr/><h2 id="3-IP地址与硬件地址"><a href="#3-IP地址与硬件地址" class="headerlink" title="3.IP地址与硬件地址"></a>3.IP地址与硬件地址</h2><p>区别:</p><blockquote><p>物理地址是数据链路层和物理层使用的地址<br> IP地址是网络层和以上各层使用的地址，是一种逻辑地址。</p></blockquote><div align=center><img width="450px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ac4cf6bb212d4ac8874f94a871e8d12c.png#pic_center" /></div> <p align="center"><font color="pink" size="4"><==鸽着了==></font></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 🖥️计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓天气预报app(一)——解析Json数据、数据类封装</title>
      <link href="/posts/001.html"/>
      <url>/posts/001.html</url>
      
        <content type="html"><![CDATA[<!-- title: 文章标题date: 创建日期updated: 更新日期cover: 文章封面description: 文章描述swiper_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前 --><blockquote><p>📌<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5502">简易的安卓天气app(一)——解析Json数据、数据类封装</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">简易的安卓天气app(二)——适配器、每小时数据展示</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">简易的安卓天气app(三)——城市管理、数据库操作</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125397512?spm=1001.2014.3001.5502">简易的安卓天气app(四)——搜索城市、完善页面</a></p></blockquote><h1 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h1><p>不罗嗦那么多没用的；；；<br>既然是简易的天气app，那么本demo就没有那麽多复杂的交互，页面跳转，只包括了针对api获取和解析数据放到app主页面，由于配置定位服务太繁琐，本次测试没有使用定位功能。<br>项目只包含一个主要activity_main.xml，两个封装的实体用来存数据<br>用到的天气api可前往官网注册账号获取：<a href="https://tianqiapi.com/">天气api</a></p><p>例如我这里注册好了我的账号，进入主页面得到下图的appid和appsecret<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/deb89dde23494444bf43c31a4f82866b.png#pic_center" alt="appid">然后把这两个东西复制粘贴到下面的api中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//里面的括号中的两个参数值换成你的，包括括号</span></span><br><span class="line">https:<span class="comment">//tianqiapi.com/api?version=v1&amp;appid=（你的appid）&amp;appsecret=（你的appsecret）</span></span><br></pre></td></tr></table></figure><p>==注意==：<br>&gt;</p><blockquote><p>慎用此接口，每天有免费使用==上限==（如果你不想充钱）<br>地址栏搜索默认是当前所在城市，若是指定城市url后面加上&amp;city=城市名，就行</p></blockquote><p>接着，访问此url结果如图，一长串的json数据<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4206ae96e1ae433ba6f966d5bac22d5a.png" alt="json数据">如果你的浏览器支持转为json格式，那么会得到更清晰的数据格式，方便后续对其进行封装，也可百度在线json格式化工具，复制原始数据进去，得到格式化jsn数据<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5118219aef8742d2a0c06e77833695f0.png" alt="json格式1">观察上图json数据，里面的嵌套关系决定了我们封装一个实体类肯定不能拿到全部信息，因为上图data，是一个json数组（JsonArray），里面包含了今天加上未来六天共七天的天气数据（JsonObject），所以data要单独封装成一个实体叫做DayWeatherBean，用来接受每天的数据。</p><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7ca26d0558a14b31afd0bd0f3c3ed1f7.png#pic_center" alt="项目结构"></p><h1 id="api请求工具包"><a href="#api请求工具包" class="headerlink" title="api请求工具包"></a>api请求工具包</h1><p>那么既然是请求api解析数据，自然离不开HttpUrlConnection，如果学的不是HttpUrlConnection请自行根据更改。<br>首先封装一个工具包，表示根据指定地址网络请求得到数据，得到的是string字符串，实是json数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.HttpURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NetworkUtil</span> &#123;</span><br><span class="line">    <span class="comment">// 一天测试次数有限，慎用</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">URL_WEATHER</span> <span class="operator">=</span> <span class="string">&quot;https://tianqiapi.com/api?version=v1&amp;appid=（你的appid）&amp;appsecret=（你的appsecret）&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">HttpURLConnection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">inputStreamReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 连接网络</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">URL</span> <span class="variable">urL</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(URL_WEATHER);</span><br><span class="line">            connection = (HttpURLConnection) urL.openConnection();</span><br><span class="line">            connection.setRequestMethod(<span class="string">&quot;GET&quot;</span>);</span><br><span class="line">            connection.setConnectTimeout(<span class="number">5000</span>);</span><br><span class="line">            connection.setReadTimeout(<span class="number">5000</span>);</span><br><span class="line">            <span class="comment">// 从连接中读取数据(二进制)</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> connection.getInputStream();</span><br><span class="line">            inputStreamReader = <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream);</span><br><span class="line">            <span class="comment">// 二进制流送入缓冲区</span></span><br><span class="line">            bufferedReader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(inputStreamReader);</span><br><span class="line">            <span class="comment">// 容器</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = bufferedReader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                stringBuilder.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">            result = stringBuilder.toString();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (connection != <span class="literal">null</span>) &#123;</span><br><span class="line">                connection.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (inputStreamReader != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    inputStreamReader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (bufferedReader != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bufferedReader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>既然是网络请求，注意<br>&gt;</p><blockquote><p>AndroidManifest中别忘了加<br><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7b0089edd3554de2a6e80bd649413596.png#pic_center" alt="andxml"></p><h1 id="布局文件"><a href="#布局文件" class="headerlink" title="布局文件"></a>布局文件</h1><p>接着就是布局，随意，怎么好看怎么来，无非就是接受几个数据传给TextView</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:alpha</span>=<span class="string">&quot;0.8&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@mipmap/bg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center_horizontal&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;郑州&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;25sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_city&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_weather&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;125dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;95dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">&quot;@drawable/weather_yin&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_weather&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;阴转多云&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_week&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;星期二&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;16sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_tem&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;31°C&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;100sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_tem_low_high&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;25°C/33°C&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_time&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;更新时间:2022-06-15 08:22:23&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;17sp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:alpha</span>=<span class="string">&quot;0.7&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/blackground&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;120dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;105dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;65dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:src</span>=<span class="string">&quot;@drawable/fengli&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_win&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">&quot;南风3~4级&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textSize</span>=<span class="string">&quot;16sp&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_air&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">&quot;空气:43 | 优\n空气好，适宜外出&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textSize</span>=<span class="string">&quot;18sp&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图（上图有个阴转多云图，下方有源码，可自行了解，此次只拿数据传数据，不包括图片）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/85a041d1a2ec420b820c8312065f7ee3.png" alt="效果图"></p><h1 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h1><p>两个实体类<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/301636c3f29848c2832ed7b602a3d1a7.png" alt="在这里插入图片描述"><br>一个WeatherBean是最上层json封装，一个是DayWeatherBean封装的data（前面已经解答过）</p><h3 id="WeatherBean"><a href="#WeatherBean" class="headerlink" title="WeatherBean"></a>WeatherBean</h3><p>没什么好说的，就下面几个属性，学爬虫的应该更了解<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/df333535c12445beb4161f79b22f6b0d.png#pic_center" alt="在这里插入图片描述"><br>其他的属性String就行，挑重要信息拿，data就是··<code>List&lt;DayWeatherBean&gt;</code></p><p>此处命名不规范问题，由于使用的是Gson包封装，所以有一个实现类可用<br><code>public class WeatherBean implements Serializable</code><br>每个属性再加上序列化注解指定原始数据，就可解决，自行补充<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/faf54d35eb6d4eb6baf93ed8d3838eb1.png" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TextView tv_city,tv_time,tv_weather,tv_week,tv_tem,tv_tem_low_high,tv_win,tv_air;7个</span></span><br><span class="line"><span class="comment"> * ImageView iv_weather;//天气图标</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeatherBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cityid;</span><br><span class="line">    <span class="keyword">private</span> String city;<span class="comment">//城市名称</span></span><br><span class="line">    <span class="keyword">private</span> String update_time;<span class="comment">//更新时间</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;DayWeatherBean&gt; data;<span class="comment">//获取今日天气，get[0]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//toString()，get，set自行设置</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="DayWeatherBean"><a href="#DayWeatherBean" class="headerlink" title="DayWeatherBean"></a>DayWeatherBean</h3><p>接着根据api中data中的属性名选择性封装DayWeatherBean </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TextView tv_city,tv_time,tv_weather,tv_week,tv_tem,tv_tem_low_high,tv_win,tv_air;7个</span></span><br><span class="line"><span class="comment"> * ImageView iv_weather;//天气图标</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DayWeatherBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String wea;<span class="comment">//天气</span></span><br><span class="line">    <span class="keyword">private</span> String wea_img;<span class="comment">//天气图标</span></span><br><span class="line">    <span class="keyword">private</span> String week;<span class="comment">//周几</span></span><br><span class="line">    <span class="keyword">private</span> String tem;<span class="comment">//温度</span></span><br><span class="line">    <span class="comment">//tv_tem_low_high=tem2+tem1拼接一起</span></span><br><span class="line">    <span class="keyword">private</span> String tem2;<span class="comment">//低温</span></span><br><span class="line">    <span class="keyword">private</span> String tem1;<span class="comment">//高温</span></span><br><span class="line">    <span class="comment">//tv_win=win+win_speed</span></span><br><span class="line">    <span class="keyword">private</span> String[] win;<span class="comment">//风力</span></span><br><span class="line">    <span class="keyword">private</span> String win_speed;<span class="comment">//风力等级</span></span><br><span class="line">    <span class="comment">//tv_air=air+air_level+air_tips拼接一起</span></span><br><span class="line">    <span class="keyword">private</span> String air;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">private</span> String air_level;<span class="comment">//</span></span><br><span class="line">    <span class="keyword">private</span> String air_tips;<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//toString()，get，set自行设置</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h1><p>使用handler来异步处理<br>首先开辟一个子线程，拿到网页数据传给handler</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 开启子线程，请求网络</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 请求网络</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">weatherJson</span> <span class="operator">=</span> NetworkUtil.getWeather();</span><br><span class="line">                <span class="comment">// 使用handler将数据传递给主线程</span></span><br><span class="line">                <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.obtain();</span><br><span class="line">                message.what = <span class="number">0</span>;</span><br><span class="line">                message.obj = weatherJson;</span><br><span class="line">                mHandler.sendMessage(message);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>使用Gson序列化工具前别忘记添加依赖包<br><code>implementation &#39;com.google.code.gson:gson:2.8.5&#39;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b58c484be7ec41bfbe0fba35d3ac0367.png#pic_center" alt="在这里插入图片描述"><br>添加代码后别忘了构建一下，右上角点一下<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/15c9d1e722454264a9de1a3f116b064c.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">Handler</span> <span class="variable">mHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Handler</span>(Looper.myLooper()) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleMessage</span><span class="params">(<span class="meta">@NonNull</span> Message msg)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>.handleMessage(msg);</span><br><span class="line">            <span class="keyword">if</span> (msg.what == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">weather</span> <span class="operator">=</span> (String) msg.obj;</span><br><span class="line">                Log.d(<span class="string">&quot;Main&quot;</span>, <span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;原始数据--weather---&quot;</span> + weather);</span><br><span class="line">                <span class="keyword">if</span> (TextUtils.isEmpty(weather)) &#123;</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="built_in">this</span>, <span class="string">&quot;天气数据为空！&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();<span class="comment">//Gson序列化工具，JsonObject也行，方法不同</span></span><br><span class="line">                <span class="type">WeatherBean</span> <span class="variable">weatherBean</span> <span class="operator">=</span> gson.fromJson(weather, WeatherBean.class);</span><br><span class="line">                <span class="keyword">if</span> (weatherBean != <span class="literal">null</span>) &#123;</span><br><span class="line">                    Log.d(<span class="string">&quot;Main&quot;</span>, <span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;封装数据--weather---&quot;</span> + weatherBean.toString());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                tvCity.setText(weatherBean.getCity());</span><br><span class="line">                tvTime.setText(weatherBean.getUpdate_time());</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * 当天天气</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">                dayWeather = weatherBean.getData().get(<span class="number">0</span>);</span><br><span class="line">                tvWeather.setText(dayWeather.getWea());</span><br><span class="line">                tvTem.setText(dayWeather.getTem());</span><br><span class="line">                tvTemLowHigh.setText(dayWeather.getTem2()+<span class="string">&quot;/&quot;</span>+dayWeather.getTem1());</span><br><span class="line">                tvWeek.setText(dayWeather.getWeek());</span><br><span class="line">                tvWin.setText(dayWeather.getWin()[<span class="number">0</span>]+dayWeather.getWin_speed());</span><br><span class="line">                tvAir.setText(<span class="string">&quot;空气:&quot;</span>+dayWeather.getAir()+<span class="string">&quot; | &quot;</span>+dayWeather.getAir_level()+<span class="string">&quot;\n&quot;</span>+dayWeather.getAir_tips());</span><br><span class="line">                ivWeather.setImageResource(WeatherImgUtil.getImgResOfWeather(dayWeather.getWea_img()));</span><br><span class="line">               <span class="comment">//此工具和图片源码中给出</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure><p>查看是否获取到数据<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/77f9e039eabe4cc29498596600de4b65.png" alt="在这里插入图片描述"></p><p>==源码自取==：<a href="https://gitee.com/guo-yc/weather-frocast">gitee</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> 📱Android </tag>
            
            <tag> 🌤️天气预报 </tag>
            
            <tag> 🧿API </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓天气预报app(三)——城市管理、数据库操作</title>
      <link href="/posts/003.html"/>
      <url>/posts/003.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5502">简易的安卓天气app(一)——解析Json数据、数据类封装</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">简易的安卓天气app(二)——适配器、每小时数据展示</a><br>📌<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">简易的安卓天气app(三)——城市管理、数据库操作</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125397512?spm=1001.2014.3001.5502">简易的安卓天气app(四)——搜索城市、完善页面</a></p></blockquote><h1 id="需求🏷️"><a href="#需求🏷️" class="headerlink" title="需求🏷️"></a>需求🏷️</h1><p>当我们查看天气时，我们都拥有自己的手机，都知道现在的智能手机已经可以根据定位来自动查询所在位置的天气信息，这个依靠的就是手机的定位功能，此处的项目纯属练手，不会涉及定位操作，那一大堆步骤我直接放弃，所以这个功能我们可以偷鸡摸，，，不对，投机取巧从天气api接口想办法搞到。（源码见页尾✨）</p><blockquote><p>本项目用到的天气api接口<a href="https://tianqiapi.com/">天气api</a><br><code>详细操作内容见第一篇--&gt;</code>🧿<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5501">简易的安卓天气app（一）——解析Json数据</a><code>&lt;--</code></p></blockquote><p>此接口当我们默认不拼接参数，直接访问会得到当前位置的温度Json数据，这不就弥补了我们在定位方面的缺陷了吗，那么很好，当我们加上参数之后（此api根据城市查询的参数需＋<code>&amp;city=(城市名称)</code>）那么，当我们只加了参数却没有加参数值（&amp;city=）他还是会根据当前位置进行定位，简直是太妙了。<br>所以接下来就是进行安卓SQLite数据库的一些操作，把当前位置信息保存到数据库中（城市名，城市温度，更新时间）<br>待实现效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fcafcd55adc74eb6b531003e1493e9e1.gif#pic_center" alt="gif"></p><p>数据库成功插入当前位置数据信息（之前测试插入过几条的测试对照用数据）：<br>位置商丘的信息成功插入，插入之后，后续要进行的操作就是实时更新数据库<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b3caa833fa254387928af6c19121b459.png" alt="mancity"></p><h1 id="涉及内容"><a href="#涉及内容" class="headerlink" title="涉及内容"></a>涉及内容</h1><ul><li>SQLite数据库操作，创建数据库，新建表，增删查改操作</li><li>适配器adapter添加点击事件</li><li>页面传值跳转<h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/aca91ce40f824349a2d1f561f9a08502.png#pic_center" alt="3"><br>其他内容暂不涉及，本文章只包含城市管理，添加城市到数据库等的一系列操作，前面基础内容移步到页首地址<h1 id="界面设计"><a href="#界面设计" class="headerlink" title="界面设计"></a>界面设计</h1>城市管理的界面设计city_manager.xml<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ffed26d4e54947b585218a5ed1775cf5.png#pic_center" alt="city_manager"><br>city_manager.xml界面布局源码：</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@mipmap/bg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_add&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;35dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;30dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;20dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">&quot;@drawable/add&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;城市管理&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">&quot;@color/purple_200&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">&quot;20dp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_more&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;35dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;30dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;20dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">&quot;@drawable/more&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">View</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;390dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;8px&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:alpha</span>=<span class="string">&quot;0.6&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@color/white&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.recyclerview.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/city_manager&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>added_city.xml页面表示要展示的一个个城市数据：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7f1380d0d3484d8b884f6593ca496b12.png#pic_center" alt="city"></p><p>源码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;55dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;40dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;40dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@drawable/blackground&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;220dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/city_city&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">&quot;22dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;西安&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;16°C&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">&quot;24dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/city_tem&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>最终从数据库拿到信息呈现出的效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/53fa076739ea4862be407a915ab8a872.png#pic_center" alt="result"></p><h1 id="适配器AddCityAdapter"><a href="#适配器AddCityAdapter" class="headerlink" title="适配器AddCityAdapter"></a>适配器AddCityAdapter</h1><p>界面布局设计完成接下来就是适配器AddCityAdapter<br><code>public class AddCityAdapter extends RecyclerView.Adapter&lt;AddCityAdapter.AddViewHolder&gt;</code></p><p>适配器就是决定在此城市管理页面的RecyclerView中展示哪个页面，跟之前一样，前几篇文章都有篇幅概括，基本的一些操作就是，<br>添加一个构造方法，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Context mContext;</span><br><span class="line">   <span class="keyword">private</span> List&lt;CityBean&gt; mCityBeans;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">AddCityAdapter</span><span class="params">(Context context, List&lt;CityBean&gt; cityBeans)</span> &#123;</span><br><span class="line">       mContext = context;</span><br><span class="line">       <span class="built_in">this</span>.mCityBeans = cityBeans;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>创建一个类<code>class AddViewHolder extends RecyclerView.ViewHolder</code>来绑定控件，此时在城市管理页面要求点击某个城市，需要传值到MainActivity，并获取指定点击城市的天气信息<br>所以适配器中添加一个点击事件，首先在适配器中添加接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OnItemClickListener</span> &#123;</span><br><span class="line"></span><br><span class="line">       <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * 当RecyclerView某个被点击的时候回调</span></span><br><span class="line"><span class="comment">        * <span class="doctag">@param</span> view 点击item的视图</span></span><br><span class="line"><span class="comment">        * <span class="doctag">@param</span> position 点击得到的数据，参数自定义</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onItemClick</span><span class="params">(View view, <span class="type">int</span> position)</span>;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> OnItemClickListener onItemClickListener;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOnItemClickListener</span><span class="params">(OnItemClickListener onItemClickListener)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.onItemClickListener = onItemClickListener;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>然后在适配器中的类<strong>AddViewHolder</strong>中绑定点击事件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AddViewHolder</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.ViewHolder &#123;</span><br><span class="line"></span><br><span class="line">       TextView cityCity,cityTem;<span class="comment">//城市名，温度</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> <span class="title function_">AddViewHolder</span><span class="params">(<span class="meta">@NonNull</span> View itemView)</span> &#123;</span><br><span class="line">           <span class="built_in">super</span>(itemView);</span><br><span class="line">           <span class="comment">//绑定控件</span></span><br><span class="line">           cityCity=itemView.findViewById(R.id.city_city);</span><br><span class="line">           cityTem = itemView.findViewById(R.id.city_tem);</span><br><span class="line">           <span class="comment">//绑定点击事件</span></span><br><span class="line">           itemView.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">                   <span class="keyword">if</span> (onItemClickListener!=<span class="literal">null</span>) &#123;</span><br><span class="line">                       onItemClickListener.onItemClick(view,getLayoutPosition());</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>然后就是一如既往的重写三个方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NonNull</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> AddViewHolder <span class="title function_">onCreateViewHolder</span><span class="params">(<span class="meta">@NonNull</span> ViewGroup parent, <span class="type">int</span> viewType)</span> &#123;</span><br><span class="line">   <span class="comment">//绑定控件，哪个页面展示在RecyclerView中，R.layout.added_city</span></span><br><span class="line">       <span class="type">View</span> <span class="variable">view</span> <span class="operator">=</span> LayoutInflater.from(mContext).inflate(R.layout.added_city, parent, <span class="literal">false</span>);</span><br><span class="line">       <span class="type">AddViewHolder</span> <span class="variable">cityViewHolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AddViewHolder</span>(view);</span><br><span class="line">       <span class="keyword">return</span> cityViewHolder;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onBindViewHolder</span><span class="params">(<span class="meta">@NonNull</span> AddViewHolder holder, <span class="type">int</span> position)</span> &#123;</span><br><span class="line">       <span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> mCityBeans.get(position);</span><br><span class="line">       <span class="comment">//控件传值</span></span><br><span class="line">       holder.cityCity.setText(cityBean.getName());</span><br><span class="line">       holder.cityTem.setText(cityBean.getTem());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getItemCount</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> (mCityBeans == <span class="literal">null</span>) ? <span class="number">0</span> : mCityBeans.size();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>适配器AddCityAdapter源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddCityAdapter</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.Adapter&lt;AddCityAdapter.AddViewHolder&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> List&lt;CityBean&gt; mCityBeans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AddCityAdapter</span><span class="params">(Context context, List&lt;CityBean&gt; cityBeans)</span> &#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">        <span class="built_in">this</span>.mCityBeans = cityBeans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AddViewHolder <span class="title function_">onCreateViewHolder</span><span class="params">(<span class="meta">@NonNull</span> ViewGroup parent, <span class="type">int</span> viewType)</span> &#123;</span><br><span class="line">        <span class="type">View</span> <span class="variable">view</span> <span class="operator">=</span> LayoutInflater.from(mContext).inflate(R.layout.added_city, parent, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">AddViewHolder</span> <span class="variable">cityViewHolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AddViewHolder</span>(view);</span><br><span class="line">        <span class="keyword">return</span> cityViewHolder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onBindViewHolder</span><span class="params">(<span class="meta">@NonNull</span> AddViewHolder holder, <span class="type">int</span> position)</span> &#123;</span><br><span class="line">        <span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> mCityBeans.get(position);</span><br><span class="line"></span><br><span class="line">        holder.cityCity.setText(cityBean.getName());</span><br><span class="line">        holder.cityTem.setText(cityBean.getTem());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getItemCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (mCityBeans == <span class="literal">null</span>) ? <span class="number">0</span> : mCityBeans.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AddViewHolder</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.ViewHolder &#123;</span><br><span class="line"></span><br><span class="line">        TextView cityCity,cityTem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">AddViewHolder</span><span class="params">(<span class="meta">@NonNull</span> View itemView)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(itemView);</span><br><span class="line"></span><br><span class="line">            cityCity=itemView.findViewById(R.id.city_city);</span><br><span class="line">            cityTem = itemView.findViewById(R.id.city_tem);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//绑定点击事件</span></span><br><span class="line">            itemView.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (onItemClickListener!=<span class="literal">null</span>) &#123;</span><br><span class="line">                        onItemClickListener.onItemClick(view,getLayoutPosition());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 点击响应事件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OnItemClickListener</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 当RecyclerView某个被点击的时候回调</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> view 点击item的视图</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> position 点击得到的数据</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onItemClick</span><span class="params">(View view, <span class="type">int</span> position)</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> OnItemClickListener onItemClickListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOnItemClickListener</span><span class="params">(OnItemClickListener onItemClickListener)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.onItemClickListener = onItemClickListener;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h1><p>然后进行数据库工具的构建，要操作数据库，一般的方法得需要实体类吧，接着就是城市实体类的封装，当获取当前定位天气信息时，把此数据类保存到数据库<br>所以先构建城市实体类CityBean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CityBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">//城市名称</span></span><br><span class="line">    <span class="keyword">private</span> String[] area;<span class="comment">//县/区</span></span><br><span class="line">    <span class="keyword">private</span> String tem;<span class="comment">//温度</span></span><br><span class="line">    <span class="keyword">private</span> String updateTime;<span class="comment">//更新时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造方法自定义，主要看数据库操作和new时传值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CityBean</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CityBean</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CityBean</span><span class="params">(String name, String tem, String updateTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.tem = tem;</span><br><span class="line">        <span class="built_in">this</span>.updateTime = updateTime;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//get和set、toString注释</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a498a4b6b70248e7b9769bb4f37d3423.png" alt="db"></p><p>接着就是数据库的CityDatabaseConfig，有数据库名，表名的信息，以防操作数据库写错名称，故写在此配置下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CityDatabaseConfig</span> &#123;</span><br><span class="line">    <span class="comment">//数据库的名字</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DATABASE_NAME</span> <span class="operator">=</span> <span class="string">&quot;cityDb&quot;</span>;</span><br><span class="line">    <span class="comment">//表名</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TABLE_NAME</span> <span class="operator">=</span> <span class="string">&quot;city_weather&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后是<code>CityDbHelper</code>继承自<strong>SQLiteOpenHelper</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CityDbHelper</span> <span class="keyword">extends</span> <span class="title class_">SQLiteOpenHelper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CityDbHelper</span><span class="params">(Context context)</span> &#123;</span><br><span class="line">    <span class="comment">//创建数据库CityDatabaseConfig.DATABASE_NAME</span></span><br><span class="line">        <span class="built_in">super</span>(context, CityDatabaseConfig.DATABASE_NAME, <span class="literal">null</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(SQLiteDatabase db)</span> &#123;</span><br><span class="line">    <span class="comment">//创建表，字段(cityName text,tem text,updateTime text)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;create table if not exists &quot;</span>+CityDatabaseConfig.TABLE_NAME+<span class="string">&quot;(cityName text,tem text,updateTime text)&quot;</span>;</span><br><span class="line">        db.execSQL(sql);</span><br><span class="line">        Log.i(CityDatabaseConfig.DATABASE_NAME,<span class="string">&quot;created success!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="type">int</span> oldVersion, <span class="type">int</span> newVersion)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Log.i(CityDatabaseConfig.DATABASE_NAME,<span class="string">&quot;updated success!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接着是数据库一些操作的工具，里面写一些能用到的方法，自行扩展即可</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DBUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="keyword">private</span> CityDbHelper helper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 单例模式</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DBUtils</span><span class="params">(Context context)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.context = context;</span><br><span class="line">        helper = <span class="keyword">new</span> <span class="title class_">CityDbHelper</span>(context) &#123;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 向表中插入</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">insertData</span><span class="params">(String cityName,String tem,String updateTime)</span> &#123;</span><br><span class="line">        <span class="type">SQLiteDatabase</span> <span class="variable">db</span> <span class="operator">=</span> helper.getReadableDatabase();</span><br><span class="line">        <span class="type">ContentValues</span> <span class="variable">values</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ContentValues</span>();</span><br><span class="line"></span><br><span class="line">        values.put(<span class="string">&quot;cityName&quot;</span>, cityName);</span><br><span class="line">        values.put(<span class="string">&quot;tem&quot;</span>, tem);</span><br><span class="line">        values.put(<span class="string">&quot;updateTime&quot;</span>, updateTime);</span><br><span class="line">        <span class="type">long</span> <span class="variable">insert</span> <span class="operator">=</span> db.insert(CityDatabaseConfig.TABLE_NAME, <span class="literal">null</span>, values);</span><br><span class="line">        <span class="keyword">if</span> (insert &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据城市名称更新数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">updateByName</span><span class="params">(String cityName,String tem,String updateTime)</span>&#123;</span><br><span class="line">        <span class="type">SQLiteDatabase</span> <span class="variable">db</span> <span class="operator">=</span> helper.getReadableDatabase();</span><br><span class="line">        <span class="type">ContentValues</span> <span class="variable">values</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ContentValues</span>();</span><br><span class="line"></span><br><span class="line">        values.put(<span class="string">&quot;cityName&quot;</span>, cityName);</span><br><span class="line">        values.put(<span class="string">&quot;tem&quot;</span>, tem);</span><br><span class="line">        values.put(<span class="string">&quot;updateTime&quot;</span>, updateTime);</span><br><span class="line">        <span class="type">long</span> <span class="variable">update</span> <span class="operator">=</span> db.update(CityDatabaseConfig.TABLE_NAME,values,<span class="string">&quot;cityName=?&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;cityName&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (update&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询全部的信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;CityBean&gt; <span class="title function_">getAllCity</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;CityBean&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">SQLiteDatabase</span> <span class="variable">db</span> <span class="operator">=</span> helper.getReadableDatabase();</span><br><span class="line">        <span class="type">Cursor</span> <span class="variable">cursor</span> <span class="operator">=</span> db.rawQuery(<span class="string">&quot;select * from &quot;</span> + CityDatabaseConfig.TABLE_NAME, <span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">if</span> (cursor != <span class="literal">null</span> &amp;&amp; cursor.getCount() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (cursor.moveToNext()) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="type">String</span> <span class="variable">cityName</span> <span class="operator">=</span> cursor.getString(<span class="number">0</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">tem</span> <span class="operator">=</span> cursor.getString(<span class="number">1</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">updateTime</span> <span class="operator">=</span> cursor.getString(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                <span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CityBean</span>(cityName,tem,updateTime);</span><br><span class="line">                list.add(cityBean);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据城市名查询一条信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> CityBean <span class="title function_">getCityByName</span><span class="params">(String cityName)</span> &#123;</span><br><span class="line">        <span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CityBean</span>();</span><br><span class="line">        <span class="type">SQLiteDatabase</span> <span class="variable">db</span> <span class="operator">=</span> helper.getReadableDatabase();</span><br><span class="line">        <span class="type">Cursor</span> <span class="variable">cursor</span> <span class="operator">=</span> db.rawQuery(<span class="string">&quot;select * from &quot;</span> + CityDatabaseConfig.TABLE_NAME + <span class="string">&quot; where cityName=?&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;cityName&#125;);</span><br><span class="line">        <span class="keyword">if</span> (cursor != <span class="literal">null</span> &amp;&amp; cursor.getCount() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (cursor.moveToFirst()) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="type">String</span> <span class="variable">cityNameResult</span> <span class="operator">=</span> cursor.getString(<span class="number">0</span>);</span><br><span class="line">                cityBean.setName(cityName);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cityBean;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据城市名删除一条数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cityName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delCityByName</span><span class="params">(String cityName)</span>&#123;</span><br><span class="line">        <span class="type">SQLiteDatabase</span> <span class="variable">db</span> <span class="operator">=</span> helper.getReadableDatabase();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">delRow</span> <span class="operator">=</span> db.delete(CityDatabaseConfig.TABLE_NAME, <span class="string">&quot;cityName=?&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;cityName&#125;);</span><br><span class="line">        <span class="keyword">if</span> (delRow &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="跳转页面，展示数据"><a href="#跳转页面，展示数据" class="headerlink" title="跳转页面，展示数据"></a>跳转页面，展示数据</h1><p>一些基本的方法写好后就是MainActivity.java文件，用Intent跳转到城市管理界面，注意先引入数据库操作工具</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DBUtils</span> <span class="variable">dbUtils</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DBUtils</span>(MainActivity.<span class="built_in">this</span>);</span><br></pre></td></tr></table></figure><p>设置右上角图标的点击事件，此小圆点图标绑定为<strong>ivMore</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/389c3e6a59894b55b698d6fa9cdccb00.png" alt="tub"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ivMore.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="literal">null</span> == dbUtils.getCityByName(tvCity.getText().toString()).getName()) &#123;</span><br><span class="line">                    <span class="comment">//数据库不存在此城市就插入</span></span><br><span class="line">                    dbUtils.insertData(tvCity.getText().toString(),tvTem.getText().toString(),tvTime.getText().toString());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//存在就更新</span></span><br><span class="line">                    dbUtils.updateByName(tvCity.getText().toString(),tvTem.getText().toString(),tvTime.getText().toString());</span><br><span class="line"><span class="comment">//                dbUtils.insertData(&quot;北京&quot;,&quot;30°C&quot;,&quot;2022-06-19 21:23:35&quot;);测试用</span></span><br><span class="line"><span class="comment">//                dbUtils.delCityByName(&quot;商丘&quot;);测试用</span></span><br><span class="line">                    List&lt;CityBean&gt; list = dbUtils.getAllCity();</span><br><span class="line">                    Log.d(<span class="string">&quot;getAllCity&quot;</span>, <span class="string">&quot;allList&lt;CityBean&gt;&gt;&gt;&gt;》》》&quot;</span> + list.toString());</span><br><span class="line"></span><br><span class="line">                    ToastUtil.showShortToast(MainActivity.<span class="built_in">this</span>, <span class="string">&quot;当前位置:&quot;</span> + tvCity.getText());</span><br><span class="line">                    <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>, CityManagerActivity.class);</span><br><span class="line">                    Log.d(<span class="string">&quot;getNowCity&quot;</span>, <span class="string">&quot;nowCity&lt;CityBean&gt;&gt;&gt;&gt;》》》&quot;</span> + tvCity.getText());</span><br><span class="line"><span class="comment">//                要求跳转页面传值回来，requestCode：200;</span></span><br><span class="line">                    startActivityForResult(intent, <span class="number">200</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>跳转到城市管理页面，添加activity.java文件，命名<strong>CityManagerActivity</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CityManagerActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AddCityAdapter addCityAdapter;<span class="comment">//适配器</span></span><br><span class="line">    <span class="keyword">private</span> RecyclerView rvAddedCity;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;CityBean&gt; cityDbBeanList;</span><br><span class="line">    DBUtils dbUtils= <span class="keyword">new</span> <span class="title class_">DBUtils</span>(CityManagerActivity.<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.city_manager);</span><br><span class="line"></span><br><span class="line">        initView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initView</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        rvAddedCity = findViewById(R.id.city_manager);</span><br><span class="line"></span><br><span class="line">        cityDbBeanList = dbUtils.getAllCity();</span><br><span class="line">        Log.d(<span class="string">&quot;cityList&quot;</span>,<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;数据库中的数据》》》》》》&quot;</span>+cityDbBeanList);</span><br><span class="line">        addCityAdapter = <span class="keyword">new</span> <span class="title class_">AddCityAdapter</span>(CityManagerActivity.<span class="built_in">this</span>,cityDbBeanList);</span><br><span class="line">        rvAddedCity.setAdapter(addCityAdapter);</span><br><span class="line">        <span class="type">LinearLayoutManager</span> <span class="variable">layoutManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinearLayoutManager</span>(<span class="built_in">this</span>, LinearLayoutManager.VERTICAL, <span class="literal">false</span>);</span><br><span class="line">        rvAddedCity.setLayoutManager(layoutManager);</span><br><span class="line"><span class="comment">//设置点击事件</span></span><br><span class="line">        addCityAdapter.setOnItemClickListener(<span class="keyword">new</span> <span class="title class_">AddCityAdapter</span>.OnItemClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onItemClick</span><span class="params">(View view, <span class="type">int</span> position)</span> &#123;</span><br><span class="line"><span class="comment">//                ToastUtil.showShotToast(CityManagerActivity.this, cityDbBeanList.get(position).getName());</span></span><br><span class="line">                <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(CityManagerActivity.<span class="built_in">this</span>,MainActivity.class);</span><br><span class="line">                intent.putExtra(<span class="string">&quot;selectedCity&quot;</span>,cityDbBeanList.get(position).getName());</span><br><span class="line"><span class="comment">//返回MainActivity页面并传值setResult(200,intent);设置resultCode：200;</span></span><br><span class="line">                setResult(<span class="number">200</span>,intent);</span><br><span class="line">                finish();</span><br><span class="line"></span><br><span class="line"><span class="comment">//                ToastUtil.showShotToast(CityManagerActivity.this,&quot;finish&quot;);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后既然是要求页面返回传值，MainActivity就要重写方法<code>onActivityResult</code>接受传来的值</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onActivityResult</span><span class="params">(<span class="type">int</span> requestCode, <span class="type">int</span> resultCode, <span class="meta">@Nullable</span> Intent data)</span> &#123;</span><br><span class="line">       <span class="built_in">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">       <span class="keyword">if</span> (requestCode == <span class="number">200</span> &amp;&amp; resultCode == <span class="number">200</span>) &#123;</span><br><span class="line">       <span class="comment">//getString拿到传来的值</span></span><br><span class="line">           <span class="type">String</span> <span class="variable">dt</span> <span class="operator">=</span> data.getExtras().getString(<span class="string">&quot;selectedCity&quot;</span>);</span><br><span class="line">           tvCity.setText(dt);</span><br><span class="line">           nowCity=dt;</span><br><span class="line">           <span class="comment">//重新从api根据传来的城市名称获取天气</span></span><br><span class="line">           getWeather(nowCity);</span><br><span class="line">           ToastUtil.showLongToast(<span class="built_in">this</span>,dt+<span class="string">&quot;天气更新😘~&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>自此一部分功能就实现了，跳转城市管理页面，展示城市，指定城市展示天气信息，</p><blockquote><p>数据库操作实现了：</p><ol><li>拿到数据库所有城市信息、</li><li>插入一条数据、</li><li>根据城市名称更新数据、</li><li>删除一条数据待完成，，自行拓展，只要工具类删除方法写对，无非就是添加个事件调用删除方法</li></ol></blockquote><p>更精细化的搜索城市，主动根据搜索到的城市添加城市到数据库，后篇文章会逐渐完善，此篇文章主要是数据库的一些操作和适配器添加点击事件，订阅此栏可同步获取项目搭建过程😘😘</p><p>==源码地址==：<a href="https://gitee.com/guo-yc/weather-forcast3">Gitee</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> 📱Android </tag>
            
            <tag> 🌤️天气预报 </tag>
            
            <tag> 🧿API </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓天气预报app(二)——适配器、每小时数据展示</title>
      <link href="/posts/002.html"/>
      <url>/posts/002.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5502">简易的安卓天气app(一)——解析Json数据、数据类封装</a><br>📌<a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">简易的安卓天气app(二)——适配器、每小时数据展示</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">简易的安卓天气app(三)——城市管理、数据库操作</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125397512?spm=1001.2014.3001.5502">简易的安卓天气app(四)——搜索城市、完善页面</a></p><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>拒绝画饼，先讲需求，项目结构，整体思路，第一章我们只是封装了两个数据类<strong>WeatherBean</strong>和<strong>DayWeatherBean</strong>(此类存的是下图的data数据，是个JsonArray，里面包了JsonObject，7个表示7天，由于只需拿到当天数据，所以第0项就是当天详细天气)，用来存放城市的当天天气，如果我们想要展示更精美的页面呢，或者说是展示更多的数据，比如，我们这里用<strong>RecyclerView</strong>展示<strong>一天中每个小时的天气</strong>，实现效果（若是想从当前时刻开始，获取小时温度，可自行实现，源码见页尾）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b206a7486dc14e92ba1dac95905a8678.gif#pic_center" alt="0"></p></blockquote><h1 id="涉及内容"><a href="#涉及内容" class="headerlink" title="涉及内容"></a>涉及内容</h1><ul><li>获取网络数据</li><li>数据实体类的封装</li><li>异步获取网络数据</li><li>Gson工具类解析Json</li><li>界面设计RecyclerView</li><li>适配器adatper</li></ul><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/aa45b625a5454d309733372b67e9efac.png#pic_center" alt="结构"></p><h1 id="界面设计"><a href="#界面设计" class="headerlink" title="界面设计"></a>界面设计</h1><p>既然用到了RecyclerView，那么就离不开adapter，RecyclerView负责准备一个框框，adapter负责把什么数据传到框内，顾名思义适配器<br>详细讲解C一下，第一篇就是，讲的非常全面，附加地址<a href="https://blog.csdn.net/huweiliyi/article/details/105779329?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165555298516782388035800%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165555298516782388035800&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-105779329-null-null.142%5Ev17%5Econtrol,157%5Ev15%5Enew_3&amp;utm_term=RecyclerView&amp;spm=1018.2226.3001.4187">Android RecyclerView最全使用详解</a><br>布局效果<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/53e6d0a745bf404eb288034eae75a453.png#pic_center" alt="4">需要添加的RecyclerView</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;10dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">androidx.recyclerview.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:id</span>=<span class="string">&quot;@+id/rlv_hour_weather&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:background</span>=<span class="string">&quot;@drawable/blackground&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:alpha</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>id自定义名字，主要时在MainActivity里新增private RecyclerView rlvHourWeather;并findByView注册拿到之后就可以添加适配器了，想要哪个小页面传到这个RecyclerView中，，<br>每小时天气小界面：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7c62edf1ad634674b6b43db3c06deefb.png#pic_center" alt="7"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8e17ef01125440e89339bb8c66205398.png#pic_center" alt="6"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;60dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center_horizontal&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:background</span>=<span class="string">&quot;@mipmap/bg&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_hours&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;8:00&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;18sp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_weather&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;45dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;45dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">&quot;@drawable/weather_yin&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/tv_tem&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;19sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:text</span>=<span class="string">&quot;31&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="网络Json数据解析"><a href="#网络Json数据解析" class="headerlink" title="网络Json数据解析"></a>网络Json数据解析</h1><p>第一篇我们已经从天气api接口拿到了json并成功解析，还封装了两个实体类<br>下面四从api拿到的数据，里面的json数据格式化之后的形式，首先为了下面的讲解代码流畅性，这次先从解析此api接口的json数据入手<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c9802c3c42444b64b962dd41f98a9f55.png" alt="1">首先百度前往一个在线Json解析网站<a href="https://www.json.cn/">https://www.json.cn/</a><br>或者是在Idea里新建个json后缀的文件，复制粘贴进去，格式化后就得到一层一层封装起来的json数据<br>或者前往客户端Android Studio寻找一个插件如下图第一个GsonFormat，详细用法自行C一下<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/46d93107fc504f80860bcd3c3dc3520c.png" alt="在这里插入图片描述">这里讲解就去了在线Json解析网站<a href="https://www.json.cn/">https://www.json.cn/</a>复制粘贴进去Json数据，转义和格式化后得到，<code>ps（自用的火狐浏览器挺好的，自带Json转换功能）</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1448bc05cd1843eb9288e3acb2cffaf8.png#pic_center" alt="在这里插入图片描述">第一篇文章已经写明，用到了<strong>第三方库Google的Gson工具</strong>，自动封装，两行代码完事，使用详情见第一篇文章，需要导包<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0fbb1b0730134f69bf60db0f7c994e38.png" alt="3"><br>想仔细学习，自己用JsonObject，JsonArray封装的，这篇文章不会讲太多，后面的文章会用到仔细封装，<code>ps|小窍门（观察&quot;[]&quot;和&quot;&#123;&#125;&quot;你就会发现规律）</code><br>我们要得到每小时的数据，就要找一个对象，里面封装的是每小时的天气，就是说data数据0下标当天天气里还有一个对象，包了每个小时共24小时的详细数据，下面图片是解析</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f45808fa1faa43c4a7261e17916e2050.png#pic_center" alt="4">所以，从此hours数据的结构得知有需要封装一个数据类，还是包在当日天气DayWeatherBean下的一个List<object>。</p><h1 id="每小时数据实体类封装"><a href="#每小时数据实体类封装" class="headerlink" title="每小时数据实体类封装"></a>每小时数据实体类封装</h1><p>此处这个数据类就叫做HoursWearBean，那么先修改当日天气DayWeatherBean，添加一个<br><code>private List&lt;HoursWeatherBean&gt; hoursWeatherBeanList;</code>属性，由于Gson会根据Json数据的属性名进行封装，所以就需要实现一个序列化接口<code>implements Serializable</code>，并添加注解<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/429e13e02e17461faeb9de4545bc1abc.png" alt="5"><br>这样变量名就可以随便命名了<br>若是不想实现，就老老实实用<code>private List&lt;HoursWeatherBean&gt; hours;</code>，里面的变量名用hours命名之后就会发现可能报错，嘿嘿，每个小时数据里也有个hours<br>防止出错，属性可以都用一下注解，然后Get、Set修改一下，<br>接着就是每小时详细数据类的封装<br>HoursWeatherBean：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.google.gson.annotations.SerializedName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HoursWeatherBean</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="meta">@SerializedName(&quot;hours&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String hours;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SerializedName(&quot;wea_img&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String weaImg;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SerializedName(&quot;tem&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String tem;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getHours</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hours;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHours</span><span class="params">(String hours)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hours = hours;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getWeaImg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> weaImg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWeaImg</span><span class="params">(String weaImg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.weaImg = weaImg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTem</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tem;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTem</span><span class="params">(String tem)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tem = tem;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;HoursWeatherBean&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;hours=&#x27;&quot;</span> + hours + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, weaImg=&#x27;&quot;</span> + weaImg + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, tem=&#x27;&quot;</span> + tem + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="适配器HourWeatherAdapter"><a href="#适配器HourWeatherAdapter" class="headerlink" title="适配器HourWeatherAdapter"></a>适配器HourWeatherAdapter</h1><ol><li>继承自RecyclerView.Adapter，构造HourWeatherAdapter</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Context mContext;</span><br><span class="line">   <span class="keyword">private</span> List&lt;HoursWeatherBean&gt; mHoursWeatherBeans;<span class="comment">//写Activity时传进来的List，需要展示的数据集合</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">HourWeatherAdapter</span><span class="params">(Context context, List&lt;HoursWeatherBean&gt; hoursWeatherBeans)</span> &#123;</span><br><span class="line">       mContext = context;</span><br><span class="line">       <span class="built_in">this</span>.mHoursWeatherBeans = hoursWeatherBeans;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol><li>新建class类<strong>HourViewHolder</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HourViewHolder</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.ViewHolder &#123;</span><br><span class="line"></span><br><span class="line">       TextView tvHours, tvTem;</span><br><span class="line">       ImageView ivWeather;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> <span class="title function_">HourViewHolder</span><span class="params">(<span class="meta">@NonNull</span> View itemView)</span> &#123;</span><br><span class="line">           <span class="built_in">super</span>(itemView);</span><br><span class="line">           <span class="comment">//绑定小页面的组件</span></span><br><span class="line">           tvHours = itemView.findViewById(R.id.tv_hours);</span><br><span class="line">           tvTem = itemView.findViewById(R.id.tv_tem);</span><br><span class="line">           ivWeather = itemView.findViewById(R.id.iv_weather);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e313fe8d4dd54dc2a8490171f6cfb8d5.png" alt="8"></p><ol><li>然后重写三个方法</li></ol><p>点击错误提示，快速重写三个方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NonNull</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> HourViewHolder <span class="title function_">onCreateViewHolder</span><span class="params">(<span class="meta">@NonNull</span> ViewGroup parent, <span class="type">int</span> viewType)</span> &#123;</span><br><span class="line">   <span class="comment">//绑定View，每小时数据的小页面</span></span><br><span class="line">       <span class="type">View</span> <span class="variable">view</span> <span class="operator">=</span> LayoutInflater.from(mContext).inflate(R.layout.hour_item_layout, parent, <span class="literal">false</span>);</span><br><span class="line">       <span class="type">HourViewHolder</span> <span class="variable">hourViewHolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HourViewHolder</span>(view);</span><br><span class="line">       <span class="keyword">return</span> hourViewHolder;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onBindViewHolder</span><span class="params">(<span class="meta">@NonNull</span> HourViewHolder holder, <span class="type">int</span> position)</span> &#123;</span><br><span class="line">       <span class="type">HoursWeatherBean</span> <span class="variable">hoursweatherBean</span> <span class="operator">=</span> mHoursWeatherBeans.get(position);</span><br><span class="line">       <span class="comment">//根据位置position传值</span></span><br><span class="line">       holder.tvTem.setText(hoursweatherBean.getTem()+<span class="string">&quot;℃&quot;</span>);</span><br><span class="line">       holder.tvHours.setText(hoursweatherBean.getHours().substring(<span class="number">0</span>,<span class="number">2</span>)+<span class="string">&quot;:00&quot;</span>);</span><br><span class="line">       holder.ivWeather.setImageResource(WeatherImgUtil.getImgResOfWeather(hoursweatherBean.getWeaImg()));</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getItemCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> (mHoursWeatherBeans == <span class="literal">null</span>) ? <span class="number">0</span> : mHoursWeatherBeans.size();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h1 id="MainActivity-java"><a href="#MainActivity-java" class="headerlink" title="MainActivity.java"></a>MainActivity.java</h1><p>接着就是拿到Json数据，封装称为数据类，我代码中直接Gson封装成WeatherBean，里面封装有List<DayWeatherBean>，而DayWeatherBean中又有List<HoursWeatherBean>，一层一层包着，<br>当数据异步封装好后，<br>添加属性</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> HourWeatherAdapter mHourAdapter;<span class="comment">//适配器</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> RecyclerView rlvHourWeather;<span class="comment">//RecyclerView </span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">       * 每小时温度</span></span><br><span class="line"><span class="comment">       * dayWeather.getHoursWeatherBeanList()==&gt;24小时数据List</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      mHourAdapter = <span class="keyword">new</span> <span class="title class_">HourWeatherAdapter</span>(<span class="built_in">this</span>, dayWeather.getHoursWeatherBeanList());</span><br><span class="line">      rlvHourWeather.setAdapter(mHourAdapter);</span><br><span class="line">      <span class="comment">//数据水平布局</span></span><br><span class="line">      <span class="type">LinearLayoutManager</span> <span class="variable">layoutManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinearLayoutManager</span>(<span class="built_in">this</span>, LinearLayoutManager.HORIZONTAL, <span class="literal">false</span>);</span><br><span class="line">      rlvHourWeather.setLayoutManager(layoutManager);</span><br></pre></td></tr></table></figure><p>到此处就能完美展示每小时数据了，步骤在目录中，就是先设计界面，封装数据类，适配器，activity。代码行数有点小多，末尾附带源码<br>==源码地址==：</p><ul><li>gitee：<a href="https://gitee.com/guo-yc/weather-forcast2">WeatherForcast2</a></li><li>阿里云盘：<a href="https://www.aliyundrive.com/s/YT4GNZ8ipsY">WeatherForcast2</a><br>—- 提取码：a82t</li></ul>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> 📱Android </tag>
            
            <tag> 🌤️天气预报 </tag>
            
            <tag> 🧿API </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓天气预报app(四)——搜索城市、完善页面</title>
      <link href="/posts/004.html"/>
      <url>/posts/004.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125302624?spm=1001.2014.3001.5502">简易的安卓天气app(一)——解析Json数据、数据类封装</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">简易的安卓天气app(二)——适配器、每小时数据展示</a><br>✅<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">简易的安卓天气app(三)——城市管理、数据库操作</a><br>📌<a href="https://blog.csdn.net/m0_51390535/article/details/125397512?spm=1001.2014.3001.5502">简易的安卓天气app(四)——搜索城市、完善页面</a></p></blockquote><h1 id="需求🏷️"><a href="#需求🏷️" class="headerlink" title="需求🏷️"></a>需求🏷️</h1><p>前三篇重要的功能已经实现的差不多了，完成了api获取数据，封装数据，展示数据，和一些数据库操作，接着就是按照自己的意愿，搜索城市，查看此城市天气，并决定将此城市加入数据库操作，方法是尽可能地简化的，本次项目共涉及三个页面之间的跳转，逻辑清晰，条理明朗，后续更多复杂化操作，和更多重复性操作有待探索，本质上都是已有代码的延申。<br>先获取到全国各个城市的信息，展示在搜索城市页面，方便查找。<br>实现步骤：</p><ol><li>AutoCompleteTextView输入提示文本框</li><li>实现读取全部城市展示</li><li>搜索框搜索指定城市</li></ol><p>实现效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1daeeee9ec194ef8bc751f68fdfc5b8a.gif#pic_center" alt="gif"></p><h1 id="涉及内容"><a href="#涉及内容" class="headerlink" title="涉及内容"></a>涉及内容</h1><ul><li>AutoCompleteTextView输入提示文本框</li><li>文件读取，Json数据封装，RecyclerView数据展示</li><li>根据城市名称刷新天气</li></ul><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ba7f393616774876bfecf8394e4a7cdd.png#pic_center" alt="2">此文为项目开发第四篇文章，故前面文章已经讲完一部分内容，想了解详细步骤移步页首，每一篇文章都已经给出独立源码，可自行根据需要模拟；；</p><h1 id="界面设计"><a href="#界面设计" class="headerlink" title="界面设计"></a>界面设计</h1><p>搜索页面设计：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2d3bd218d46a424bbc488527b9d79ed3.png#pic_center" alt="4">大概就是三层的线性布局：<br>第一层TextView接受主页面传进来的当前天气的城市名称。<br>第二层就是一个搜索框，使用到的是AutoCompleteTextView，带有提示信息的输入框，EditView也可以，右边搜索图标设置点击监听事件。<br>第三层就是一个RecyclerView展示全部城市名称，也可以设置点击事件监听，或者输入框输入，此处作为提示出现，都是可行方案</p><p>搜索城市页面输入框代码：<br>输入框AutoCompleteTextView此次用到的属性：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">android:completionThreshold=&quot;1&quot; //输入一个字符就给出提示</span><br><span class="line">android:dropDownHorizontalOffset：//提示菜单与文本起始的水平间距</span><br><span class="line">android:dropDownHeight：//设置提示框的高度，太小可能会遮盖部分提示，不过可以上下滚动显示</span><br><span class="line">android:dropDownWidth：//设置提示框的宽度，太小可能会遮盖部分提示</span><br><span class="line">android:imeOptions=&quot;actionSearch&quot; //键盘点击搜索事件</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;380dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;40dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:background</span>=<span class="string">&quot;@drawable/blackground&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">&quot;30dp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_marginRight</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:paddingLeft</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:paddingRight</span>=<span class="string">&quot;12dp&quot;</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!--输入框--&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">AutoCompleteTextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">&quot;@+id/edit_query&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:background</span>=<span class="string">&quot;@null&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:completionThreshold</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:dropDownHorizontalOffset</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:dropDownWidth</span>=<span class="string">&quot;200dp&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:hint</span>=<span class="string">&quot;请输入城市名称&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:imeOptions</span>=<span class="string">&quot;actionSearch&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:paddingLeft</span>=<span class="string">&quot;8dp&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:paddingRight</span>=<span class="string">&quot;4dp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:textColor</span>=<span class="string">&quot;@color/white&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:singleLine</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">&quot;18sp&quot;</span> /&gt;</span></span><br><span class="line">           <span class="comment">&lt;!--搜索图标--&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">&quot;26dp&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">&quot;26dp&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">&quot;@+id/iv_search&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:src</span>=<span class="string">&quot;@mipmap/icon_search&quot;</span> /&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>输入城市显示提示文本：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b6ced96ab0884a2ca50f0a0685e8d9cb.png#pic_center" alt="5"></p><h1 id="省、城市数据类封装"><a href="#省、城市数据类封装" class="headerlink" title="省、城市数据类封装"></a>省、城市数据类封装</h1><p>既然需求中需要输入一个字就给出相关城市提示信息，那么就要有全部城市数据，才能以此为根据提示城市名称，由于获取全国全部城市的API太难找，而且免费版的还有使用上限，所以此处直接根据文件读取，并封装。前几篇文章由于网络请求api封装用到的是Gson第三方工具，也提到了使用JsonObject等封装，所以此文会使用JsonArray，JsonObject来进行Json数据封装。<br>给出的City.txt文件放在main文件夹下的assets文件夹(res同级)下<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8f5ce60f799e4b57870edc23d49bcb69.png#pic_center" alt="6">里面给出的就是全国省份，各省下辖市，以及市下的区和县。<br>例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"><span class="string">&quot;pname&quot;</span>: <span class="string">&quot;北京市&quot;</span>,</span><br><span class="line"><span class="string">&quot;city&quot;</span>: [&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;北京市&quot;</span>,</span><br><span class="line"><span class="string">&quot;area&quot;</span>: [</span><br><span class="line"><span class="string">&quot;东城区&quot;</span>,</span><br><span class="line"><span class="string">&quot;西城区&quot;</span>,</span><br><span class="line">.........</span><br><span class="line">]</span><br><span class="line">&#125;]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;pname&quot;</span>: <span class="string">&quot;天津市&quot;</span>,</span><br><span class="line"><span class="string">&quot;city&quot;</span>: [&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;天津市&quot;</span>,</span><br><span class="line"><span class="string">&quot;area&quot;</span>: [</span><br><span class="line"><span class="string">&quot;和平区&quot;</span>,</span><br><span class="line"><span class="string">&quot;河东区&quot;</span>,</span><br><span class="line">.........</span><br><span class="line">]</span><br><span class="line">&#125;]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;pname&quot;</span>: <span class="string">&quot;河北省&quot;</span>,</span><br><span class="line"><span class="string">&quot;city&quot;</span>: [&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;石家庄市&quot;</span>,</span><br><span class="line"><span class="string">&quot;area&quot;</span>: [</span><br><span class="line"><span class="string">&quot;长安区&quot;</span>,</span><br><span class="line"><span class="string">&quot;桥西区&quot;</span>,</span><br><span class="line">.........</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;唐山市&quot;</span>,</span><br><span class="line"><span class="string">&quot;area&quot;</span>: [</span><br><span class="line"><span class="string">&quot;路北区&quot;</span>,</span><br><span class="line"><span class="string">&quot;路南区&quot;</span>,</span><br><span class="line">.........</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;秦皇岛市&quot;</span>,</span><br><span class="line"><span class="string">&quot;area&quot;</span>: [</span><br><span class="line"><span class="string">&quot;海港区&quot;</span>,</span><br><span class="line"><span class="string">&quot;山海关区&quot;</span>,</span><br><span class="line">.........</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">.........</span><br></pre></td></tr></table></figure><blockquote><p>前往下面地址自取(永久有效):<br>1.百度网盘：<a href="https://pan.baidu.com/s/1y8Gy4YDKTPZGJ05mY2ShVw?pwd=mnmp">City.txt</a></p><ul><li>提取码：mnmp</li></ul><p>2.阿里云盘：<a href="https://www.aliyundrive.com/s/2UkVwXQuw5u">City.txt</a></p><ul><li>提取码:<strong>su08</strong></li></ul></blockquote><p>前往<a href="https://www.json.cn/">json在线解析网站</a>观察此文件结构</p><ol><li>先观察省，此处就以北京和天津为例，前面文章也提到了观察法，先是一个中括号”[“括住了全部省份，每个省份都是一个Object对象(大括号”{“阔了起来)。</li><li>再观察市，每个省里面的city属性名表示此省下辖的市，也是”[“包裹起来，表示是个数组，里面包含了省下全部市的信息(包括name市名称，area数组：区/县)，这里就解析到各个城市，因为套法一样。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cde53d3528ff4c8e8487ee40dec07d23.png#pic_center" alt="6">接着就是封装（连带着省份也一起封装吧），需要两个数据类，因为只封装到各个省下的城市。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b0b4a12d7a9f420eabe6f3d5b9aaa989.png" alt="7"><br>ProvinceBean封装省份名称pname和市city，市是集合List</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProvinceBean</span> &#123;<span class="comment">//省</span></span><br><span class="line">    <span class="keyword">private</span> String pname;</span><br><span class="line">    <span class="keyword">private</span> List&lt;CityBean&gt; city;</span><br><span class="line"><span class="comment">//set、get、toString、构造。。。。。。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>CityBean封装市名称name和区/县area，县是数组String[]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CityBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String[] area;<span class="comment">//县/区</span></span><br><span class="line">    <span class="keyword">private</span> String tem;<span class="comment">//方便数据库操作</span></span><br><span class="line">    <span class="keyword">private</span> String updateTime;<span class="comment">//方便数据库操作</span></span><br><span class="line">    <span class="comment">//set、get、toString、构造。。。。。。</span></span><br></pre></td></tr></table></figure><h1 id="Json数据解析"><a href="#Json数据解析" class="headerlink" title="Json数据解析"></a>Json数据解析</h1><p>接着就是从文件City.txt读取信息<br>下面是读取方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> getResources().getAssets().open(<span class="string">&quot;City.txt&quot;</span>);</span><br><span class="line"><span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream));</span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">lines</span> <span class="operator">=</span> bufferedReader.readLine();</span><br><span class="line"><span class="keyword">while</span> (lines != <span class="literal">null</span>) &#123;</span><br><span class="line">sb.append(lines);</span><br><span class="line">lines = bufferedReader.readLine();</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">String</span> <span class="variable">resultCity</span> <span class="operator">=</span> sb.toString();</span><br><span class="line">Log.d(<span class="string">&quot;SelectCity&quot;</span>, <span class="string">&quot;resultCity&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span> + resultCity);</span><br></pre></td></tr></table></figure><p>控制台显示(原txt有空格和换行，这样的格式很正常)：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5eac5c344a7044ddbfd165e69e3b3ff9.png" alt="7">然后得到了一个字符串resultCity ，接着就是根据resultCity 进行数据封装</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">JSONArray ja= <span class="keyword">new</span> <span class="title class_">JSONArray</span>(resultCity);</span><br><span class="line"><span class="comment">//获取省，封装</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ja.length(); i++) &#123;<span class="comment">//这个长度就是省的个数</span></span><br><span class="line"><span class="type">JSONObject</span> <span class="variable">provinceJsonObject</span> <span class="operator">=</span> ja.getJSONObject(i);</span><br><span class="line"><span class="type">String</span> <span class="variable">provinceName</span> <span class="operator">=</span> provinceJsonObject.getString(<span class="string">&quot;pname&quot;</span>);</span><br><span class="line"><span class="type">ProvinceBean</span> <span class="variable">provinceBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProvinceBean</span>();</span><br><span class="line">provinceBean.setPname(provinceName);</span><br><span class="line">mProvinceBeanList.add(provinceBean);</span><br><span class="line"><span class="comment">//添加市,也可以用省里封装的List&lt;CityBean&gt;，直接set，以后不免用到CityBean，就1并封装了</span></span><br><span class="line"><span class="type">JSONArray</span> <span class="variable">cityArray</span> <span class="operator">=</span> provinceJsonObject.getJSONArray(<span class="string">&quot;city&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cityArray.length(); j++) &#123;</span><br><span class="line"><span class="type">JSONObject</span> <span class="variable">cityObj</span> <span class="operator">=</span> cityArray.getJSONObject(j);</span><br><span class="line"><span class="type">String</span> <span class="variable">cityName</span> <span class="operator">=</span> cityObj.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CityBean</span>();</span><br><span class="line">cityBean.setName(cityName);</span><br><span class="line">mCityBeanList.add(cityBean);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加区/县待拓展。。。。。。。。。</span></span><br><span class="line">&#125;</span><br><span class="line">Log.d(<span class="string">&quot;SelectCity&quot;</span>, <span class="string">&quot;mCityBeanList&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span> + mCityBeanList.toString());</span><br></pre></td></tr></table></figure><p>到此省和市的数据就已经封装好了，可以查看控制台，发现area=null，因为用不到此数据，就没有对area进行封装，需要封装直接cityBean.set完事，没有难度。</p><p>数据解析封装好，就是设置适配器，既然用到RecyclerView展示城市，那么城市的适配器就得写，毕竟封装好的城市数据不是String数组，是一个集合，为了规范(凑复杂度)直接写适配器吧（<em>List转成String数组就可以不用写适配器，直接用ArrayAdapter</em>）。</p><p><strong>CityAdapter</strong>适配器：</p><p>前面文章提到过，略过过了就，，</p><blockquote><p>指路==&gt;适配器写法：<br><a href="https://blog.csdn.net/m0_51390535/article/details/125350399?spm=1001.2014.3001.5502">简易的安卓天气app(二)——适配器、每小时数据展示</a><br>根据目录<code>适配器HourWeatherAdapter</code>索引</p></blockquote><p>/<strong>**也可以在此适配器添加点击事件，拿到天气，此方法<a href="https://blog.csdn.net/m0_51390535/article/details/125362820?spm=1001.2014.3001.5502">前面文章</a>(根据目录<code>适配器AddCityAdapter</code>索引)也提到过，此处略过</strong>/</p><h1 id="SelectCityActivity-java"><a href="#SelectCityActivity-java" class="headerlink" title="SelectCityActivity.java"></a>SelectCityActivity.java</h1><h2 id="搜索框"><a href="#搜索框" class="headerlink" title="搜索框"></a>搜索框</h2><p>搜索城市页面首先我们来设计搜索框输入文字提示框，首先，我们已经在xml布局中运用了<strong>AutoCompleteTextView</strong>，会自动根据输入的一个字匹配传入的值，有就显示提示，如下，这个弹出提示框其实是可以自定义样式的，这里就用默认了。后续会更新，适配器也是安卓提供的ArrayAdapter，传入的是全国所有市的String[]数组。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/48d810a0a0ef41ed9db33808387b3ab6.png" alt="8"><br>现在，先在SelectCityActivity.java中定义AutoCompleteTextView；<br><code>private AutoCompleteTextView query;</code><br>然后绑定组件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">query = (AutoCompleteTextView) findViewById(R.id.edit_query);</span><br></pre></td></tr></table></figure><p>接着就是设置一个<strong>ArrayAdapter</strong>适配器，里面设置样式为<strong>android.R.layout.simple_list_item_1</strong>安卓提供的样式，就是简单的白框，    然后传入城市的数组；<br>在此之前，这个城市数组还得定义好，前面Json数据解析我们已经知道，从City.txt文件已经拿到了全部城市，并成功传值给<strong>mCityBeanList</strong>；<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5eac5c344a7044ddbfd165e69e3b3ff9.png" alt="72">然后我们把这个List转成String数组，放在适配器ArrayAdapter中；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String[] cityArray = <span class="keyword">new</span> <span class="title class_">String</span>[mCityBeanList.size()];</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; mCityBeanList.size(); i++) &#123;</span><br><span class="line">       <span class="comment">//城市名称定义为一个数组</span></span><br><span class="line">           cityArray[i] = mCityBeanList.get(i).getName().substring(<span class="number">0</span>, mCityBeanList.get(i).getName().length() - <span class="number">1</span>);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>这里带了substring方法，主要是由于我们的天气api查询城市时传入的城市名称不能带市，只能北京，天津，上海，不可北京市，上海市。<br>然后适配器就可以传参了，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adapter = <span class="keyword">new</span> <span class="title class_">ArrayAdapter</span>&lt;String&gt;(<span class="built_in">this</span>, android.R.layout.simple_list_item_1, cityArray);</span><br><span class="line">query.setAdapter(adapter);<span class="comment">//</span></span><br></pre></td></tr></table></figure><p>然后添加输入框右面的搜索图标的点击事件，输入框的城市名就传到了主页并显示天气</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ivSearch = (ImageView) findViewById(R.id.iv_search);</span><br><span class="line">        ivSearch.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">            <span class="comment">//拿到输入框的值</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">cityName</span> <span class="operator">=</span> query.getText().toString();</span><br><span class="line"><span class="comment">//                ToastUtil.showLongToast(SelectCityActivity.this, cityName);</span></span><br><span class="line">                <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(SelectCityActivity.<span class="built_in">this</span>, MainActivity.class);</span><br><span class="line">                intent.putExtra(<span class="string">&quot;inputCity&quot;</span>, cityName);</span><br><span class="line">                setResult(<span class="number">200</span>, intent);</span><br><span class="line">                finish();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="城市显示"><a href="#城市显示" class="headerlink" title="城市显示"></a>城市显示</h2><p>用到RecyclerView，只要把此类中已经封装好的全部城市集合传进去就行了，前面文章已经讲述过RecyclerView的用法，同时，也可以实现点击item跳转到主页获取天气的操作，前面文章也已经提到，不想过多赘述了；</p><blockquote><p>若是嫌弃城市列表太多，都显示在一个页面还得滑动屏幕一个个找；<br>那么，二级RecyclerView不妨考虑一下：先显示全部省，点击省时，弹出市；<br>亦或者Spinner、两个RecyclerView联动，等等方法；==（源码已给，自行探索）==</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/489029a861bd49dbb423e75933e6b950.gif#pic_center" alt="9">&gt;实现上图的效果，用到了左右两个RecyclerView，点击左面，就对应显示有点数据，把数据解析那一步改改就行，省和市完整封装在一起，省不止要serPname了，还要把此省的全部市封装一下provinceBean.setCity(mCityBeanList);<br>下面是封装部分的源码，都是ArrayList，查询速度快。<br>为了保证搜索框还有提示功能，重新定义actureCityBeanList，传入集合actureCityBeanList转的数组；；</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">JSONArray</span> <span class="variable">Data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONArray</span>(resultCity);</span><br><span class="line">            <span class="comment">//获取省，封装</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; Data.length(); i++) &#123;</span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">provinceJsonObject</span> <span class="operator">=</span> Data.getJSONObject(i);</span><br><span class="line">                <span class="type">String</span> <span class="variable">provinceName</span> <span class="operator">=</span> provinceJsonObject.getString(<span class="string">&quot;pname&quot;</span>);</span><br><span class="line">                <span class="type">ProvinceBean</span> <span class="variable">provinceBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProvinceBean</span>();</span><br><span class="line">                provinceBean.setPname(provinceName);</span><br><span class="line">                mCityBeanList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                <span class="comment">//添加市</span></span><br><span class="line">                <span class="keyword">final</span> <span class="type">JSONArray</span> <span class="variable">cityArray</span> <span class="operator">=</span> provinceJsonObject.getJSONArray(<span class="string">&quot;city&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cityArray.length(); j++) &#123;</span><br><span class="line">                    <span class="type">JSONObject</span> <span class="variable">cityObj</span> <span class="operator">=</span> cityArray.getJSONObject(j);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">cityName</span> <span class="operator">=</span> cityObj.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                    <span class="type">CityBean</span> <span class="variable">cityBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CityBean</span>();</span><br><span class="line">                    cityBean.setName(cityName);</span><br><span class="line"><span class="comment">//                    mCityNameList.add(cityName);</span></span><br><span class="line">                    mCityBeanList.add(cityBean);</span><br><span class="line">                    actureCityBeanList.add(cityBean);</span><br><span class="line">                &#125;</span><br><span class="line">                provinceBean.setCity(mCityBeanList);</span><br><span class="line">                mProvinceBeanList.add(provinceBean);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 添加县待拓展。。。。。。。。。</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ☕Java </tag>
            
            <tag> 📱Android </tag>
            
            <tag> 🌤️天气预报 </tag>
            
            <tag> 🧿API </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ajax</title>
      <link href="/posts/ajax.html"/>
      <url>/posts/ajax.html</url>
      
        <content type="html"><![CDATA[<p>PostMan下载地址：<a href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ab90c6b429464c0da2122a27af0b6795.png#pic_center" alt="在这里插入图片描述"></p><p>或中文版工具apifox：<a href="https://www.apifox.cn/">https://www.apifox.cn/</a></p><p>中文版工具apifox帮助地址：<a href="https://www.apifox.cn/help/">帮助中心 | Apifox 使用文档</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fb2838a425c24056bf05522c8f8f9a82.png#pic_center" alt="在这里插入图片描述"></p><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>全称是 Asynchronous Javascript And XML（异步 JavaScript 和 XML）。<br>在网页中利用 XMLHttpRequest 对象和服务器进行数据交互的方式，就是Ajax。<br>1、<code>$.get()</code></p><p>功能单一，发起 get 请求，从服务器拿数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">get</span>(url, [data], [callback])</span><br><span class="line"><span class="comment">//参数一：urlstring类型要请求的资源地址</span></span><br><span class="line"><span class="comment">//参数二：dataobject类型请求资源期间要携带的参数</span></span><br><span class="line"><span class="comment">//参数三：callback请求成功时的回调函数</span></span><br></pre></td></tr></table></figure><p>2、<code>$.post()</code></p><p>功能单一，发起 post 请求，向服务器提交数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">post</span>(url, [data], [callback]);</span><br><span class="line"><span class="comment">//参数一：urlstring类型提交数据的地址</span></span><br><span class="line"><span class="comment">//参数二：dataobject类型要提交的数据</span></span><br><span class="line"><span class="comment">//参数三：callback数据提交成功时的回调函数</span></span><br></pre></td></tr></table></figure><p>3、<code>$.ajax()</code></p><p>功能更多</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 请求的方式 GET 或 POST</span></span><br><span class="line">   <span class="attr">url</span>: <span class="string">&#x27;&#x27;</span>,  <span class="comment">// 请求的URL</span></span><br><span class="line">   <span class="attr">data</span>: &#123; &#125;,<span class="comment">// 请求要携带的数据</span></span><br><span class="line">   <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123; &#125; <span class="comment">// 请求成功之后的回调函数</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>获取表单数据:</p><p>jQuery 提供的 <strong>serialize()</strong> 函数，可以一次性获取表单中所有数据。使用 serialize()时，必须每个表单元素添加 name 属性。</p><p>例如：表单如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=<span class="string">&quot;form1&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><p><strong>serialize()</strong> 函数获取数据：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">serialize</span>()</span><br><span class="line"><span class="comment">// 数据：</span></span><br><span class="line"><span class="comment">// name=值&amp;password=值</span></span><br></pre></td></tr></table></figure></p><h2 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h2><p><strong>art-template模板引擎</strong>：</p><p>网址：<a href="http://aui.github.io/art-template/zh-cn/index.html"> http://aui.github.io/art-template/zh-cn/index.html</a></p><p>下载js文件：<a href="http://aui.github.io/art-template/zh-cn/docs/installation.html">http://aui.github.io/art-template/zh-cn/docs/installation.html</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>模板引擎<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1. 导入模板引擎template-web.js文件 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/template-web.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2. 定义模板，在script中定义的HTML需要指定html解析type=&quot;text/html&quot; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span> <span class="attr">id</span>=<span class="string">&quot;example&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  <span class="comment">&lt;!-- </span></span><span class="template-variable">&#123;&#123;&#125;&#125;</span><span class="language-xml"><span class="comment">表示占位符，是要传入的数据 --&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. 取出数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;roydon&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 4. 调用模板引擎提供的 template 函数（第一个参数表示模板的id，第二个参数是数据）</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> temp = <span class="title function_">template</span>(<span class="string">&#x27;example&#x27;</span>, data)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 5. 渲染HTML</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">html</span>(temp)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>art-template标准语法</strong>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;value&#125;&#125;</span><br><span class="line">&#123;&#123;obj.key&#125;&#125;//对象属性的输出</span><br><span class="line">&#123;&#123;obj[&#x27;key&#x27;]&#125;&#125;//对象属性的输出</span><br><span class="line">&#123;&#123;a ? b : c&#125;&#125;//三元表达式</span><br><span class="line">&#123;&#123;a || b&#125;&#125;//逻辑</span><br><span class="line">&#123;&#123;a + b&#125;&#125;//运算</span><br><span class="line">//若数据值包含HTML结构需要完整输出且被渲染，则：</span><br><span class="line">&#123;&#123;@ value &#125;&#125;</span><br></pre></td></tr></table></figure><p>条件输出：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;if condition&#125;&#125; 按需输出的内容 &#123;&#123;/if&#125;&#125;</span><br><span class="line">&#123;&#123;if condition1&#125;&#125; 按需输出的内容 &#123;&#123;else if condition2&#125;&#125; 按需输出的内容 &#123;&#123;/if&#125;&#125;</span><br></pre></td></tr></table></figure><p>循环输出：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;each arr&#125;&#125;</span><br><span class="line">    &#123;&#123;$index&#125;&#125; &#123;&#123;$value&#125;&#125;</span><br><span class="line">&#123;&#123;/each&#125;&#125;</span><br></pre></td></tr></table></figure><p>例如输出数组：{ arr: [‘1’, ‘2’, ‘3’] }</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  &#123;&#123;each arr&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>索引:&#123;&#123;$index&#125;&#125;值:&#123;&#123;$value&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  &#123;&#123;/each&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>过滤器：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;value | filterName&#125;&#125;</span><br><span class="line">//定义过滤器，过滤器名称filterName</span><br><span class="line">template.defaults.imports.filterName = function(value)&#123;</span><br><span class="line">    /*return处理的结果*/</span><br><span class="line">    /*必须有return*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>正则与字符串操作</strong>：<br><strong>exec()</strong> 函数用于检索字符串中的正则表达式的匹配。<br>如果字符串中有匹配的值，则返回该匹配值，否则返回 null。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="type">var</span> <span class="variable">pattern</span> <span class="operator">=</span> /o/                         </span><br><span class="line"><span class="comment">// 输出的结果[&quot;o&quot;, index: 4, input: &quot;hello&quot;, groups: undefined]</span></span><br><span class="line">console.log(pattern.exec(str)) </span><br></pre></td></tr></table></figure><p>正则表达式中 ( ) 包起来的内容表示一个分组，可以通过分组来提取自己想要的内容，示例代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&#x27;&lt;div&gt;我是&#123;&#123;name&#125;&#125;&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="type">var</span> <span class="variable">pattern</span> <span class="operator">=</span> /&#123;&#123;([a-zA-Z]+)&#125;&#125;/</span><br><span class="line"></span><br><span class="line"><span class="type">var</span> <span class="variable">patternResult</span> <span class="operator">=</span> pattern.exec(str)</span><br><span class="line">console.log(patternResult)</span><br><span class="line"><span class="comment">// 得到 name 相关的分组信息</span></span><br><span class="line"><span class="comment">// [&quot;&#123;&#123;name&#125;&#125;&quot;, &quot;name&quot;, index: 7, input: &quot;&lt;div&gt;我是&#123;&#123;name&#125;&#125;&lt;/div&gt;&quot;, groups: undefined]</span></span><br></pre></td></tr></table></figure><p><strong>replace()</strong>函数用于在字符串中<strong>用一些字符替换另一些字符</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&#x27;123456&#x27;</span>.replace(<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>) <span class="comment">// 得到的 result 的值为字符串 &#x27;abc456&#x27;</span></span><br></pre></td></tr></table></figure><p>用while循环替换：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;今年&#123;&#123; age &#125;&#125;岁了&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="type">var</span> <span class="variable">pattern</span> <span class="operator">=</span> /&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span><br><span class="line"><span class="type">var</span> <span class="variable">patternResult</span> <span class="operator">=</span> <span class="literal">null</span></span><br><span class="line"><span class="title function_">while</span><span class="params">(patternResult = pattern.exec(str)</span>) &#123;</span><br><span class="line">   str = str.replace(patternResult[<span class="number">0</span>], patternResult[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line">console.log(str) <span class="comment">// 输出 &lt;div&gt;name今年age岁了&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>替换为数据中的值：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">data</span> <span class="operator">=</span> &#123; name: <span class="string">&#x27;张三&#x27;</span>, age: <span class="number">20</span> &#125;</span><br><span class="line"><span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;今年&#123;&#123; age &#125;&#125;岁了&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="type">var</span> <span class="variable">pattern</span> <span class="operator">=</span> /&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span><br><span class="line"></span><br><span class="line"><span class="type">var</span> <span class="variable">patternResult</span> <span class="operator">=</span> <span class="literal">null</span></span><br><span class="line"><span class="title function_">while</span> <span class="params">((patternResult = pattern.exec(str)</span>)) &#123;</span><br><span class="line">   str = str.replace(patternResult[<span class="number">0</span>], data[patternResult[<span class="number">1</span>]])</span><br><span class="line">&#125;</span><br><span class="line">console.log(str)</span><br></pre></td></tr></table></figure><p>自定义模板引擎，封装template函数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function <span class="title function_">template</span><span class="params">(id, data)</span> &#123;</span><br><span class="line">  <span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> document.getElementById(id).innerHTML</span><br><span class="line">  <span class="type">var</span> <span class="variable">pattern</span> <span class="operator">=</span> /&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span><br><span class="line">  <span class="type">var</span> <span class="variable">pattResult</span> <span class="operator">=</span> <span class="literal">null</span></span><br><span class="line">  <span class="title function_">while</span> <span class="params">(pattResult = pattern.exec(str)</span>) &#123;</span><br><span class="line">    str = str.replace(pattResult[<span class="number">0</span>], data[pattResult[<span class="number">1</span>]])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h2><p>XMLHttpRequest（简称 xhr）是浏览器提供的 Javascript 对象，可以请求服务器上的数据资源。jQuery 中的 Ajax 函数，就是基于 xhr 对象封装出来的。<br>使用xhr发起GET请求：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 XHR 对象</span></span><br><span class="line"><span class="type">var</span> <span class="variable">xhr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 2. 调用 open 函数</span></span><br><span class="line">xhr.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>)</span><br><span class="line"><span class="comment">// 3. 调用 send 函数，发起 Ajax 请求</span></span><br><span class="line">xhr.send()</span><br><span class="line"><span class="comment">// 4. 监听 onreadystatechange 事件</span></span><br><span class="line">xhr.onreadystatechange = function () &#123;</span><br><span class="line">    <span class="comment">//监听 xhr 对象的请求状态 readyState ；与服务器响应的状态 status</span></span><br><span class="line">  <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取服务器响应的数据xhr.responseText(json格式的字符串)</span></span><br><span class="line">    console.log(xhr.responseText)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用xhr发起POST请求：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 xhr 对象</span></span><br><span class="line"><span class="type">var</span> <span class="variable">xhr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 2. 调用 open 函数</span></span><br><span class="line">xhr.open(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>)</span><br><span class="line"><span class="comment">// 3. 设置 Content-Type 属性</span></span><br><span class="line">xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line"><span class="comment">// 4. 调用 send 函数,同时将数据以查询字符串的形式，提交给服务器</span></span><br><span class="line">xhr.send(<span class="string">&#x27;bookname=水浒传&amp;author=施耐庵&amp;publisher=上海图书出版社&#x27;</span>)</span><br><span class="line"><span class="comment">// 5. 监听事件 onreadystatechange</span></span><br><span class="line">xhr.onreadystatechange = function () &#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    console.log(xhr.responseText)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>JSON和JS对象的互转:</strong></p><ol><li>JSON 字符串转换为 JS 对象，使用 JSON.parse() 方法：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">//结果是 &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span></span><br></pre></td></tr></table></figure><ol><li>JS 对象转换为 JSON 字符串，使用 JSON.stringify() 方法：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;)</span><br><span class="line"><span class="comment">//结果是 &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jQuery </tag>
            
            <tag> ajax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery</title>
      <link href="/posts/jQuery.html"/>
      <url>/posts/jQuery.html</url>
      
        <content type="html"><![CDATA[<p align="center"><font color="pink" size="6">jQuery</font></p><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>js库：即library，封装好的函数。里面有很多预先封装好的方法。</p><p>jQuery就是为了更方便快速操作DOM，里面封装了很多方法，后续用jQuery对象调用这些方法即可。</p><p>学习jQuery就是学习调用里面封装的函数，其优化了DOM操作、事件处理、动画设计和Ajax交互。基本兼容了主流浏览器。链式编程、隐式迭代、支持插件拓展开发，轻量、免费、开源。</p><p>其宗旨就是：写得少，做的多。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/485abb865256441eb4a1b1d6a468249f.png#pic_center" alt="1"></p><p>下载地址：<a href="https://jquery.com/">https://jquery.com/</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/86932f1c848348f0a5f30813bc4173de.png#pic_center" alt="2"></p><p>推荐下载3.X版本。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a3c157049c4f48a8b1d21337c348824a.png#pic_center" alt="3"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6ad396156dc24a3c8593757dbe5922fa.png#pic_center" alt="4"></p><p>点击后直接鼠标右键<strong>另存页面为…</strong>即可，最后将下载下来的文件引入项目中。</p><h2 id="jQuery的基本使用"><a href="#jQuery的基本使用" class="headerlink" title="jQuery的基本使用"></a>jQuery的基本使用</h2><h3 id="入口函数"><a href="#入口函数" class="headerlink" title="入口函数"></a>入口函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="comment">// $(&#x27;div&#x27;).hide();</span></span><br><span class="line">        <span class="comment">// 1.等着页面DOM加载完毕再去执行js代码</span></span><br><span class="line">        <span class="comment">// $(document).ready(function() &#123;</span></span><br><span class="line">        <span class="comment">//     $(&#x27;div&#x27;).hide();</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        <span class="comment">// 2.等着页面DOM加载完毕再去执行js代码</span></span><br><span class="line">        $(function() &#123;</span><br><span class="line">            $(<span class="string">&#x27;div&#x27;</span>).hide();</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;div&gt;<span class="number">114514</span>&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function() &#123;</span><br><span class="line">     ......<span class="comment">//DOM加载完成的入口(推荐)</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function() &#123;</span><br><span class="line">    ......<span class="comment">//DOM加载完成的入口</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20082eab7b284554b30fb223edaf9c13.png#pic_center" alt="在这里插入图片描述"></p><h3 id="jQuery的顶级对象："><a href="#jQuery的顶级对象：" class="headerlink" title="jQuery的顶级对象：$"></a>jQuery的顶级对象：<strong><code>$</code></strong></h3><p><script type="math/tex">`是jQuery 别称，在代码中`</script>和jQuery和等价，为了方便都是<code>$</code>。</p><p><script type="math/tex">`是jQuery的顶级对象，相当于原生js中的window，元素通过`</script>包装成jQuery对象，调用jQuery属性和方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 1. $ 是jQuery的别称（别名）</span></span><br><span class="line">    <span class="comment">// $(function() &#123;</span></span><br><span class="line">    <span class="comment">//     alert(11)</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line">    <span class="comment">//jQuery和$二者可互换，方便起见一般都是$</span></span><br><span class="line">    jQuery(function() &#123;</span><br><span class="line">        <span class="comment">// alert(11)</span></span><br><span class="line">        <span class="comment">// $(&#x27;div&#x27;).hide();hide为jQuery封装的方法；</span></span><br><span class="line">        jQuery(<span class="string">&#x27;div&#x27;</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>jQuery对象和DOM对象</p><p>用原生js获取来的对象是DOM对象，用jQuery方法获取过来的对象是jQuery对象。</p><p>jQuery 对DOM的原生方法进行了封装，jQuery 对象只能使用 jQuery 方法，DOM 对象则使用原生的 JavaScirpt 属性和方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//DOM对象，用原生js获取</span></span><br><span class="line">    <span class="type">var</span> <span class="variable">div</span> <span class="operator">=</span> document.querySelector(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    console.dir(div);</span><br><span class="line">    <span class="comment">// $(&#x27;div&#x27;)是一个jQuery 对象</span></span><br><span class="line">    $(<span class="string">&#x27;div&#x27;</span>); </span><br><span class="line">    console.dir($(<span class="string">&#x27;div&#x27;</span>));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>控制台输出：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ee21a53f44434e45a518904ab3a98425.png#pic_center" alt="5"></p><blockquote><p>jQuery 对象只能使用 jQuery 属性和方法。例如：</p><p>衔接上述代码：<code>div.style.display=&#39;none&#39;;</code>//是原生js方法，DOM对象可调用</p><p>但：$(‘div’).style.display=’none’;//这句代码就是错的，jQuery 对象只能使用jQuery 封装的方法。</p><p>所以，jQuery 只是对js常用属性和方法进行了封装。<br>DOM使用原生js方法和属性，jQuery 使用jQuery 属性和方法。</p></blockquote><h3 id="jQuery-对象和DOM对象相互转换"><a href="#jQuery-对象和DOM对象相互转换" class="headerlink" title="jQuery 对象和DOM对象相互转换"></a>jQuery 对象和DOM对象相互转换</h3><p>jQuery 转化为DOM(两种方法，index是索引号)：</p><ol><li>$(‘div’)[index]</li><li>$(‘div’).get(index)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="type">var</span> <span class="variable">div</span> <span class="operator">=</span> document.querySelector(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>].hide()</span><br><span class="line">    $(<span class="string">&#x27;div&#x27;</span>).get(<span class="number">0</span>).hide()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>DOM转化为<em>jQuery</em>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接获取元素即可</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>);</span><br></pre></td></tr></table></figure><hr><h2 id="jQuery常用API"><a href="#jQuery常用API" class="headerlink" title="jQuery常用API"></a>jQuery常用API</h2><h3 id="jQuery选择器"><a href="#jQuery选择器" class="headerlink" title="jQuery选择器"></a>jQuery选择器</h3><ol><li>jQuery 基础选择器</li></ol><p>原生 JS 获取元素方式很多，很杂，而且兼容性情况不一致，因此 jQuery 给我们做了封装，使获取元素统一标准。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(“选择器”) <span class="comment">//里面选择器直接写 CSS 选择器即可，但是要加引号</span></span><br></pre></td></tr></table></figure><p>获取方式与原生js无异：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8ac7e1dc9a96449aa19061ba3a575b6a.png#pic_center" alt="6"></p><ol><li>jQuery 层级选择器</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0b7508b3160842cc9f83ec290b732587.png#pic_center" alt="7"></p><p>jQuery设置样式的方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>).css(<span class="string">&#x27;属性&#x27;</span>, <span class="string">&#x27;值&#x27;</span>)</span><br></pre></td></tr></table></figure><p>for instance：(Set the color for all the LI under UL)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;ul li&quot;</span>).css(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;red&quot;</span>);</span><br></pre></td></tr></table></figure><p>隐式迭代：遍历内部 DOM 元素（伪数组形式存储）的过程。</p><p>例如：给UL里的很多LI都设置成红色字体</p><p>直接$(“ul li”).css(“color”, “red”);//隐式迭代自动遍历每一个LI。</p><ol><li>jQuery 筛选选择器</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2132dbd722a4404c926dd7a3ff0e20a4.png#pic_center" alt="8"></p><p>for instance：(Get the first LI under UL)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;ul li:first&quot;</span>).css(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;red&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>jQuery 筛选方法</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c2eaa6160e404e0c9b94db8348a2f7e1.png#pic_center" alt="9"></p><p>重点记住：</p><p><code>parent()//找亲爸</code> </p><p><code>children()//找亲儿子</code></p><p><code>find()//找后代</code> </p><p><code>siblings()//找兄弟</code>  </p><p><code>eq()</code></p><hr><h3 id="jQuery-样式操作"><a href="#jQuery-样式操作" class="headerlink" title="jQuery 样式操作"></a>jQuery 样式操作</h3><ol><li>操作CSS方法</li></ol><p>jQuery 可以使用 css 方法来修改简单元素样式。</p><blockquote><ul><li>参数只写属性名，则是返回属性值</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;$(<span class="built_in">this</span>).css(<span class="string">&#x27;&#x27;</span>color<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>参数是<strong>属性名，属性值，逗号分隔</strong>，是设置一组样式，属性必须加引号，值如果是数字可以不用跟单位和引号</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;$(<span class="built_in">this</span>).css(<span class="string">&#x27;&#x27;</span>color<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>red<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>参数可以是对象形式，方便设置多组样式。属性名和属性值用冒号隔开， 属性可以不用加引号(对象写法，可以不带引号)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;$(<span class="built_in">this</span>).css(&#123;</span><br><span class="line">   <span class="string">&quot;width&quot;</span>: <span class="string">&quot;400px&quot;</span>,</span><br><span class="line">   height: <span class="number">400</span>,</span><br><span class="line">   <span class="string">&quot;color&quot;</span>:<span class="string">&quot;white&quot;</span>,</span><br><span class="line">   <span class="string">&quot;font-size&quot;</span>:<span class="string">&quot;20px&quot;</span></span><br><span class="line">&gt;&#125;);</span><br></pre></td></tr></table></figure></blockquote><ol><li>设置类样式方法</li></ol><p>作用等同于以前的 classList，可以操作类样式， 注意操作类里面的参数不要加点。</p><blockquote><ul><li>添加类</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(“div”).addClass(<span class="string">&#x27;&#x27;</span>example<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>移除类</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(“div”).removeClass(<span class="string">&#x27;&#x27;</span>example<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>切换类</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(“div”).toggleClass(<span class="string">&#x27;&#x27;</span>example<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>==Attention:类操作与className区别==</p><p>原生 JS 中 className 会覆盖元素原先里面的类名。<br>jQuery 里面类操作只是对指定类进行操作，不影响原先的类名。</p></blockquote><hr><h3 id="jQuery-效果"><a href="#jQuery-效果" class="headerlink" title="jQuery 效果"></a>jQuery 效果</h3><p>可在API文档中查询具体用法：<a href="https://jquery.cuishifeng.cn/">https://jquery.cuishifeng.cn/</a></p><p>jQuery 封装了很多动画效果，例如：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/66e1b47c7fa0434fa5b968f6aa82c8fc.png#pic_center" alt="9"></p><h4 id="1-显示隐藏效果"><a href="#1-显示隐藏效果" class="headerlink" title="1.显示隐藏效果"></a>1.显示隐藏效果</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>显示</span><br><span class="line"><span class="comment">//（1）speed:字符串(“slow”,“normal”, or “fast”)或表示动画时长的毫秒数值(如：1000)。</span></span><br><span class="line"><span class="comment">//（2）easing:(Optional)用来指定切换效果，默认是“swing”，可用参数“linear”。</span></span><br><span class="line"><span class="comment">//（3）fn:回调函数，在动画完成时执行的函数，每个元素执行一次。</span></span><br><span class="line">show([speed,[easing],[fn]]);<span class="comment">//中括号表示可以省略此参数，无动画直接显示</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>隐藏</span><br><span class="line"><span class="comment">//（1）speed:字符串(“slow”,“normal”, or “fast”)或表示动画时长的毫秒数值(如：1000)。</span></span><br><span class="line"><span class="comment">//（2）easing:(Optional) 用来指定切换效果，默认是“swing”，可用参数“linear”。</span></span><br><span class="line"><span class="comment">//（3）fn:回调函数，在动画完成时执行的函数，每个元素执行一次</span></span><br><span class="line">hide([speed,[easing],[fn]]);<span class="comment">//中括号表示可以省略此参数，无动画直接显示</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>切换显示和隐藏</span><br><span class="line">toggle([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5ef40760677b4016983d09775e6b0279.gif#pic_center" alt="10"></p><h4 id="2-滑动效果"><a href="#2-滑动效果" class="headerlink" title="2.滑动效果"></a>2.滑动效果</h4><p>参数意思与显示隐藏参数一致</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>下滑</span><br><span class="line"><span class="title function_">slideDown</span>([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>上滑</span><br><span class="line"><span class="title function_">slideUp</span>([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>滑动切换</span><br><span class="line"><span class="title function_">slideToggle</span>([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><p>==<strong>事件切换</strong>==</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//（1）over:鼠标移到元素上要触发的函数（相当于mouseenter）</span></span><br><span class="line"><span class="comment">//（2）out:鼠标移出元素要触发的函数（相当于mouseleave）</span></span><br><span class="line"><span class="comment">//（3）如果只写一个函数，则鼠标经过和离开都会触发它</span></span><br><span class="line">hover([over,]out);</span><br></pre></td></tr></table></figure><p>for instance:(The drop-down menu of the navigation bar).</p><p>实现效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c266c4784fda44c6bd928cb522e7b391.gif#pic_center" alt="11"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style-type</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-left</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-right</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#FFF5DA</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>导航一<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>导航二<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>导航三<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>导航四<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            ......</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jQuery部分有多种写法：</p><blockquote><ol><li>上滑和下滑分别用鼠标离开和经过来实现</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//鼠标经过，下滑</span></span><br><span class="line">$(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">mouseover</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">slideDown</span>(<span class="number">200</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//鼠标离开，上滑</span></span><br><span class="line">$(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">mouseout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">slideUp</span>(<span class="number">200</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol><li>用上面说的事件切换来写</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//事件切换 hover 就是鼠标经过和离开的复合写法，两个函数对应经过和离开。</span></span><br><span class="line">$(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">slideDown</span>(<span class="number">200</span>);</span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">slideUp</span>(<span class="number">200</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>简化事件切换写法：只写一个函数，鼠标经过和鼠标离开都会触发这个函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">slideToggle</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></blockquote><p>上述写法的bug：快速经过离开，导航动画等一个结束，另一个才开始</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/054202732575445999153f2cc7800490.gif#pic_center" alt="12"></p><p>待解决：动画队列（动画或者效果一旦触发就会执行，如果多次触发，就造成多个动画或者效果排队执行。）</p><p>解决方法：<strong>停止排队</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//(1)stop()方法用于停止动画或效果。</span></span><br><span class="line"><span class="comment">//(2)注意:stop()写到动画或者效果的前面，相当于停止结束上一次的动画。只执行最新的一次。</span></span><br><span class="line"><span class="title function_">stop</span>();</span><br></pre></td></tr></table></figure><p>完整代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// stop 方法必须写到动画的前面，结束上一次的动画</span></span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">stop</span>().<span class="title function_">slideToggle</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="3-淡入淡出效果"><a href="#3-淡入淡出效果" class="headerlink" title="3.淡入淡出效果"></a>3.淡入淡出效果</h4><p>就是透明度从0增加到1的变化。</p><p>//参数与上述一致</p><p>（1）speed：字符串(“slow”,“normal”, or “fast”)或表示动画时长的毫秒数值(如：1000)。<br>（2）easing：(Optional) 用来指定切换效果，默认是“swing”，可用参数“linear”。<br>（3）fn:  回调函数，在动画完成时执行的函数，每个元素执行一次。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>淡入</span><br><span class="line">fadeIn([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>淡出</span><br><span class="line">fadeOut([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>淡入淡出切换</span><br><span class="line">fadeToggle([speed,[easing],[fn]];</span><br></pre></td></tr></table></figure><p><strong>渐进方式调整到指定的不透明度</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//opacity 透明度，取值0~1</span></span><br><span class="line">fadeTo([[speed],opacity,[easing],[fn]];</span><br></pre></td></tr></table></figure><h4 id="4-自定义动画-animate"><a href="#4-自定义动画-animate" class="headerlink" title="4.自定义动画 animate"></a>4.自定义动画 animate</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//params: 想要更改的样式属性，以对象形式传递。属性名可以不用带引号，如果是复合属性则需要采</span></span><br><span class="line">取驼峰命名法 borderLeft。其余参数都可以省略。</span><br><span class="line">animate(params,[speed],[easing],[fn];</span><br></pre></td></tr></table></figure><h3 id="jQuery-属性操作"><a href="#jQuery-属性操作" class="headerlink" title="jQuery 属性操作"></a>jQuery 属性操作</h3><h4 id="设置或获取元素固有属性值"><a href="#设置或获取元素固有属性值" class="headerlink" title="设置或获取元素固有属性值"></a>设置或获取元素固有属性值</h4><p>元素固有属性就是元素本身自带的属性，比如 <code>a</code> 元素里面的 href ，比如 <code>input</code> 元素里面的 type。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>获取</span><br><span class="line">prop(<span class="string">&#x27;属性&#x27;</span>);</span><br><span class="line"><span class="number">2.</span>设置</span><br><span class="line">prop(<span class="string">&#x27;属性&#x27;</span>, <span class="string">&#x27;属性值&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="设置或获取元素自定义属性值"><a href="#设置或获取元素自定义属性值" class="headerlink" title="设置或获取元素自定义属性值"></a>设置或获取元素自定义属性值</h4><p>用户自己给元素添加的属性，我们称为自定义属性。 比如给 div 添加 index =“1”。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>获取</span><br><span class="line">attr(<span class="string">&#x27;属性&#x27;</span>);  <span class="comment">// 类似原生 getAttribute()</span></span><br><span class="line"><span class="number">2.</span>设置</span><br><span class="line">attr(<span class="string">&#x27;属性&#x27;</span>, <span class="string">&#x27;属性值&#x27;</span>);   <span class="comment">// 类似原生 setAttribute()</span></span><br></pre></td></tr></table></figure><p><strong>数据缓存data()</strong></p><p>data() 方法可以在指定的元素上存取数据，并不会修改 DOM 元素结构。本质上是存放在元素缓存中，一旦页面刷新，之前存放的数据都将被移除。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>存入数据</span><br><span class="line">data(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;value&#x27;</span>);   <span class="comment">// 向被选元素附加数据</span></span><br><span class="line"><span class="comment">//例如：$(&#x27;span&#x27;).data(&#x27;uname&#x27;,&#x27;roydon&#x27;);</span></span><br><span class="line"><span class="number">2.</span>获取数据</span><br><span class="line">date(<span class="string">&#x27;name&#x27;</span>);  <span class="comment">//得到数字型数据，获取H5自定义属性data-index时，直接写index即可</span></span><br></pre></td></tr></table></figure><hr><h3 id="jQuery-内容文本值"><a href="#jQuery-内容文本值" class="headerlink" title="jQuery 内容文本值"></a>jQuery 内容文本值</h3><p>主要针对元素的内容还有表单的值操作。</p><ol><li>普通元素内容 html()（ 相当于原生innerHTML)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>获取元素内容</span><br><span class="line">html()</span><br><span class="line"><span class="number">2.</span>设置元素内容</span><br><span class="line">html(<span class="string">&quot;内容&quot;</span>)</span><br></pre></td></tr></table></figure><ol><li>普通元素文本内容 text()   (相当与原生 innerText)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>获取</span><br><span class="line">text()</span><br><span class="line"><span class="number">2.</span>设置</span><br><span class="line">text(<span class="string">&quot;文本内容&quot;</span>)</span><br></pre></td></tr></table></figure><ol><li>表单的值 val()（ 相当于原生value)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>获取</span><br><span class="line">val()</span><br><span class="line"><span class="number">2.</span>设置</span><br><span class="line">val(<span class="string">&quot;内容&quot;</span>)</span><br></pre></td></tr></table></figure><p>保留两位小数：<code>toFixed(2);</code></p><hr><h3 id="jQuery-元素操作"><a href="#jQuery-元素操作" class="headerlink" title="jQuery 元素操作"></a>jQuery 元素操作</h3><h4 id="遍历元素"><a href="#遍历元素" class="headerlink" title="遍历元素"></a>遍历元素</h4><p>jQuery 隐式迭代只能对同一类元素进行相同操作。</p><p>遍历元素可以做到给每个元素添加不同操作。</p><p><strong>语法1：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index 元素索引号</span></span><br><span class="line"><span class="comment">//domEle 是每个DOM元素对象（非jquery对象）；所以要想使用jquery方法，需要将这个dom元素转换为jquery对象 $(domEle)</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">index, domEle</span>) &#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>例如：统计三个div内容的和</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> sum = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">index, domEle</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(domEle);</span></span><br><span class="line"><span class="language-javascript">                sum += <span class="built_in">parseInt</span>($(domEle).<span class="title function_">text</span>());</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>结果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a6bfc2c5cf2e431e88bcd47168c1a421.png#pic_center" alt="在这里插入图片描述"></p><p><strong>语法2：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$.each()方法可用于遍历任何对象。主要用于数据处理，比如数组，对象</span></span><br><span class="line"><span class="comment">//index 元素索引号;element 遍历内容(元素)</span></span><br><span class="line">$.<span class="title function_">each</span>(object，<span class="keyword">function</span> (<span class="params">index, element</span>) &#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>例如：遍历对象 {name: “roydon”,age: 20}</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;roydon&quot;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;;</span><br><span class="line">    $.<span class="title function_">each</span>(user, <span class="keyword">function</span> (<span class="params">i, ele</span>) &#123;</span><br><span class="line">    <span class="comment">//i 为属性名；ele 为属性值。遍历数组时i 为下标；ele 为值</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i + <span class="string">&quot; : &quot;</span> + ele);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/caa4ecf22f08403f93978f4cea101c6a.png#pic_center" alt="在这里插入图片描述"></p><hr><h4 id="创建元素"><a href="#创建元素" class="headerlink" title="创建元素"></a>创建元素</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;&lt;li&gt;&lt;/li&gt;&quot;</span>); </span><br></pre></td></tr></table></figure><p>此时只是创建了，并没有添加到页面元素中</p><hr><h4 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>内部添加（添加过后与原元素程父子关系</span><br><span class="line">element.<span class="title function_">append</span>(<span class="string">&#x27;&#x27;</span>内容<span class="string">&#x27;&#x27;</span>);<span class="comment">//把内容放入匹配元素内部最后面，类似原生 appendChild。</span></span><br><span class="line">element.<span class="title function_">prepend</span>(<span class="string">&#x27;&#x27;</span>内容<span class="string">&#x27;&#x27;</span>);<span class="comment">//把内容放入匹配元素内部最前面。</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>外部添加（添加过后与原元素程兄弟关系</span><br><span class="line">element.<span class="title function_">after</span>(<span class="string">&#x27;&#x27;</span>内容<span class="string">&#x27;&#x27;</span>);<span class="comment">//把内容放入目标元素后面</span></span><br><span class="line">element.<span class="title function_">before</span>(<span class="string">&#x27;&#x27;</span>内容<span class="string">&#x27;&#x27;</span>);<span class="comment">//把内容放入目标元素前面</span></span><br></pre></td></tr></table></figure><hr><h4 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">remove</span>();<span class="comment">//删除匹配的元素（本身）</span></span><br><span class="line">element.<span class="title function_">empty</span>();<span class="comment">//删除匹配的元素集合中所有的子节点</span></span><br><span class="line">element.<span class="title function_">html</span>(<span class="string">&#x27;&#x27;</span>);<span class="comment">//清空匹配的元素内容，也可设置内容</span></span><br></pre></td></tr></table></figure><p>例如：元素如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1.$(“ul”).remove();  结果：ul连同li全部被删除</p><p>2.$(“ul”).empty();  结果：清空ul里所有的li；.html(‘’’’);与其类似</p><hr><h3 id="jQuery-尺寸、位置操作"><a href="#jQuery-尺寸、位置操作" class="headerlink" title="jQuery 尺寸、位置操作"></a>jQuery 尺寸、位置操作</h3><h4 id="jQuery-尺寸"><a href="#jQuery-尺寸" class="headerlink" title="jQuery 尺寸"></a>jQuery 尺寸</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/453bb3f16ce24d11a5c73f2bf394ea34.png#pic_center" alt="15"></p><p>参数为空时是取值，参数不为空是设置宽高；</p><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;div&quot;</span>).width();<span class="comment">//获取div宽度</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).width(<span class="number">300</span>);<span class="comment">//设置宽300</span></span><br></pre></td></tr></table></figure><h4 id="jQuery-位置"><a href="#jQuery-位置" class="headerlink" title="jQuery 位置"></a>jQuery 位置</h4><p>位置主要有三个： offset()、position()、scrollTop()/scrollLeft()</p><p>1.offset() 设置或获取元素偏移</p><ul><li>offset() 相对于文档的偏移坐标，跟父级没有关系。</li><li>该方法有2个属性 left、top 。offset().top  获取距离文档顶部的距离，offset().left 获取距离文档左侧的距离。</li><li>可以设置元素的偏移：offset({ top: 50, left: 50 });</li></ul><p>2.position() 获取元素偏移</p><ul><li>position() 返回被选元素相对于带有定位的父级偏移坐标，如果父级都没有定位，则以文档为准。</li><li>该方法有2个属性 left、top。position().top 获取距离定位父级顶部的距离，position().left 获取距离定位父级左侧的距离。</li><li>该方法只能获取。</li></ul><p>3.scrollTop()/scrollLeft() 设置或获取元素被卷去的头部和左侧</p><ul><li><p>类似于一个小盒子放大图片，图片会显示不全，不全的部分就是scrollTop()/scrollLeft()</p></li><li><p>加参数表示设置</p></li></ul><hr><h2 id="jQuery-事件"><a href="#jQuery-事件" class="headerlink" title="jQuery 事件"></a>jQuery 事件</h2><hr><h3 id="jQuery-事件注册"><a href="#jQuery-事件注册" class="headerlink" title="jQuery 事件注册"></a>jQuery 事件注册</h3><p>事件和原生基本一致。</p><p>比如mouseover、mouseout、blur、focus、change、keydown、keyup、resize、scroll(页面滚动) 等</p><p><strong>语法：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.事件(<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">例如：</span><br><span class="line">$(“div”).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//事件处理程序</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h3 id="jQuery-事件处理"><a href="#jQuery-事件处理" class="headerlink" title="jQuery 事件处理"></a>jQuery 事件处理</h3><p>1.事件处理 <strong>on()</strong> 绑定事件在匹配元素上绑定<strong>一个或多个事件</strong>的事件处理函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. events: 一个或多个用空格分隔的事件类型，如&quot;click&quot;或&quot;mouseover&quot; 。</span></span><br><span class="line"><span class="comment">//2. selector: 元素的子元素选择器。</span></span><br><span class="line"><span class="comment">//3. fn:回调函数 即绑定在元素身上的侦听函数。</span></span><br><span class="line">element.<span class="title function_">on</span>(events,[selector],fn);</span><br></pre></td></tr></table></figure><p>🔸当on()绑定多个事件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(“div”).<span class="title function_">on</span>(&#123;</span><br><span class="line">    <span class="attr">mouseover</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;, <span class="comment">//事件1</span></span><br><span class="line">    <span class="attr">mouseout</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;,  <span class="comment">//事件2</span></span><br><span class="line">    <span class="attr">click</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;      <span class="comment">//事件3</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//若mouseover事件和mouseout事件响应程序相同，则空格隔开写一起</span></span><br><span class="line"><span class="comment">//$(“div”).on(“mouseover mouseout”, function() &#123;</span></span><br><span class="line"><span class="comment">//    ......</span></span><br><span class="line"><span class="comment">//&#125;);</span></span><br></pre></td></tr></table></figure><p>🔸事件委派：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//li的处理事件委派给父ul，里面每个li都有了click</span></span><br><span class="line">$(<span class="string">&#x27;ul&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;li&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;hello world!&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>注意：事件委派现在大多采用⬆️这种写法：<br>优势在于当动态创建元素时，可以动态自动为其绑定事件</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例如：ol里添加li并动态绑定事件</span><br><span class="line">$(<span class="string">&quot;ol&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;li&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;hello world!&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> li = $(<span class="string">&quot;&lt;li&gt;后来创建的li&lt;/li&gt;&quot;</span>);</span><br><span class="line">$(<span class="string">&quot;ol&quot;</span>).<span class="title function_">append</span>(li);</span><br></pre></td></tr></table></figure><p>2.事件处理 <strong>off()</strong> 解绑事件可以移除通过 on() 方法添加的事件处理程序。</p><p>当只想让事件触发一次，就会用到解绑事件。（也可以把绑定事件的on()改为one()表示事件只触发一次）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).<span class="title function_">off</span>(); <span class="comment">// 解绑p元素所有事件处理程序</span></span><br><span class="line">$(<span class="string">&quot;p&quot;</span>).<span class="title function_">off</span>( <span class="string">&quot;click&quot;</span>);  <span class="comment">// 解绑p元素上面的点击事件</span></span><br><span class="line">$(<span class="string">&quot;ul&quot;</span>).<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;li&quot;</span>);  <span class="comment">// 解绑事件委托</span></span><br></pre></td></tr></table></figure><p>3.自动触发事件 <strong>trigger()</strong> </p><p>有些事件希望自动触发, 比如轮播图自动播放功能跟点击右侧按钮一致。可以利用定时器自动触发右侧按钮点击事件，不必鼠标点击触发。</p><p>例如，div自动触发点击事件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;div&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>,<span class="string">&quot;red&quot;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 自动触发点击事件</span></span><br><span class="line">    <span class="comment">// 方法一： 元素.事件()</span></span><br><span class="line">    <span class="comment">// $(&quot;div&quot;).click();会触发元素的默认行为</span></span><br><span class="line">    <span class="comment">// 方法二： 元素.trigger(&quot;事件&quot;)</span></span><br><span class="line">    <span class="comment">// $(&quot;div&quot;).trigger(&quot;click&quot;);会触发元素的默认行为</span></span><br><span class="line">    <span class="comment">// 方法三： 元素.triggerHandler(&quot;事件&quot;) 就是不会触发元素的默认行为</span></span><br><span class="line">    $(<span class="string">&quot;div&quot;</span>).<span class="title function_">triggerHandler</span>(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h3 id="jQuery-事件对象"><a href="#jQuery-事件对象" class="headerlink" title="jQuery 事件对象"></a>jQuery 事件对象</h3><p>事件被触发，就会有事件对象event的产生。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">on</span>(events,[selector],<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="comment">//阻止默认行为：event.preventDefault()  或者 return false;</span></span><br><span class="line">    <span class="comment">//阻止冒泡： event.stopPropagation()</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h2 id="jQuery-其它方法"><a href="#jQuery-其它方法" class="headerlink" title="jQuery 其它方法"></a>jQuery 其它方法</h2>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript</title>
      <link href="/posts/JavaScript.html"/>
      <url>/posts/JavaScript.html</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h2 id="基础认识"><a href="#基础认识" class="headerlink" title="基础认识"></a>基础认识</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d33a5381b9734f34a3fac3cb24724228.png#pic_center" alt="1"><br>弹出提示对话框：alert(“弹出对话框”)</p><p>解释型语言，一行一行解释。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&quot;弹出对话框&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/210f70efa3b2460cad32060bd87555ae.png#pic_center" alt="在这里插入图片描述"></p><p>认识js</p><p>发明人：布兰登·艾奇(Brendan Eich，1961年~)</p><blockquote><p>1995年利用十天完成JS设计<br>网景公司最初命名为LiveScript，后来与Sun合作改名JavaScript</p></blockquote><p>运行在客户端浏览器上。</p><p>js的作用：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9c27c1a23c774f7f94eac5c2469ac6cf.png#pic_center" alt="在这里插入图片描述"></p><p>js的组成：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ff3083711b6741b1acb0acd007f05c87.png#pic_center" alt="在这里插入图片描述"></p><p>注释：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d001b5db17a649bf94d0ff1c656af56b.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cb36371839f249069cce48b304194794.png#pic_center" alt="在这里插入图片描述"></p><p>js的输入输出：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c204ff86816c426a9159d55be1e8266b.png#pic_center" alt="在这里插入图片描述"></p><p><code>prompt取值是字符型的</code></p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var age;//声明一个名称为age的变量，赋值var age=18;</span><br></pre></td></tr></table></figure><p>只声明不赋值值为<code>undefined</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5bc6c109bade492abab7411af244d848.png#pic_center" alt="在这里插入图片描述"></p><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>数据类型可变</p><p>简单（基本）数据类型<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bdde58dd0a7446088432ba657f397b66.png#pic_center" alt="在这里插入图片描述">判断变量是否为数字型的方法:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a57ebedbba48458a8b9cfd672abaaf43.png#pic_center" alt="在这里插入图片描述"></p><p>获取字符串String长度</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.length</span><br></pre></td></tr></table></figure><p>转义符<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0029af44e3264b68a861326c602e80bc.png#pic_center" alt="在这里插入图片描述"></p><p><strong>undefined和null</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/87e803920e8444399ca6dd24f605d513.png#pic_center" alt="在这里插入图片描述"></p><p>判断变量类型<code>typeof 变量名</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> str = <span class="string">&#x27;roydon&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="keyword">typeof</span> str)<span class="comment">//string</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/32bb26f379af423898301967dced0856.png#pic_center" alt="在这里插入图片描述"><br>这里的null类型为object，现在不考虑，后面会讲。</p><p><strong>数据类型转换</strong></p><p>1.转换成string</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/81834a155e74423796b4cab851101a66.png#pic_center" alt="在这里插入图片描述"></p><p>2.转换成数字型number</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/31d3c177b1db47ab8154ad8fffddac29.png#pic_center" alt="在这里插入图片描述"></p><p>隐式转换</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/14c9fb219c86450eb5443492c784bfbd.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p><code>NaN</code>：not a number不是一个数字</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8287b108163144f29f17f1f6f983c2e6.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p>3.转换成布尔型boolean</p><blockquote><p>Boolean函数。例如：Boolean(‘true’);<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f6232cc8e4df4c7abcedef30a674183f.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/91929a33c9ea489e8af012794f6ad39c.png#pic_center" alt="在这里插入图片描述"></p><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = new Array(2，3，4);//==&gt;arr[2,3,4]，若参数为一个，表示数组长度，元素为空</span><br></pre></td></tr></table></figure><p>或者，利用字面量创建数组</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&#x27;小明&#x27;,&#x27;小红&#x27;,&#x27;小强&#x27;];</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0ab05ca42a304b9da54c996c5267bd3e.png#pic_center" alt="在这里插入图片描述"></p><p>数组遍历：length拿数组长度</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9d982e31da724cc185cb77ca75bc4fa9.png#pic_center" alt="在这里插入图片描述"></p><p>数组排序：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f0102ec025a4478fb5a9e45f4a260808.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/827096c875a749e5b714d4e084fa424c.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>上图数组排序得到的结果：<br>1.arr [ ‘blue’, ‘red’, ‘pink’ ] ;<br>2.arr1 [1,4, 7, 13 ,77];<br>==<code>sort()</code>函数默认只对一位数的数字排序生效，若要排序多位数数字，需要添加function方法。==<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">解析链接：Array.prototype.sort()</a><br>默认sort()排序结果：（位数大于一的数字出现结果不正确)<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6915b97bdb374ce89be687f58267dc86.png" alt="在这里插入图片描述"></p></blockquote><p>检测是否为数组：<code>instanceof</code>和<code>Array.isArray()</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9b63893d4c5f44f8b1e68a519ebd7c5b.png#pic_center" alt="在这里插入图片描述"></p><p>数组操作：添加或删除</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/025c457ba1fd427a9977a7cd0cf6eeea.png#pic_center" alt="在这里插入图片描述"></p><p>1.添加</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/52eec5b0ef8842988b3d42a21ba4d5e1.png#pic_center" alt="在这里插入图片描述">push();<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7e2c8822fdaa4301a5d0477221bb55e6.png" alt="在这里插入图片描述"></p><p>2.删除</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6ce4198e82d54b7e8c97d29d8f19e84c.png#pic_center" alt="在这里插入图片描述"></p><p>数组索引方法：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1da53cdb46634c1f9abb4818bbcf4e04.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ccaf995b15c54aa5a5b9e52d8a2dda38.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/28f01a5149eb4740b7c9602b8cca0945.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2971f2c905384c0f96e09d965b299ba9.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d680ad61b5664f1b91e7b992eed98d65.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7be2aea4829844f9931199423d62d39d.png#pic_center" alt="在这里插入图片描述"></p><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>声明和调用：<code>function</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0b781822894e48978123b88302496371.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>第一行<strong>function getSum</strong>后面括号中的<strong>num1</strong>和<strong>num2</strong>是形参。<br>最后两行调用传入的两个参数叫实参。</p></blockquote><p>两种声明方式：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/414cadb2ed01447ba0c9a3f1eba9b96e.png#pic_center" alt="在这里插入图片描述"></p><p>return：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/43f034b229ac4ad1b79dc550628fd4f0.png#pic_center" alt="在这里插入图片描述"></p><p>arguments</p><p>内置对象，存储传递来的所有实参，保存的形式是数组（伪数组）</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8b086e40125c4f348ef6c6158e961270.png#pic_center" alt="在这里插入图片描述"></p><p>作用域：</p><p>全局和局部</p><p>就近</p><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>对象的创建3法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//创建对象的3种方法</span></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//var person=&#123;&#125; //创建了一个空对象</span></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//方法1=============</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> person = &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">pname</span>: <span class="string">&#x27;roydon&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">gender</span>: <span class="string">&#x27;man&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">getAge</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">//方法</span></span></span><br><span class="line"><span class="language-javascript">               <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span></span><br><span class="line"><span class="language-javascript">           &#125;</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//获取属性的两种方法</span></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//1.</span></span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">pname</span>);</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//2.</span></span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&#x27;age&#x27;</span>]);</span></span><br><span class="line"><span class="language-javascript">       person.<span class="title function_">getAge</span>();<span class="comment">//既然是方法，就要带()</span></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//方法2=============</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="title class_">Object</span>();</span></span><br><span class="line"><span class="language-javascript">       person1.<span class="property">pname</span> = <span class="string">&#x27;yicheng&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">       person1.<span class="property">age</span> = <span class="number">19</span>;</span></span><br><span class="line"><span class="language-javascript">       person1.<span class="property">gender</span> = <span class="string">&#x27;man&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">       person1.<span class="property">getAge</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//获取属性两种方法同上</span></span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(person1);</span></span><br><span class="line"><span class="language-javascript">       person1.<span class="title function_">getAge</span>();</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">//方法3==============构造函数法,首字母大写</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">Person3</span>(<span class="params">pname, age</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">this</span>.<span class="property">pname</span> = pname;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">this</span>.<span class="property">age</span> = age;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">this</span>.<span class="property">getAge</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span></span><br><span class="line"><span class="language-javascript">           &#125;</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> person3 = <span class="keyword">new</span> <span class="title class_">Person3</span>(<span class="string">&#x27;jack&#x27;</span>,<span class="number">20</span>);</span></span><br><span class="line"><span class="language-javascript">       person3.<span class="title function_">getAge</span>();</span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>遍历forin：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//遍历</span><br><span class="line">for (const key in person3) &#123;</span><br><span class="line">if (Object.hasOwnProperty.call(person3, key)) &#123;</span><br><span class="line">const name = key;//属性名</span><br><span class="line">        console.log(name);</span><br><span class="line">        const element = person3[key];//值</span><br><span class="line">        console.log(element);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/435b1e89d7b24328a648779092f62b04.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8c1a634e63764b14b7fa829a521395b3.png#pic_center" alt="在这里插入图片描述"></p><p>日期Date对象：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fc9b822aa2e84b80b41b13c38d38af32.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5d89f7470a344763a664790c03d62333.png#pic_center" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/54e4c08aff084f6986e28e6705ea98cf.png#pic_center" alt="在这里插入图片描述"></p><p>获取时间戳：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9492127b916d4b149e5a5335bbe01308.png#pic_center" alt="在这里插入图片描述">为啥时是从1970年开始，自行百度。</p><p>时间戳转换成时分秒：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bb14e26d3e1349a39c52306a7f9005f3.png#pic_center" alt="在这里插入图片描述"></p><p>倒计时案例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// 定义一个函数参数为倒计时结束时间</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">countDown</span>(<span class="params">time</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> nowTime = +<span class="keyword">new</span> <span class="title class_">Date</span>();<span class="comment">//当前时间戳（毫秒数</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> inputTime = +<span class="keyword">new</span> <span class="title class_">Date</span>(time);<span class="comment">//输入时间的时间戳</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> times = (inputTime - nowTime) / <span class="number">1000</span>;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> d = <span class="built_in">parseInt</span>(times / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>);<span class="comment">//天</span></span></span><br><span class="line"><span class="language-javascript">           d = d &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + d : d;<span class="comment">//个位数转成01，02，03形式</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> h = <span class="built_in">parseInt</span>(times / <span class="number">60</span> / <span class="number">60</span> % <span class="number">24</span>);<span class="comment">//时</span></span></span><br><span class="line"><span class="language-javascript">           h = h &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + h : h;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> m = <span class="built_in">parseInt</span>(times / <span class="number">60</span> % <span class="number">60</span>);<span class="comment">//分</span></span></span><br><span class="line"><span class="language-javascript">           m = m &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + m : m;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> s = <span class="built_in">parseInt</span>(times % <span class="number">60</span>);<span class="comment">//秒</span></span></span><br><span class="line"><span class="language-javascript">           s = s &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + s : s;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">return</span> d + <span class="string">&#x27;天&#x27;</span> + h + <span class="string">&#x27;时&#x27;</span> + m + <span class="string">&#x27;分&#x27;</span> + s + <span class="string">&#x27;秒&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">countDown</span>(<span class="string">&#x27;2022-7-8 20:00:00&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(date);</span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下面是模拟：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bfa7d32024c245a9809fe96328717f00.gif#pic_center" alt="在这里插入图片描述"></p><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>字符串基本操作</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f7cb7f572da44a5fa0223da8db82817a.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fc8f3e5685a64322a4b2748644d5de2c.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/041a2f74361e4c46ad028372a5097dc0.png#pic_center" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fba820bfcd2f4ab1937d924e732d8939.png#pic_center" alt="在这里插入图片描述"></p><h1 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h1><p>应用程序编程接口</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6e4a6bded0be43ca9f0972714743411a.png#pic_center" alt="在这里插入图片描述"></p><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/799f22aa23434e3b90e558d075514b3c.png#pic_center" alt="在这里插入图片描述"></p><p>dom树：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8205ade485154ab890558a32b2c53728.png#pic_center" alt="在这里插入图片描述"></p><p>每一个元素可以看作一个对象</p><h3 id="获取页面元素"><a href="#获取页面元素" class="headerlink" title="获取页面元素"></a>获取页面元素</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9ed6688b80f7423080175e6166d11abb.png#pic_center" alt="在这里插入图片描述"></p><ol><li>根据ID获取（返回的是一个匹配到ID的DOM Element对象）</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById();</span><br></pre></td></tr></table></figure><p>可以使用<code>console.dir();</code>查看</p><ol><li>通过标签名获取（返回的是一个指定标签的集合）</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.getElementByTagName();</span><br></pre></td></tr></table></figure><ol><li>通过类名获取<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0be550ae3a2a4fae8a0e4ed7870ef415.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/40b440fd41b94dd58d6b58c273371e6d.png#pic_center" alt="在这里插入图片描述"></li></ol><h3 id="事件基础"><a href="#事件基础" class="headerlink" title="事件基础"></a>事件基础</h3><p>例如，点击一个按钮，弹出对话框</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span></span><br><span class="line">    点我</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>事件分为三部分：事件源、事件类型、事件处理程序。也叫事件三要素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.事件源=事件被触发的对象（按钮）</span></span><br><span class="line"><span class="type">var</span> <span class="variable">btn</span> <span class="operator">=</span> document.getElementById(<span class="string">&#x27;btn&#x27;</span>);</span><br><span class="line"><span class="comment">//2.事件类型=如何触发，例如：点击，鼠标悬停，按键按下</span></span><br><span class="line"><span class="comment">//3.事件处理程序=函数赋值</span></span><br><span class="line">btn.onclick=function()&#123;</span><br><span class="line">alert(<span class="string">&#x27;点了我&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="操作元素"><a href="#操作元素" class="headerlink" title="操作元素"></a>操作元素</h3><ol><li>改变元素内容</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/94c88391714f48e8b6b71c0adc70bada.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ed0bce2fd16e4abab9647b86a969ff49.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8444dd7e2693464ebf6fdeaeee18d069.png#pic_center" alt="在这里插入图片描述"></p><p>同时，亦可获取标签，innerText获取内容（去空格和换行），</p><p>innerHtml获取元素加内容，（保留空格和换行）</p><p><strong>案例：密码框显示，隐藏密码</strong></p><p>html</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/faef02e9627642dabc3a56214b15b8d9.png#pic_center" alt="在这里插入图片描述"></p><p>css<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/55b7d39e6f9d4f92a799f7fef6d0d80f.png#pic_center" alt="在这里插入图片描述"></p><p>js</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bd00e9441a474a009ba09828f67ad01b.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="DOM核心重点"><a href="#DOM核心重点" class="headerlink" title="DOM核心重点"></a>DOM核心重点</h3><p>获取过来的DOM元素是一个对象所以称为<strong>文档对象模型</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9af5b9396ede48e18c845361379484c8.png#pic_center" alt="在这里插入图片描述"><br>DOM操作：<br>&gt;</p><blockquote><ol><li>创建</li></ol><ul><li><code>document.write</code></li><li><code>innerHTML</code></li><li><code>createElement</code></li></ul><ol><li>增</li></ol><ul><li><code>appendChild</code></li><li><code>insertBefore</code></li></ul><ol><li>删</li></ol><ul><li><code>removeChild</code></li></ul><ol><li>改(主要修改DOM元素的属性、内容、表单的值等)</li></ol><ul><li>修改元素属性：src、href、title等</li><li>修改普通元素内容：innerHTML、innerText</li><li>修改元素样式：style、className</li><li>修改表单元素：value、type、disabled等</li></ul><ol><li>查(获取DOM元素)</li></ol><ul><li>DOM提供的API方法：<strong>querySelector()</strong>、<strong>querySelectorAll()</strong>。(H5新方法，推荐)</li><li>利用节点操作获取元素：父(<strong>parentNode</strong>)、子(<strong>children</strong>)、兄弟(<strong>previousElementSibling、nextElementSibling</strong>)。</li></ul><ol><li>属性操作(可自定义属性)</li></ol><ul><li><code>setAttribute()</code>：设置DOM的属性值</li><li><code>getAttribute()</code>：得到DOM的属性值</li><li><code>removeAttribute()</code>移除属性</li></ul><ol><li>事件操作<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2f5299c045da4ff3b70635e19221f390.png" alt="12"></li></ol></blockquote><hr><h3 id="事件高级"><a href="#事件高级" class="headerlink" title="事件高级"></a>事件高级</h3><h4 id="1-注册事件（绑定事件）"><a href="#1-注册事件（绑定事件）" class="headerlink" title="1.注册事件（绑定事件）"></a>1.注册事件（绑定事件）</h4><p>注册事件两种方法：传统方式、方法监听注册方式</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/47dea400b4e34db4ae8d8d7cbcf86dfc.png#pic_center" alt="在这里插入图片描述"><br><code>addEventListener()</code>事件监听方式</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4c7f0e396117441b890d22d22e6eeaf4.png#pic_center" alt="在这里插入图片描述"></p><h4 id="2-删除事件（解绑事件）"><a href="#2-删除事件（解绑事件）" class="headerlink" title="2.删除事件（解绑事件）"></a>2.删除事件（解绑事件）</h4><p>传统解绑方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">divs</span> <span class="operator">=</span> document.querySelectorAll(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    divs[<span class="number">0</span>].onclick = function() &#123;</span><br><span class="line">        alert(<span class="number">11</span>);</span><br><span class="line">        <span class="comment">// 1. 传统方式删除事件</span></span><br><span class="line">        divs[<span class="number">0</span>].onclick = <span class="literal">null</span>;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p>方法监听注册解绑方式：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. removeEventListener 删除事件</span></span><br><span class="line">    divs[<span class="number">1</span>].addEventListener(<span class="string">&#x27;click&#x27;</span>, fn) <span class="comment">// 里面的fn 不需要调用加小括号</span></span><br><span class="line">    function <span class="title function_">fn</span><span class="params">()</span> &#123;</span><br><span class="line">        alert(<span class="number">22</span>);</span><br><span class="line">        divs[<span class="number">1</span>].removeEventListener(<span class="string">&#x27;click&#x27;</span>, fn);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="3-DOM事件流"><a href="#3-DOM事件流" class="headerlink" title="3.DOM事件流"></a>3.DOM事件流</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e4d7c92d2db342108b32962c6665fe45.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3500fa66143341448cc60974b12243e3.png#pic_center" alt="在这里插入图片描述"></p><h4 id="4-事件对象event"><a href="#4-事件对象event" class="headerlink" title="4.事件对象event"></a>4.事件对象event</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件对象</span></span><br><span class="line"><span class="type">var</span> <span class="variable">div</span> <span class="operator">=</span> document.querySelector(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.onclick = function(e) &#123;</span><br><span class="line">     console.log(e);</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">// 1. event 就是一个事件对象 写到我们侦听函数的 小括号里面 当形参来看</span></span><br><span class="line">     <span class="comment">// 2. 事件对象只有有了事件才会存在，它是系统给我们自动创建的，不需要我们传递参数</span></span><br><span class="line">     <span class="comment">// 3. 事件对象 是 我们事件的一系列相关数据的集合 跟事件相关的 比如鼠标点击里面就包含了鼠标的相关信息，鼠标坐标啊，如果是键盘事件里面就包含的键盘事件的信息 比如 判断用户按下了那个键</span></span><br><span class="line">     <span class="comment">// 4. 这个事件对象我们可以自己命名 比如 event 、 evt、 e</span></span><br></pre></td></tr></table></figure><p>常见属性和方法：<br>ie以si，下列方法结合实际记忆</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1307fd551d98435e88a8f16889c6516b.png#pic_center" alt="在这里插入图片描述"></p><h4 id="5-阻止事件冒泡"><a href="#5-阻止事件冒泡" class="headerlink" title="5.阻止事件冒泡"></a>5.阻止事件冒泡</h4><p><code>e.stopPropagation();</code> // stop 停止  Propagation 传播<br>下列代码为例，当点击父盒子中的son盒子时，不阻止事件冒泡，会发生弹出三个提示框(son、father和document)，阻止事件冒泡后，父亲元素不在冒泡弹出框。只弹出son提示框。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 常见事件对象的属性和方法</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 阻止冒泡  dom 推荐的标准 stopPropagation() </span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> son = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.son&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  son.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">     <span class="title function_">alert</span>(<span class="string">&#x27;son&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">     e.<span class="title function_">stopPropagation</span>(); <span class="comment">// stop 停止  Propagation 传播</span></span></span><br><span class="line"><span class="language-javascript">  &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> father = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.father&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  father.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">alert</span>(<span class="string">&#x27;father&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">alert</span>(<span class="string">&#x27;document&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-事件委托"><a href="#6-事件委托" class="headerlink" title="6.事件委托"></a>6.事件委托</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cb4b50b50d3243bcadf209af54bec205.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f71572ab3e0f4f7fa195aca0300ff63a.png#pic_center" alt="在这里插入图片描述"></p><h4 id="7-鼠标事件"><a href="#7-鼠标事件" class="headerlink" title="7.鼠标事件"></a>7.鼠标事件</h4><p>常用：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0ace545427f54d359863f88bf6726aa0.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/01dbfed084224cb8b80bd9943f7e83a8.png#pic_center" alt="在这里插入图片描述"><br><code>e.preventDefault();</code>阻止默认事件；阻止默认右键显示菜单操作；</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b7c347a4844445c28e761883fb04904b.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    // 1. contextmenu 禁用右键菜单</span><br><span class="line">    document.addEventListener(&#x27;contextmenu&#x27;, function(e) &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">    &#125;)</span><br><span class="line">    // 2. 禁止选中文字 selectstart</span><br><span class="line">    document.addEventListener(&#x27;selectstart&#x27;, function(e) &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">     &#125;)</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>鼠标事件对象</strong>：<br>MouseEvent   —&gt;   clientX、pageX、screenX</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 鼠标事件对象 MouseEvent</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1. client 鼠标在可视区的x和y坐标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">clientX</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">clientY</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---------------------&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2. page 鼠标在页面文档的x和y坐标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">pageX</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">pageY</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---------------------&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 3. screen 鼠标在电脑屏幕的x和y坐标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">screenX</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">screenY</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="8-键盘事件"><a href="#8-键盘事件" class="headerlink" title="8.键盘事件"></a>8.键盘事件</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6ff7b610b44e4a21af29538c422ac1f3.png#pic_center" alt="在这里插入图片描述">例如，网站的搜索框一般会设置一个快捷键，当我们点击<strong>s</strong>键时，利用ASCII码判断按下的键是否为<strong>s</strong>若是则给搜索框一个焦点。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b04f4ff70b5c4056a9a72050e178c459.gif#pic_center" alt="在这里插入图片描述"><br>源码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        *&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">input</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid orange;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 核心思路： 检测用户是否按下了s 键，如果按下s 键，就把光标定位到搜索框里面</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 使用键盘事件对象里面的keyCode 判断用户按下的是否是s键</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 搜索框获得焦点： 使用 js 里面的 focus() 方法</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> search = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keyup&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">keyCode</span> === <span class="number">83</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                search.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fa5b1f7ea9d44819b92ecfc2aacc6360.png#pic_center" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9e757bf86aa34fec966bb742b2b4413d.png" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a451192d08ee4900a82d2f73401deccd.png#pic_center" alt="在这里插入图片描述"></p><h3 id="window对象常见事件"><a href="#window对象常见事件" class="headerlink" title="window对象常见事件"></a>window对象常见事件</h3><h4 id="1-窗口加载事件"><a href="#1-窗口加载事件" class="headerlink" title="1.窗口加载事件"></a>1.窗口加载事件</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/21ab4f7305524801ada4cc5152fe2221.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/01932c000fb6487895dcc6b32307a528.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e06d023e246d4c8ab78d37a73ee9c029.png#pic_center" alt="在这里插入图片描述"></p><p>// load 等页面内容全部加载完毕，包含页面dom元素 图片 flash  css 等等</p><p> // DOMContentLoaded 是DOM 加载完毕，不包含图片 falsh css 等就可以执行 加载速度比 load更快一些</p><h4 id="2-调整窗口大小事件"><a href="#2-调整窗口大小事件" class="headerlink" title="2.调整窗口大小事件"></a>2.调整窗口大小事件</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5fdc9b48ab554d98a67dc5332734af25.png#pic_center" alt="在这里插入图片描述"></p><h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d64f5701bf9741929d819409a7b8e01c.png#pic_center" alt="在这里插入图片描述"></p><h4 id="1-setTimeout-定时器"><a href="#1-setTimeout-定时器" class="headerlink" title="1.setTimeout()定时器"></a>1.<code>setTimeout()</code>定时器</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/760b139a7fa44707b3386f63b045f0eb.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. setTimeout </span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 语法规范：  window.setTimeout(调用函数, 延时时间);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. 这个window在调用的时候可以省略</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2. 这个延时时间单位是毫秒 但是可以省略，如果省略默认的是0</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. 这个调用函数可以直接写函数 还可以写 函数名 还有一个写法 &#x27;函数名()&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 4. 页面中可能有很多的定时器，我们经常给定时器加标识符 （名字)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// setTimeout(function() &#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     console.log(&#x27;时间到了&#x27;);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;, 2000);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">callback</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;爆炸了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> timer1 = <span class="built_in">setTimeout</span>(callback, <span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> timer2 = <span class="built_in">setTimeout</span>(callback, <span class="number">5000</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// setTimeout(&#x27;callback()&#x27;, 3000); // 我们不提倡这个写法</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c497adbcf6754b969ab289fd25da31fc.png#pic_center" alt="在这里插入图片描述"></p><p>停止<code>setTimeout()</code>定时器</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a9cf3d7b86c44893a691cc2c77d516e6.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击停止定时器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//先给定时器一个名称，根据名称指定停止</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;爆炸了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">5000</span>);</span></span><br><span class="line"><span class="language-javascript">    btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">clearTimeout</span>(timer);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-setInterval-定时器"><a href="#2-setInterval-定时器" class="headerlink" title="2.setInterval()定时器"></a>2.<code>setInterval()</code>定时器</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ee38a79113b04531837c58bbf95cedd2.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. setInterval </span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 语法规范：  window.setInterval(调用函数, 延时时间);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;继续输出&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2. setTimeout  延时时间到了，就去调用这个回调函数，只调用一次 就结束了这个定时器</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. setInterval  每隔这个延时时间，就去调用这个回调函数，会调用很多次，重复调用这个函数</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="JS执行队列"><a href="#JS执行队列" class="headerlink" title="JS执行队列"></a>JS执行队列</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d8daa1ffa79144ffa4080ef6f8cf02d3.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/86716ed034f749538315b5984379d0b7.png#pic_center" alt="在这里插入图片描述"></p><p>异步：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0b82b536715b4ff688b41fc7676e3217.png#pic_center" alt="在这里插入图片描述"></p><h3 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h3><p>URL</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/eaf8254b84ce44d7bb3e499dd65833ff.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/db1b388768ec4203a7915ab5218b6986.png#pic_center" alt="在这里插入图片描述">search得到的是网址主机问号？(包含)之后的数据，是string字符串</p><p>例如：<a href="https://editor.csdn.net/md/?articleId=1256752823244">https://editor.csdn.net/md/?articleId=1256752823244</a><br>location.search得到的是?articleId=1256752823244<br>可以用substr(1)方法去掉问号<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e258309605f547afaf024724fc66cc1d.png#pic_center" alt="在这里插入图片描述"></p><h3 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/704703392ceb4c57b9e7574cc0c85378.png#pic_center" alt="在这里插入图片描述"></p><h3 id="history对象"><a href="#history对象" class="headerlink" title="history对象"></a>history对象</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f947400924204f9dabe399927dbde1fd.png#pic_center" alt="在这里插入图片描述"></p><h2 id="PC端网页特效"><a href="#PC端网页特效" class="headerlink" title="PC端网页特效"></a>PC端网页特效</h2><p>丰富网页</p><h3 id="元素偏移量offset"><a href="#元素偏移量offset" class="headerlink" title="元素偏移量offset"></a>元素偏移量offset</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a3a40b52b7c34a3e87dad066a9973636.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3</title>
      <link href="/posts/CSS3.html"/>
      <url>/posts/CSS3.html</url>
      
        <content type="html"><![CDATA[<h2 id="CSS基础认识"><a href="#CSS基础认识" class="headerlink" title="CSS基础认识"></a>CSS基础认识</h2><h3 id="基础认识"><a href="#基础认识" class="headerlink" title="基础认识"></a><strong>基础认识</strong></h3><p>中文名称：</p><ul><li>CSS：层叠样式表（Cascading style sheets）</li></ul><p>作用：</p><ul><li>给页面中的HTML标签设置样式。</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/58a67ab4414745c1805f83470693e3d2.png#pic_center" alt="在这里插入图片描述"></p><p>语法规范：</p><ul><li>css写在style标签中，style标签一般写在head标签里面，title标签下面</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- CSS位置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 写在style标签中 */</span></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 选择器 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* CSS属性 key：value */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">18px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 字体默认大小：16px */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是字体<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>实现效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/089740bf774d4eab9ee1552c320b9746.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="css引入方式"><a href="#css引入方式" class="headerlink" title="css引入方式"></a>css引入方式</h3><p>➢ 内嵌式：CSS 写在style标签中，如上述方法</p><p>➢ 行内式：CSS 写在标签的style属性中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: pink;&quot;</span>&gt;</span>我是字体<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>➢ 外联式：CSS 写在一个单独的.css文件中</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cf8284a7385547da819bc65e0be8b704.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a><strong>选择器</strong></h3><h4 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h4><p>使用基础选择器在 HTML 中选择元素</p><ol><li>标签选择器 。选择的是一类标签，多个。</li></ol><p><code>标签名+&#123;CSS&#125;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2965276b58be4e4ba3ba228ed6402fe1.png#pic_center" alt="在这里插入图片描述"></p><ol><li>类选择器。一个标签可以有多个类名(空格隔开)，多个标签可以用同一个类名。类选择器用的最多。</li></ol><p><code>.类名+&#123;CSS&#125;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/de9f09721aa04641a4d48a5d46c6efe7.png#pic_center" alt="在这里插入图片描述"></p><ol><li>id选择器。一个标签上只能有一个id属性值，一个id选择器只能选中一个标签。id一般配合js使用。</li></ol><p><code>#id+&#123;CSS&#125;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3afecb02846e43c4b63de5d524d184c2.png#pic_center" alt="在这里插入图片描述"></p><ol><li>通配符选择器。在极特殊情况下才会用到。找到页面中所有的标签，设置样式。</li></ol><p><code>*+&#123;CSS&#125;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/907498e5db604c9d9c69bd5b0303e4f1.png#pic_center" alt="在这里插入图片描述"></p><p>效果·：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7bd9da5aa65647f4996984bc02eb3f2e.png#pic_center" alt="在这里插入图片描述"></p><h4 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h4><p>后代选择器：选择父元素 后代中 满足条件的元素(<code>空格隔开</code>)</p><ul><li>选择器1<code> </code>选择器2+{}</li></ul><p>儿子选择器：选择父元素 子代中 满足条件的元素</p><ul><li>选择器1 &gt; 选择器2+{}</li></ul><p>并集选择器：同时选择多组标签，设置相同的样式</p><ul><li>选择器1 , 选择器2+{}</li></ul><p>交集选择器：选中页面中 同时满足 多个选择器的标签(<code>紧挨</code>)</p><ul><li>选择器1选择器2+{}</li></ul><p>hover伪类选择器：选中鼠标悬停在元素上的状态，设置样式</p><ul><li>选择器: hover +{}</li></ul><p>总结：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a21c6b3ba50242a7a06776434b1f54be.png#pic_center" alt="在这里插入图片描述"></p><p>Emmet语法(vscode快捷写法):<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0e06229c7868494e98ccf560802abb76.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="字体和文本样式"><a href="#字体和文本样式" class="headerlink" title="字体和文本样式"></a><strong>字体和文本样式</strong></h3><ol><li><p>字体样式</p><ul><li>字体大小：font-size</li></ul><blockquote><p>值：数字 + px</p><p>谷歌浏览器默认文字大小是16px</p></blockquote><ul><li>字体粗细：font-weight</li></ul><blockquote><p>值：</p><p>(1)、normal(正常)；bold(加粗)；（&lt;==常用）</p><p>(2)、纯数字：100~900的整百数；</p></blockquote><ul><li>字体样式：font-style</li></ul><blockquote><p>值：normal(正常)；italic(倾斜·)；</p></blockquote><ul><li>字体类型：font-family<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c872e86f00c1482a86b3d0867134dd68.png#pic_center" alt="在这里插入图片描述"></li></ul></li></ol><blockquote><p>值：”Microsoft YaHei”、微软雅黑、黑体、宋体、楷体等……</p><p>字体系列：sans-serif、serif、monospace等……</p><p>从左往右按照顺序查找，如果电脑中未安装该字体，则显示下一个字体，如果都不支持，此时会根据操作系统，显示最后字体系列的默认字体。</p></blockquote><ul><li><p>字体类型：font属性连写</p><blockquote><p>font（复合属性·）</p><p>连写方法·：font : style weight size family;</p><p>注意点：如果需要同时设置单独和连写形式 </p><p>• 要么把单独的样式写在连写的下面，要么写在连写的里面</p></blockquote></li></ul><ol><li>文本样式</li></ol><ul><li>文本缩进：text-indent:2em;//两字符</li><li>文本水平对齐方式：text-align</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/37a552c6a541494b82439576dc543eba.png#pic_center" alt="在这里插入图片描述"></p><ul><li>文本修饰：text-decoration</li></ul><blockquote><p>underline:：下划线</p><p>line-througt：删除线</p><p>overline：上划线</p><p>none：无修饰线，例如去掉超链接下划线</p></blockquote><ol><li>line-height行高</li></ol><blockquote><p>值：</p><p>(1)、数字px</p><p>(2)、倍数(根据当前文字大小)</p><p>line-height : 1 可以取消上下间距</p><p>注意：连写时size和line-height用’/‘隔开</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3e76fe62205a465fbc7c6d004c39461b.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p>颜色：</p><p>文字颜色：color</p><p>背景颜色：background-color</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4a33fb45247947f9b5c240c8634c5bc8.png#pic_center" alt="在这里插入图片描述"></p><p>大盒子居中：<code>margin: 0 auto</code></p><hr><h3 id="背景相关属性"><a href="#背景相关属性" class="headerlink" title="背景相关属性"></a><strong>背景相关属性</strong></h3><ol><li>背景颜色（默认是透明：rgba(0,0,0,0)、transparent ）</li></ol><ul><li><code>background-color</code></li></ul><ol><li>背景图片（默认是在水平和垂直方向平铺）</li></ol><ul><li><code>background-image: url(&#39;图片路径&#39;)</code></li></ul><ol><li>背景平铺</li></ol><ul><li><code>background-repeat:</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9f1800885e094317b23197ebdf4e28b1.png#pic_center" alt="在这里插入图片描述"></li></ul><ol><li>背景位置</li></ol><ul><li><code>background-position: 水平位置  垂直位置;</code></li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/727719325186477fa946e64fe25bbe1a.png#pic_center" alt="在这里插入图片描述"></p><ol><li>背景相关属性连写</li></ol><ul><li>推荐：<code>background：color image repeat position</code></li><li>例如：<code>background: url(./img/tb.gif) no-repeat left center;</code></li></ul><hr><h3 id="元素显示模式"><a href="#元素显示模式" class="headerlink" title="元素显示模式"></a><strong>元素显示模式</strong></h3><p>1、 块级元素block</p><blockquote><p>独占一行（一行只能显示一个）</p><p>宽度默认是父元素的宽度，高度默认由内容撑开 </p><p>可以设置宽高</p></blockquote><p>➢ 代表标签： <strong>div</strong>、<strong>p</strong>、<strong>h系列</strong>、ul、li、dl、dt、dd、form、header、nav、footer……</p><p>2、行内元素inline</p><blockquote><p>一行可以显示多个 </p><p>宽度和高度默认由内容撑开 </p><p>不可以设置宽高</p></blockquote><p>➢ 代表标签：<strong>a</strong>、<strong>span</strong> 、b、u、i、s、strong、ins、em、del……</p><p>3、行内块元素inline-block</p><blockquote><p>一行可以显示多个 </p><p>可以设置宽高</p></blockquote><p>➢ 代表标签：<strong>input</strong>、<strong>textarea</strong>、button、select……</p><p>4、元素显示模式转换</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/96e30a14ebf44fe4951ed79767406a10.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e3170b3272044304ade64302c5893f85.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="CSS特性"><a href="#CSS特性" class="headerlink" title="CSS特性"></a>CSS特性</h3><ol><li>继承性 2. 层叠性</li></ol><p>控制文字的都能继承</p><p>优先级：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/93f50ab745264ce494c2fc96632732b9.png#pic_center" alt="在这里插入图片描述"></p><p>权重：（行内，id，类，标签）</p><hr><h2 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h2><ol><li>内容区域的宽度和高度 3. 边框（ border ） 4. 内边距（ padding ） 5. 外边距（margin）</li></ol><p>页面中的每一个标签，都可看做是一个 “盒子”，通过盒子的视角更方便的进行布局.浏览器在渲染（显示）网页时，会将网页中的元素看做是一个个的矩形区域，我们也形象的称之为 盒子。</p><p>➢ CSS 中规定每个盒子分别由：内容区域（content）、内边距区域（padding）、边框区域（border）、外边距区域（ margin）构成，这就是 盒子模型</p><hr><h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><p>1.内容区域：content </p><p>2.边框区域：border </p><p>3.内边距区域：padding </p><p>4.外边距区域：margin</p><p>width 和 height 属性默认设置是盒子 内容区域 的大小</p><hr><h3 id="边框（-border-）"><a href="#边框（-border-）" class="headerlink" title="边框（ border ）"></a>边框（ border ）</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cf90c4c9fade4c03ba7caf3fa6f7f5af.png#pic_center" alt="在这里插入图片描述"></p><p>一般直接属性连写：如：<code>border : 10px solid red;</code></p><p>当只给盒子的某个方向单独设置边框：<code>border - 方位名词 : 10px solid red</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/944fe26e9ab44da799990224db0e6e66.png#pic_center" alt="在这里插入图片描述"></p><p>例如，下面代码设置盒子模型：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 边框线border */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> solid orange;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 内边框padding */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 外边框margin */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello CSS<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/36c6114116864de2be41ecc2c290d1c8.gif#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6f276db888684a5187da0c36b0cda155.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="内边距（-padding-）"><a href="#内边距（-padding-）" class="headerlink" title="内边距（ padding ）"></a>内边距（ padding ）</h3><p>设置 边框 与 内容区域 之间的距离</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2e4bc0749185485a9a5a0d900280e109.png#pic_center" alt="在这里插入图片描述"></p><p>➢ 给盒子设置四周 20px 的内边距</p><p> • padding : 20px ; </p><p>➢ 给盒子设置上下20px、左右30px的内边距</p><p> • padding : 20px 30px ; </p><p>➢ 给盒子设置左侧50px的内边距</p><p>• padding-left : 50px ;</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c235e8b662194e1da0f502e12ca8a760.png#pic_center" alt="在这里插入图片描述"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 固定盒子尺寸 */</span><br><span class="line">box-sizing: border-box;</span><br></pre></td></tr></table></figure><hr><h3 id="外边距（margin）"><a href="#外边距（margin）" class="headerlink" title="外边距（margin）"></a>外边距（margin）</h3><p>清除内外边框：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">margin: 0;</span><br><span class="line">padding: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 外边距折叠现象：</p><p>垂直布局的块级元素，上下margin会合并</p><p><code>塌陷现象(子的margin顶开了父)解决</code>：</p><ol><li>给父元素设置border-top 或者 padding-top（分隔父子元素的margin-top）</li><li>给父元素设置<code>overflow：hidden</code></li><li>转换成行内块元素</li><li>设置浮动</li></ol><p>行内元素加margin和padding只有水平生效</p><hr><h3 id="附加：父盒子中小盒子居中方法（多种）："><a href="#附加：父盒子中小盒子居中方法（多种）：" class="headerlink" title="附加：父盒子中小盒子居中方法（多种）："></a>附加：父盒子中小盒子居中方法（多种）：</h3><p>基础 HTML 界面：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.father</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.son</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span>父盒子</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span>俺是子盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\31330\Pictures\Typora\image-20220917232355358.png" alt="image-20220917232355358"></p><h4 id="1-利用position-absolute与transform"><a href="#1-利用position-absolute与transform" class="headerlink" title="1.利用position:absolute与transform"></a>1.利用position:absolute与transform</h4><p>这里需要记住的是transform中translate使用百分比时相对的是自己的长宽，不是父盒子的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-利用flex布局"><a href="#2-利用flex布局" class="headerlink" title="2.利用flex布局"></a>2.利用flex布局</h4><p>flex布局，设置水平与竖直方向的内容居中。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="3-position-absolute-配合定位与margin：auto"><a href="#3-position-absolute-配合定位与margin：auto" class="headerlink" title="3.position:absolute 配合定位与margin：auto"></a>3.position:absolute 配合定位与margin：auto</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-display-table-cell"><a href="#4-display-table-cell" class="headerlink" title="4. display:table-cell"></a>4. display:table-cell</h4><p>display:table-cell；与vertical-align:middle 的作用是让子盒子在数值方向上居中</p><p>margin:auto;则让子盒子在水平方向居中，若只想让盒子在某个方向居中，去掉另一个就可以了。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="comment">/* 父盒子margin居中会消失 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-position-absolute-与负margin配合"><a href="#5-position-absolute-与负margin配合" class="headerlink" title="5.position:absolute 与负margin配合"></a>5.position:absolute 与负margin配合</h4><p>这种方法只适合子盒子长宽固定的情况；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-display-inline-block"><a href="#6-display-inline-block" class="headerlink" title="6.display:inline-block"></a>6.display:inline-block</h4><p>text-align:center 让子盒子水平居中，</p><p>line-height:500px 与 子盒子的vertical-align:middel共同作用使子盒子垂直居中。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">500px</span>;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;</span><br><span class="line"><span class="attribute">vertical-align</span>:middle;</span><br><span class="line"><span class="attribute">line-height</span>:<span class="number">1rem</span>;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">    <span class="comment">/* 子盒子中内容会水平居中，父盒子有内容子盒子居中效果消失 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h2><p>为什么使用浮动？</p><p>当我们运行下面代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我们希望得到的是两个行内块div，而且这两个div没有设置间距，但上面代码的效果却带了间距：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/14f42f8c514b491ea328e221291402d3.png#pic_center" alt="在这里插入图片描述"></p><p>这是由于浏览器解析行内或行内块标签时，若标签换行，那么效果也出现一个换行的距离。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e0f56b6d52594ca88451ffe5053e2f44.png#pic_center" alt="在这里插入图片描述"></p><p>但是若不换行，全部标签放一行，大大降低了代码的可读性和难度。所以就引入了浮动。</p><hr><h3 id="结构伪类选择器"><a href="#结构伪类选择器" class="headerlink" title="结构伪类选择器"></a>结构伪类选择器</h3><p>根据元素在HTML中的结构关系查找元素,查找某父级选择器中的子元素.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/701c2ed7ab8d4781b9f7f4e206cd8dc2.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c00ea4e4c6ed49f0984edbff50f169c3.png#pic_center" alt="在这里插入图片描述"></p><p>小括号里的n可以为数学公式，例如：</p><p>n为0、1、2、3……</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1c161ebf84204ffda0992d30c8f03113.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h3><p>伪标签，由CSS创建</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3715ffeb69d74030bb8b2e628f01d8bd.png#pic_center" alt="在这里插入图片描述"></p><ul><li>必须设置content属性才能生效、伪元素默认是行内元素</li></ul><p>例如：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b8c9d12c5bdf4b1b9b127c0cf5ca30a5.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="标准流"><a href="#标准流" class="headerlink" title="标准流"></a>标准流</h3><p>➢ 标准流：又称文档流，是浏览器在渲染显示网页内容时默认采用的一套排版规则，规定了应该以何种方式排列元素。</p><p>➢ 常见标准流排版规则： </p><ol><li>块级元素：从上往下，垂直布局，独占一行 </li><li>行内元素 或 行内块元素：从左往右，水平布局，空间不够自动折行</li></ol><hr><h3 id="浮动-1"><a href="#浮动-1" class="headerlink" title="浮动"></a>浮动</h3><p>例如word里的图片环绕文字四周。</p><p>float: left;让图片在左侧浮动</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.img2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;img1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./img/csdn_head.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span>图片浮动例如word里的图片环绕文字四周......</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;img2&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./img/csdn_head.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span>图片浮动例如word里的图片环绕文字四......</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6230354771b5437ca666335b6eac4c33.png#pic_center" alt="在这里插入图片描述"></p><p>现在运用到前端中，就需要让两个div一个在左端，一个在右端</p><p>特点：类似于图层的概念，脱离了标准流，像两张卡片，叠放在一起，不会影响原标签，一行可以有多个，可以设置宽高(行内块)</p><p>下一个浮动会挨着上一个浮动</p><p>浮动标签的<code>margin: 0 auto;</code>居中失效，但可外面嵌套div实现</p><hr><h3 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h3><p>作用：清除浮动带来的影响</p><p>场景：父盒子不方便设置高度，子孩子有多少内容展示多少，父盒子高度变化不固定。</p><blockquote><p>解决</p><ol><li>给父元素设置高度（脱裤子放屁，来回麻烦）</li><li>(额外标签法)：在父元素最后加个块级元素，给块级元素设置<code>clear:both</code>==&gt;缺点：麻烦</li><li>(单伪元素清除法)：在2的基础上，用伪元素替代额外标签，添加到父标签class中即可</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.clearfix::after&#123;</span><br><span class="line">content: &#x27;&#x27;;</span><br><span class="line">display: block;/*伪元素标签行内转块*/</span><br><span class="line">clear: both;</span><br><span class="line">/*下面两行是补充，为了一些浏览器的兼容性可以不写*/</span><br><span class="line">/*height: 0;*/</span><br><span class="line">/*visibility: hidden;*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>双伪元素(强👍)</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.clearfix::before,/*解决外边框塌陷*/</span><br><span class="line">.clearfix::after&#123;</span><br><span class="line">content: &#x27;&#x27;;</span><br><span class="line">display: table;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix::after&#123;</span><br><span class="line">clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>给父设置<code>overflow: hidden;</code></li></ol></blockquote><hr><h2 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p><strong>网页常见的布局方式</strong>：</p><p>1.标准流</p><blockquote><ul><li>块级元素独占一行 ==&gt; 垂直布局。例如：h系列，p，div……</li><li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5e99a6755b43475d9b3e27d21945d612.png#pic_center" alt="在这里插入图片描述"></li></ul></blockquote><p>&gt;</p><blockquote><ul><li>行内元素/行内块元素一行显示多个 ==&gt; 水平布局。例如：a，input，span……</li><li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f1ab8f265e11484ab193d55029924e44.png#pic_center" alt="在这里插入图片描述"></li></ul></blockquote><p>2.浮动</p><blockquote><p>可以让原本垂直布局的 块级元素变成水平布局,子元素嵌入进父元素上方，父元素内容环绕浮动子元素，上方有介绍，类似于图层的概念或微软word中图片环绕文字四周概念。</p></blockquote><p>3.定位</p><blockquote><p>让元素摆放在网页的==任意位置==。一般用于盒子之间的叠层情况。</p></blockquote><p>使用场景：</p><ul><li><p>解决盒子之间的层叠问题，定位之后的元素层级最高，可以层叠在其他盒子上面。</p></li><li><p>可以让盒子始终固定在屏幕中的某个位置</p></li></ul><p>例如，完成下图的效果(盒子之间有叠层问题)需要什么步骤？</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c6f016c18d4c4c928fff6acf4f16fd80.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>1.设置定位：</p><ul><li>静态定位：static</li><li>相对定位：relative</li><li>绝对定位：absolute</li><li>固定定位：fixed</li></ul><p>2.设置偏移量：水平+垂直就近各取一个<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5b0f62f11159448b8df9be9fb72fc757.png#pic_center" alt="在这里插入图片描述"></p></blockquote><hr><h3 id="静态定位"><a href="#静态定位" class="headerlink" title="静态定位"></a>静态定位</h3><p><code>position:static;</code></p><p>默认就是静态定位，就是之前认为的标准流。不能通过方位属性进行移动。</p><hr><h3 id="相对定位"><a href="#相对定位" class="headerlink" title="相对定位"></a>相对定位</h3><p><code>position:relative;</code></p><p>配合方位属性，相对于<strong>自己原来位置</strong>进行移动。适用于小范围移动。移动后原来位置还存在。</p><p>例如，执行下面代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.div1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.div2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">80</span>, <span class="number">226</span>, <span class="number">197</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>俺是div块级元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>俺是div块级元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>原来的div还在那占着位置<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>得到的效果：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/994f692dbbd446aaadefadce6f0d38aa.png#pic_center" alt="在这里插入图片描述"></p><p>剖析：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2c0993c23d09422dbf586fa8edd44afd.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>注意：</p><p>添加了相对定位position:relative;后，当left和right都有，只有left会生效，当top和bottom都有，只有top会生效。</p><p>属性值可以为负数。</p><p>(后来者居上；div1添加<code>z-index: 1;</code>会让第一个块盖住第二个块)</p></blockquote><hr><h3 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h3><p><code>position:absolute;</code></p><p>需要找父级(子绝对定位，父相对定位。—&gt;子绝父相)：</p><ul><li>1.若父级(/爷级…..)有定位属性，根据父级为参照进行定位</li><li>2.若父级无定位属性，根据浏览器窗口进行定位</li></ul><p>且具备了行内块特点，可设置宽高。</p><p>在页面中不占位置—&gt;已经脱标。变成了行内块</p><blockquote><p>注意：</p><p>绝对定位后的盒子不能使用<code>margin: 0 auto;</code>进行居中；但可以用如下方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">position: absolute;<span class="comment">//绝对定位</span></span><br><span class="line"><span class="comment">/*水平居中*/</span></span><br><span class="line">left: <span class="number">50</span>%;</span><br><span class="line">margin-left: -(盒子宽度/<span class="number">2</span>);<span class="comment">/*负的盒子宽度的一半*/</span></span><br><span class="line"><span class="comment">/*垂直居中同理*/</span></span><br><span class="line">top: <span class="number">50</span>%;</span><br><span class="line">margin-top: -(盒子高度/<span class="number">2</span>);<span class="comment">/*负的盒子高度的一半*/</span></span><br></pre></td></tr></table></figure><p>上面的方法仔细观察没办法满足盒子宽高为奇数的情况，如宽401px，像素不能设置成小数，所以可以用下面方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">position: absolute;<span class="comment">//绝对定位</span></span><br><span class="line">left: <span class="number">50</span>%;</span><br><span class="line">top: <span class="number">50</span>%;</span><br><span class="line"><span class="comment">/*位移：自己宽度高度的一半*/</span></span><br><span class="line">transform: translate(-<span class="number">50</span>%,-<span class="number">50</span>%);</span><br></pre></td></tr></table></figure></blockquote><h3 id="固定定位"><a href="#固定定位" class="headerlink" title="固定定位"></a>固定定位</h3><p><code>position:fixed;</code></p><p>相对于浏览器进行定位移动，配合四个方位属性使用。脱标(在页面中不占位置)。</p><p>例如：某些网页的导航固定在头部</p><hr><h2 id="装饰"><a href="#装饰" class="headerlink" title="装饰"></a>装饰</h2><h3 id="垂直对齐"><a href="#垂直对齐" class="headerlink" title="垂直对齐"></a>垂直对齐</h3><p>小时候用英语本练英语时，都知道单词书写规范如下：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8ce8652a2342460d84ee779d3d11f41a.png#pic_center" alt="在这里插入图片描述"></p><p>所以前端也是按照这样，处理<strong>行内块</strong>和<strong>行内</strong>元素时按照文字特点解析，以基线为基准对齐。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a0ded6fb3de045df9de0317ef6a06670.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/27cf1672f2ac4a85873a3ec9e749a2f0.png#pic_center" alt="在这里插入图片描述"></p><p><a href="https://www.bilibili.com/video/BV1Kg411T7t9?p=159">几种案例1</a></p><p><a href="https://www.bilibili.com/video/BV1Kg411T7t9?p=160">几种案例2</a></p><hr><h3 id="光标类型"><a href="#光标类型" class="headerlink" title="光标类型"></a>光标类型</h3><p>即鼠标光标在元素上时显示的样式。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c425f8594fd04d298b546ad71eb1b346.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="边框圆角"><a href="#边框圆角" class="headerlink" title="边框圆角"></a>边框圆角</h3><p>属性名：<code>border-radius</code></p><p>属性值：数字+px、百分比</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bb62b645498c416ab4913ab0e42c04f5.png#pic_center" alt="在这里插入图片描述"></p><blockquote><p>原理：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e7f65a4db3184b998587200f7402fa71.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p>&gt;</p><blockquote><p>赋值规则：从左上角开始赋值，然后顺时针赋值，没有赋值的看对角！</p><p>如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/*只给左上、右上、右下进行了赋值*/</span><br><span class="line">border-radius: 40px 80px 120px;</span><br></pre></td></tr></table></figure><p>效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3159bc99586c4e4c9e1995105339f1e3.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p>案例：</p><p>1.画圆圈：（盒子必须是正方形，边框圆角为盒子宽高一半）</p><p>添加属性：<code>border-radius: 50%</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f6ee8d6a56ae4463ac73a2fc45f3c939.png#pic_center" alt="在这里插入图片描述"></p><p>源码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">247</span>, <span class="number">190</span>, <span class="number">190</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">150px</span> <span class="number">150px</span> <span class="number">0</span>;<span class="comment">/*box右侧贴紧圆*/</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.every</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">248</span>, <span class="number">110</span>, <span class="number">110</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span> <span class="selector-tag">div</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.circle</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">50%</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;every&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>==&gt;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circle every&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.胶囊按钮：（盒子为长方形）</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/25ab74c772cf4af6ab6d4eb9514cfd5b.gif#pic_center" alt="在这里插入图片描述"></p><p><code>border-radius: 40px 40px;/*切割圆角，高度一半*/</code></p><p>源码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>胶囊按钮<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.jiaonang</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;<span class="comment">/*绝对定位，相对于浏览器*/</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/*下面三行是设置绝对定位的居中*/</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: none;<span class="comment">/*去除按钮原有的边框线*/</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">40px</span> <span class="number">40px</span>;<span class="comment">/*切割圆角，高度一半*/</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blueviolet;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.jiaonang</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: blueviolet;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;jiaonang&quot;</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;jiaonang&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    btn[<span class="number">0</span>].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;点了我&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="overflow溢出部分显示效果"><a href="#overflow溢出部分显示效果" class="headerlink" title="overflow溢出部分显示效果"></a>overflow溢出部分显示效果</h3><p>如下图，当盒子为固定高度，但里面的内容过多就会出现内容溢出情况。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c3c4473c4a3740a6a5583068b1ba1b77.png#pic_center" alt="在这里插入图片描述"></p><p>解决：<code>overflow</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/663313351e0246da968481c692ded68a.png#pic_center" alt="在这里插入图片描述"></p><p>案例：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/213de5ab1f7c47769d0f06cd435bb156.png#pic_center" alt="在这里插入图片描述"></p><hr><h3 id="元素本身隐藏"><a href="#元素本身隐藏" class="headerlink" title="元素本身隐藏"></a>元素本身隐藏</h3><p>场景：例如某些网站的导航，当鼠标悬停会出现元素</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bc1ea0dfde544d558e915e8c6c2dd806.gif#pic_center" alt="在这里插入图片描述"></p><p>常见属性：</p><blockquote><ul><li>1.<code>visibility：hidden</code>/<em>占位隐藏</em>/</li><li>2.<code>display：none</code>/<em>不占位隐藏</em>/（常用）</li></ul></blockquote><p>扩展标签：</p><p>元素整体透明度：opacity: +小数;</p><p>链接伪类选择器：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/445e0633a78f4fa6b6ef1a10ee638400.png#pic_center" alt="在这里插入图片描述"></p><p>焦点伪类选择器：（用于表单控件）</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/171e6358eae24741a988e618df158ca0.png#pic_center" alt="在这里插入图片描述"></p><hr><hr><hr><hr>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5</title>
      <link href="/posts/HTML5.html"/>
      <url>/posts/HTML5.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、基础认识"><a href="#一、基础认识" class="headerlink" title="一、基础认识"></a>一、基础认识</h1><p>浏览器：网页运行，显示平台、五大浏览器</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/da2e72992a5440a9818bbf59ded2bf8a.png#pic_center" alt="在这里插入图片描述"></p><p>浏览器渲染引擎</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fba5618d57d643b39972dfec6470566f.png#pic_center" alt="在这里插入图片描述"></p><p>不同浏览器遵循一个Web标准</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1b401de747764ce3ac9002a840c983ff.png#pic_center" alt="在这里插入图片描述"></p><h1 id="二、HTML"><a href="#二、HTML" class="headerlink" title="二、HTML"></a>二、HTML</h1><p>(Hyper Text Markup Lanuage)==&gt;超文本标记语言</p><p>注释：</p><!--  --><p>标签：</p><ul><li><p>双标签：</p><p>eg：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>自体加粗<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li>单标签：不可包裹内容</li></ul><h2 id="排版标签"><a href="#排版标签" class="headerlink" title="排版标签"></a>排版标签</h2><p>标题标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>一级标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>二级标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">。。。。。</span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>六级标题<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure><p>段落标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>段落内容。。。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>若(。・・)ノvsCode段落标签中内容过多，可<code>ALT + Z</code>自动换行</p><p>换行标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><p>水平线标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="文本格式化标签"><a href="#文本格式化标签" class="headerlink" title="文本格式化标签"></a>文本格式化标签</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/39c2e328f27142bdab51149031943383.png#pic_center" alt="在这里插入图片描述"></p><h2 id="媒体标签"><a href="#媒体标签" class="headerlink" title="媒体标签"></a>媒体标签</h2><p>图片标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;路径&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;替换文本（src失效显示）&quot;</span> <span class="attr">title</span>=<span class="string">&quot;鼠标悬停提示文本&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>更多属性：width、height（只设置一个会保持原图比例，两个都设置自定义图片比例）</p><blockquote><p>路径：</p><ol><li>相对路径：（当前文件）</li></ol><ul><li><p>同级文件：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7a75edb601da4909b94dc6ad613de8c4.png#pic_center" alt="在这里插入图片描述"></p></li><li><p>引用下级文件：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b0eac75407a74332a4364be40a158fa0.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f6b096de06944cc2baf340dc0286048d.png#pic_center" alt="在这里插入图片描述">或<code>&lt;img src=&quot;./images/图片.jpg&quot;&gt;</code></p></li><li><p>引用上级文件：<code>&lt;img src=&quot;../目标文件.gif&quot;&gt;</code></p></li></ul><ol><li>绝对路径：</li></ol><p>目录下的绝对位置，可直接到达目标位置，通常==从盘符开始==的路径</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6877a19463d7490ea3720c49db0f1289.png#pic_center" alt="在这里插入图片描述"></p></blockquote><p>音频标签（双标签）：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/673fd4e81398406a98d7122f6f7b3e25.png#pic_center" alt="在这里插入图片描述"></p><p>常见属性：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d3be733e7aaf405b8638a7f8cfe707cd.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c0a37b2004d847088f66c13ce3a01583.png#pic_center" alt="在这里插入图片描述"></p><p>目前此标签支支持三种格式：==MP3、Wav、Ogg==</p><p>视频标签：（常见属性见音频标签）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ecb24a5d5e8848a1a28985a0a2335cf3.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c426ec70fc76450eb52ba251a86a8a6e.png#pic_center" alt="在这里插入图片描述"></p><h2 id="连接标签"><a href="#连接标签" class="headerlink" title="连接标签"></a>连接标签</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f15e613158d04fe0a80bdb6fab74abc5.png#pic_center" alt="在这里插入图片描述"></p><p>href=”#”表示空链接，还没有确定目标页面</p><p>属性：</p><ul><li>target：（打开网页的形式）</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7e55eb2acd7c4e898ee9efe9d818ccd1.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c1c1b90c77ae4ae7b7c89e2db1d156dc.png#pic_center" alt="在这里插入图片描述"></p><h2 id="列表标签"><a href="#列表标签" class="headerlink" title="列表标签"></a>列表标签</h2><p>无序(点)，有序(序号)，自定义列表</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/66615d8a069c42a4a1f89eaf9c8af15f.png#pic_center" alt="在这里插入图片描述"></p><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3868dbcbf9fb46fbbbf32f1a3f41531e.png#pic_center" alt="在这里插入图片描述"></p><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/232109ebbbfa4ecd9aac6de03ff9c308.png#pic_center" alt="在这里插入图片描述"></p><h3 id="自定义列表"><a href="#自定义列表" class="headerlink" title="自定义列表"></a>自定义列表</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9c51d22c54c1452ca0632c555f7401cb.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cb100e2355224b089e2de98d48752de7.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b20ef47781264e388eac413a76eeed37.png#pic_center" alt="在这里插入图片描述"></p><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ce5dcfdae3bd4b4b91e4fda0c77947d6.png#pic_center" alt="在这里插入图片描述"></p><p>标题标签<th>，caption表格大标题</p><p>常见属性：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1284e314ea03454c8d5e45ef9478a6c4.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/08d4024e71de48e4b744c3f0f3ccccf8.png#pic_center" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0a80af9a27164fba8c4f49b71b68882f.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6c5673b1f0dd47e1844f1ce5efcd4f7c.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a32f77ef9d8f46578c537fdac9cd2bd1.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f3cf44cf323a4c919ab0ea5057bda74c.png#pic_center" alt="在这里插入图片描述"></p><h2 id="表单标签"><a href="#表单标签" class="headerlink" title="表单标签"></a>表单标签</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f9dbce3af58f4424b5ae979dd116b788.png#pic_center" alt="在这里插入图片描述"></p><h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2927d31fbff24502aff27f3449637875.png#pic_center" alt="在这里插入图片描述"></p><p>常用属性：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/495cb7b91b9d4b5b8370030799f0f15a.png#pic_center" alt="在这里插入图片描述"></p><p>单选功能：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7a8385061d504c87b143abc517dfeced.png#pic_center" alt="在这里插入图片描述"></p><p>checked默认选中（也适用于多选）</p><p>文件上传功能：多文件上传属性：multiple</p><p>按钮功能：需要在同一域下<code>&lt;form&gt;&lt;/form&gt;</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d9f3cafa64c7437094117dd37ee83e0a.png#pic_center" alt="在这里插入图片描述"></p><p>按钮加value属性，显示按钮文字显示</p><h3 id="button"><a href="#button" class="headerlink" title="button"></a>button</h3><p>(双标签)</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/80636e22f15e4ab7aeee17a7aa33e338.png#pic_center" alt="在这里插入图片描述"></p><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>下拉菜单，selected默认选中<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/47e52ed9bc3447848b27b6cdde58287f.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f1f2a524622b49f5a2e37f17c519f956.png#pic_center" alt="在这里插入图片描述"></p><h3 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a>textarea</h3><p>文本域标签，（简介输入框）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ff76e3e1e47d4a17a1e3239e7fdd68d2.png#pic_center" alt="在这里插入图片描述"></p><p>实际开发会使用CSS</p><h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>场景：不止点按钮触发，点按钮对应的文字也会触发<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d89600bdf66748909bb92f630c1162d2.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/553acd7ce3674a85a89c705ff62d8853.png#pic_center" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e8216efb2cac4e998c49205aab75ac39.png#pic_center" alt="在这里插入图片描述"></p><h2 id="语义化标签"><a href="#语义化标签" class="headerlink" title="语义化标签"></a>语义化标签</h2><h3 id="无语义布局标签"><a href="#无语义布局标签" class="headerlink" title="无语义布局标签"></a>无语义布局标签</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fd4d4c3729824ef7905b7ff9a6749e2d.png#pic_center" alt="在这里插入图片描述"></p><h3 id="有语义布局标签"><a href="#有语义布局标签" class="headerlink" title="有语义布局标签"></a>有语义布局标签</h3><p>html5新版本加入，和<code>&lt;div&gt;</code>一致<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2bdd7306db0f4854acb4056f62b6b66a.png#pic_center" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8422842bd9dd44c1950eda708abeddee.png#pic_center" alt="在这里插入图片描述"></p><h2 id="字符实体"><a href="#字符实体" class="headerlink" title="字符实体"></a>字符实体</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b933b4ca88eb4be58b5149c7a49973f9.png#pic_center" alt="在这里插入图片描述"></p><hr><p><a href="https://www.bilibili.com/video/BV1Kg411T7t9?p=43&amp;spm_id_from=pageDriver&amp;vd_source=616a9dd528080cf576646147166fe033">表格案例</a></p><p><a href="https://www.bilibili.com/video/BV1Kg411T7t9?p=44&amp;spm_id_from=pageDriver&amp;vd_source=616a9dd528080cf576646147166fe033">表单案例</a></p><hr><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Hexo</title>
      <link href="/posts/Hello.html"/>
      <url>/posts/Hello.html</url>
      
        <content type="html"><![CDATA[<!-- Front-mattertitle:date:updated:type:comments:description:keywords:top_img:mathjax:katex:aside:aplayer:highlight_shrink: --><!-- <video id="video-bg" autoplay muted loop style="width: 100%">    <source  src="http://go.plvideo.cn/front/video/view?vid=19e11a1d968a647fb6cc921805131113_1"></video> --><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><hr><h2 id="本地查看hexo"><a href="#本地查看hexo" class="headerlink" title="本地查看hexo"></a>本地查看hexo</h2><p>bash运行命令框<br>1.清除本地缓存<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo cl</span><br></pre></td></tr></table></figure><br>2.上传到本地<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure><br>3.本地运行</p><h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure></h2><h2 id="上传到Github"><a href="#上传到Github" class="headerlink" title="上传到Github"></a>上传到Github</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/manifest.json"/>
      <url>/manifest.json</url>
      
        <content type="html"><![CDATA[{"name":"roydon`blog","short_name":"roydon","theme_color":"#49b1f5","background_color":"#49b1f5","display":"standalone","scope":"/","start_url":"/","icons":[{"src":"/img/siteicon/16.png","sizes":"16x16","type":"image/png"},{"src":"/img/siteicon/32.png","sizes":"32x32","type":"image/png"},{"src":"/img/siteicon/48.png","sizes":"48x48","type":"image/png"},{"src":"/img/siteicon/64.png","sizes":"64x64","type":"image/png"},{"src":"/img/siteicon/128.png","sizes":"128x128","type":"image/png"},{"src":"/img/siteicon/144.png","sizes":"144x144","type":"image/png"},{"src":"/img/siteicon/512.png","sizes":"512x512","type":"image/png"}],"splash_pages":null}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>相册</title>
      <link href="/Gallery/index.html"/>
      <url>/Gallery/index.html</url>
      
        <content type="html"><![CDATA[<p><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/hutao_hai.gif" alt="hutao"/></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://genshin-card.getloli.com/rand/76907318.png" alt=""></p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://w.wallhaven.cc/full/g8/wallhaven-g85vp3.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">电脑壁纸</div>  <p>皑如山上雪</p>  <a href='/Gallery/wallpaper'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://w.wallhaven.cc/full/k7/wallhaven-k7wor1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">二刺螈</div>  <p>皎若云间月</p>  <a href='/Gallery/twospace'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://w.wallhaven.cc/full/j3/wallhaven-j3g7yy.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">手机壁纸</div>  <p>闻君有两意</p>  <a href='/Gallery/phone'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://w.wallhaven.cc/full/y8/wallhaven-y8vlox.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">原神</div>  <p>故来相决绝</p>  <a href='/Gallery/genshin'></a>  </figcaption>  </figure>  </div><!-- 恢复默认背景 --><button class="to-default-bg" onclick="localStorage.removeItem('blogbg');location.reload();" style="background:pink;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;">点我换回·<mark class="hl-label pink">默认壁纸</mark> ·ﾉ(._.`)ヾ(≧▽≦*)o </button><br/><div class="note pink icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>告诉你个小秘密：<br>    <mark class="hl-label pink">单击</mark> 相册中的图片有奇妙的事情发生哦！</p></div><div class="tabs" id="$"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#$-1"><i class="fas fa-bomb"></i>描述</button></li><li class="tab"><button type="button" data-href="#$-2">友情链接</button></li><li class="tab"><button type="button" data-href="#$-3">关于</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="$-1"><p><strong>This is descripation</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-2"><p><strong>This is 友情链接.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="$-3"><p><strong>This is 关于.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>![](https://i.postimg.cc/7ZG40xjr/mc-bg-o1.jpg)<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>8-21</p></div></div><div class='timeline-item-content'><p><img class="inline-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/rd/wallhaven-rdp987.jpg" style="height:100px"/></p></div></div></div><div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-20</p></div></div><div class='timeline-item-content'><div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/rd/wallhaven-rdp987.jpg" alt=""></p>          </div></div></div></div><div class="btn-center"><a class="btn-beautify outline pink larger" href="https://github.com/roydonGuo/roydonGuo.github.io"   title="github"><i class="far fa-hand-point-right"></i><span>github</span></a></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于本站</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<!-- <p style="text-align: center;font-size: 20px">文章发布统计</p> --><!-- <div id="categories-radar" class="js-pjax"></div> --><div id="genshin-card" class="genshin-card"></div>![](https://genshin-card.getloli.com/rand/76907318.png)<div id="posts-chart" class="js-pjax"></div><div id="posts-calendar" class="js-pjax"></div><h1>建设中</h1>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<div id="categories-chart" class="js-pjax"></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>切换壁纸</title>
      <link href="/changebg/index.html"/>
      <url>/changebg/index.html</url>
      
        <content type="html"><![CDATA[<!-- 恢复默认背景 --><button onclick="localStorage.removeItem('blogbg');location.reload();" style="background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i> 点我恢复默认背景</button><h2 id="图片（手机）"><a href="#图片（手机）" class="headerlink" title="图片（手机）"></a>图片（手机）</h2><div class="bgbox"><a href="javascript:;" style="background-image:url(https://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)" class="pimgbox" onclick="changeBg('url(https\://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)')"></a></div><h2 id="图片（电脑）"><a href="#图片（电脑）" class="headerlink" title="图片（电脑）"></a>图片（电脑）</h2><div class="bgbox"><a href="javascript:;" style="background-image:url(https://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)" class="imgbox" onclick="changeBg('url(https\://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)')"></a></div><h2 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h2><div class="bgbox"><a href="javascript:;" class="box" style="background: linear-gradient(to right, #eecda3, #ef629f)" onclick="changeBg('linear-gradient(to right, #eecda3, #ef629f)')"></a></div><h2 id="纯色"><a href="#纯色" class="headerlink" title="纯色"></a>纯色</h2><div class="bgbox"><!-- 拾色器，可自定义颜色 --><input type="color" id="color"><a href="javascript:;" class="box" style="background: #7D9D9C" onclick="changeBg('#7D9D9C')"></a></div><!-- 监听拾色器 --><script>document.getElementById('color').addEventListener('change', (e) => { changeBg(e.path[0].value); })</script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>留言板</title>
      <link href="/comments/index.html"/>
      <url>/comments/index.html</url>
      
        <content type="html"><![CDATA[<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/yaseng/jquery.barrager.js/dist/js/jquery.barrager.min.js"></script><style>/* 评论弹幕 */.barrage {    position: fixed;    right: -500px;    display: inline-block;    width: fit-content;    z-index: 99}.barrage_box {    display: flex;    background-color: rgba(0, 0, 0, .5);    padding-right: 8px;    height: 40px;    border-radius: 25px;}.barrage_box .portrait {    display: inline-block;    margin-top: 4px;    margin-left: 4px;    width: 32px;    height: 32px;    border-radius: 50%;    overflow: hidden;}.barrage_box .portrait img {    width: 100%;    height: 100%;}.barrage_box div.p a {    display: inline-block;    white-space: nowrap;    max-width: 25rem;    margin-right: 2px;    font-size: 14px;    line-height: 40px;    margin-left: 10px;    overflow: hidden;    text-overflow: ellipsis;    text-decoration: none;}.barrage_box div.p a:hover {    text-decoration: underline;}</style>书写markdown区域<div id="loading"></div><script>let ls = []let Num = 0;// 以下注释为twikoo api的返回格式// 返回 Array，包含最新评论的//   * id:           评论 ID//   * url:          评论地址//   * nick:         昵称//   * mailMd5:      邮箱的 MD5 值，可用于展示头像//   * link:         网址//   * comment:      HTML 格式的评论内容//   * commentText:  纯文本格式的评论内容//   * created:      评论时间，格式为毫秒级时间戳//   * avatar:       头像地址（0.2.9 新增）//   * relativeTime: 相对评论时间，如 “1 小时前”（0.2.9 新增）// 返回示例: [ // 从新到旧顺序//   { id: '', url: '', nick: '', mailMd5: '', link: '', comment: '', commentText: '', created: 0 },//   { id: '', url: '', nick: '', mailMd5: '', link: '', comment: '', commentText: '', created: 0 },//   { id: '', url: '', nick: '', mailMd5: '', link: '', comment: '', commentText: '', created: 0 }// ]window.onload = () => {    // 手机端显示效果不好，所以直接不让其显示    if (1&&document.body.clientWidth > 768) {        // 加载动画，将 /img/loading.svg 换成你的加载图片即可        document.getElementById('loading').innerHTML = '<a href="/img/loading.svg" data-fancybox="gallery" data-caption="弹幕加载中..." data-thumb="/img/loading.svg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/loading.svg" data-lazy-src="/img/loading.svg" alt="弹幕加载中..." data-ll-status="loaded" class="entered loaded"></a><div class="img-alt is-center">弹幕加载中...</div>';        let barrageTime = ''        // 使用twikoo 自带api请求全站数据        twikoo.getRecentComments({            envId: 'https://twikoo.leonus.cn/', // 环境 ID            // region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数            pageSize: 50, // 获取多少条，默认：10，最大：100            includeReply: false // 是否包括最新回复，默认：false        }).then((data) => {            data.forEach(i => {                if (i.avatar == undefined) i.avatar = 'https://cravatar.cn/avatar/d615d5793929e8c7d70eab5f00f7f5f1?d=mp'                ls.push({                    img: i.avatar, //图片                     info: i.nick + '：' + formatDanmaku(i.comment), //文字                     href: i.url, //链接                     close: false, //显示关闭按钮                     speed: 15, //延迟,单位秒,默认6                     // bottom: 70, //距离底部高度,单位px,默认随机                     color: '#fff', //颜色,默认白色                     old_ie_color: '#000000', //ie低版兼容色,不能与网页背景相同,默认黑色                 })            });            setTimeout(() => { document.getElementById('loading').innerHTML = ''; }, 2000);            setInterval(() => {                if (Num >= ls.length) Num = 0                $('body').barrager(ls[Num]);                Num++;            }, 1000); // 弹幕间隔时长        }).catch(function(err) { console.error(err); });    }else document.getElementById('loading').innerHTML = '<div class="note danger flat"><p>已关闭弹幕功能，请在电脑上查看。</p></div>' // 如果是手机则提醒}// 格式化评论function formatDanmaku(str) {    str = str.replace(/<\/*br>|[\s\uFEFF\xA0]+/g, '');    str = str.replace(/<img.*?>/g, '[图片]');    str = str.replace(/<a.*?>.*?<\/a>/g, '[链接]');    str = str.replace(/<pre.*?>.*?<\/pre>/g, '[代码块]');    str = str.replace(/<.*?>/g, '');    return str}</script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/ali_font.css"/>
      <url>/css/ali_font.css</url>
      
        <content type="html"><![CDATA[/* .icon-bilibili:before {  content: "\e609";  color: blue;  font-size: 24px;} */@font-face {  font-family: "iconfont"; /* Project id 3603575 */  /* Color fonts */  src:        url('//at.alicdn.com/t/c/font_3603575_n3f5a4f0dwc.woff2?t=1662089684855') format('woff2'),       url('//at.alicdn.com/t/c/font_3603575_n3f5a4f0dwc.woff?t=1662089684855') format('woff'),       url('//at.alicdn.com/t/c/font_3603575_n3f5a4f0dwc.ttf?t=1662089684855') format('truetype');}.iconfont {  font-family: "iconfont" !important;  font-size: 18px !important;  font-style: normal;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.icon-aixin:before {  content: "\f4cf";}.icon-a-tupianyihuifu-14:before {  content: "\e605";}.icon-sousuowendang:before {  content: "\e607";}.icon-yueliang:before {  content: "\e662";}.icon-taiyang:before {  content: "\e6db";}.icon-kaixin:before {  content: "\e6c8";}.icon-tubiaozhizuomobanyihuifu-:before {  content: "\e6a3";}.icon-ziyuan:before {  content: "\e606";}.icon-shanchu:before {  content: "\e641";}.icon-yinliugongju:before {  content: "\e601";}.icon-dianying:before {  content: "\e6c6";}.icon-yinle:before {  content: "\e627";}.icon-fenlei:before {  content: "\f7fd";}.icon-xiangce:before {  content: "\ffc4";}.icon-hudiejie:before {  content: "\e6a4";}.icon-yaoqinghaoyou:before {  content: "\ffbb";}.icon-guidang:before {  content: "\e6b9";}.icon-fabu-:before {  content: "\e6ad";}.icon-pinglun2:before {  content: "\1007b";}.icon-wulitu_jisuanji:before {  content: "\e6b4";}.icon-redis:before {  content: "\e669";}.icon-tags1:before {  content: "\e663";}.icon-social-wechat:before {  content: "\e624";}.icon-csdn:before {  content: "\e638";}.icon-github:before {  content: "\e722";}.icon-email:before {  content: "\e6a1";}.icon-guest-list:before {  content: "\e920";}.icon-bingsha:before {  content: "\e698";}.icon-social-qq:before {  content: "\e626";}.icon-icon_Cat:before {  content: "\e61c";}.icon-yulezhongxin:before {  content: "\e61f";}.icon-Cat:before {  content: "\e9e7";}.icon--article:before {  content: "\e651";}.icon-links:before {  content: "\e7aa";}.icon-bilibili:before {  content: "\e609";}.icon-categories:before {  content: "\e6a0";}.icon-pinglun:before {  content: "\e642";}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/aplayer.css"/>
      <url>/css/aplayer.css</url>
      
        <content type="html"><![CDATA[/* 音乐播放器 *//* .aplayer .aplayer-lrc {      display: none !important;    } */.aplayer.aplayer-fixed .aplayer-body {    border-radius: 0 8px 8px 0 !important;}.aplayer.aplayer-fixed .aplayer-miniswitcher {    background: transparent;}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-miniswitcher .aplayer-icon {    border-radius: 0 8px 8px 0 !important;}.aplayer {    background: rgba(69, 39, 78, 0.5) !important;}.aplayer .aplayer-list ol li.aplayer-list-light {    background: rgba(229, 124, 142, 0.5) !important;}.aplayer.aplayer-fixed .aplayer-list {    margin-bottom: 65px;    border: 1px solid #000 !important;    border-bottom-color: rgb(0, 0, 0) !important;    border-bottom-style: solid;    border-bottom-width: 1px;    border-bottom: none;}.aplayer-list-index {    color: hotpink !important;}.aplayer-list-title,.aplayer-list-author {    color: yellow !important;}.aplayer .aplayer-pic {    border-radius: 33px;}.aplayer.aplayer-fixed {    position: fixed;    bottom: 0;    left: 0;    right: 0;    margin: 0;    z-index: 99;    overflow: visible;    max-width: 300px !important;    box-shadow: none;}.aplayer.aplayer-fixed .aplayer-body {    position: fixed;    bottom: 0;    left: 0;    right: 0;    margin: 0;    z-index: 99;    background: rgb(0, 0, 0, .01) !important;    padding-right: 18px;    transition: all .3s ease;    max-width: 300px !important;}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {    left: -66px !important;    transition: all 0.3s;    /* 默认情况下缩进左侧66px，只留一点箭头部分 */}#categoryBar .categoryBar-list .categoryBar-list-item {    background-size: cover !important;}.aplayer.aplayer-fixed .aplayer-info {    background: url(https://w.wallhaven.cc/full/28/wallhaven-28eqqx.jpg) no-repeat center;    background-size: cover;    font-weight: 700 !important;    color: hotpink !important;}.blog-slider__img {    width: 270px !important;}.aplayer.aplayer-fixed {    border-radius: 10px;}.aplayer span {    color: yellow;}.aplayer .aplayer-info .aplayer-music .aplayer-author {    color: yellow;}.aplayer.aplayer-fixed .aplayer-list {    border-radius: 10px;}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-time-inner {    color: hotpink;}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {    left: 0 !important;    transition: all 0.3s;    /* 鼠标悬停是左侧缩进归零，完全显示按钮 */}.aplayer.aplayer-fixed {    z-index: 999999 !important;}.aplayer .aplayer-miniswitcher {    background-color: pink;    border-radius: 0 8px 8px 0 !important;}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-miniswitcher .aplayer-icon {    background: pink;    opacity: .5;}/* 播放器大小 */.music-player {    width: 450px;    height: 500px;  }  .music-player h3{    margin: 0px 0 1px!important;  }  @font-face {font-family: "iconfont";    src: url('iconfont.eot?t=1537976418058'); /* IE9*/    src: url('iconfont.eot?t=1537976418058#iefix') format('embedded-opentype'), /* IE6-IE8 */    url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAmcAAsAAAAADgwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFY8lGHxY21hcAAAAYAAAACUAAACBGvSDaxnbHlmAAACFAAABUMAAAbwatoOAWhlYWQAAAdYAAAALwAAADYSwtboaGhlYQAAB4gAAAAcAAAAJAfeA4tobXR4AAAHpAAAAA8AAAAoKAAAAGxvY2EAAAe0AAAAFgAAABYIpgZ4bWF4cAAAB8wAAAAdAAAAIAEYAGNuYW1lAAAH7AAAAUUAAAJtPlT+fXBvc3QAAAk0AAAAZQAAAJSspZ5ZeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkYWCcwMDKwMHUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGByeyf3/z9zwv4EhhrmBoQEozAiSAwD0fA0ZeJztkcENwjAQBMdxCAQhQgU88qYeesBKGoh48aLSS7oIa1+QKIKzxtKedWdpF9gBUdxEDeFNINdL3VD6kWPp19ylzxyoaOxqvSUb57RM6wqbHr76p4Jm/Fx0oNGfUVtabdzrueFfp3I/N9VmPx25hfVOzsqSkzOzwZGX2Ojk2Tk5Oc9lcuR0x6OQE+lIBag+4Pgp1HicbVVrjBNVFJ5z796Zvu482plOH0tLZ9rp7hba0m5bZLuUhwZNQEB2F7airBDlERd5/IX4b+MPE3/wUhMTEkLEQAwkhpAIgcCaGI3xpyQqwb/orgsmGs129Ex3UWJoJufec+43PfN955wZgQjC37/SL6giGEKvIESgHjWNHBpNhnzOQAPOILCaH2psI9xP9BNQ4gNACqb7kBRi7lKVbnEvuU2YhhG4ADuUUOn0bUUpdl4e0JU7J9HAuFYEZ3bWveNOz8wI+PtfTj+ITr7G0GirwWQ1NBDVIWf4wcjRz9ylsQJxH5oFAgNxUEh/Au6r85cx3bTbdC/BdvdjRR84eQcNOV9UlNunSyHFvRAuut/PzEAThmdnMWcP5nxA99F9giZkhKIwJAhmEbyMjYoJKdBFCUQqg6mJUbPegLqDxCOWU29BPQWiAqL0pHO3UAGoFJZaRE2l0+nOo2w6IQPICS1K5CxYnTmj45Noj48FRMKknq8854Ou835PFJoVcrbSBN29rJXqpbB7RacbSJ/cmVD6CIRgs1HWYWuw82UwSBmlgQBl5DjuJyj1oyWLGn5Na7QhKEJaEMCWwdD0qFlFQqh3Dn1JS8Fjn/zeStp2spWwAWy3vDrprcmFhTZw2wl3jxJkduHoSd+rGcV8f9Cb1C/khPXCGGbEBHjZljNYb3hZ8Krm0amksXooER60wHQsUU+DjVI7MkTNFAyBJOrRCio5mIcqPmHUrKDYCMBH1qPkkfPuuolPnx+KxGKRofJHG9sfDq9s8oQtT4VCU7KV5E0i2wneXNn70nLZjgNf/3oJAUnLA8x/PmTvHOBqJA5y662a9yekxI6v3fUejediwN7ZOP42XcUzidAUz/KpUCLLV//EE1l5GNYUOCSzvPXsKm4lOB6HYC9dlw9Bb5YPbQCI5eKLOqDZT34RkqjEWk95SxIlz3j6D0Eam6mKa72hOdQpga1VReynRn3QsRRUoavHogRmtIIqEE44v+HfG+FKIrK/NhGLAeckLkmWOvrasWNkxyFg45KsSuNtSeViuy1yVWqPS6oskZ/95wIhVXUfRBKlrRHD39NLTvd2dskvjEAv2bzbnW6LGpfGxyWueTf+u+/Ow4/0IrVxHvqFljCKTLCeBSzrEvB4VKJpwKoUACuDI4mBegPfC0hSzDfEIvLDghc9CM5rCgxdNBejtf+iJs5E5x5HDcLxeLiq2fzenz7DX82VcXrsqt/wAZUjEfmKTwtSKdsH0JeTIKhJy1as0LuxTaMwuqkbGnkV4BVy91owBHHtejjGg9feZz4oZ6/bFZ/4XdAfnp8L+4M/MKJobMnW4rIXU6ImEzG7q/7M7m9wtjWxeXH3zvMtjAJ77uobb95YnKNb9BZdIzjCJkHIZbAfZawpVq4ILWRR7XJTIIN0a9jd0SUoEWTyDopS9URKgYIR7HA8bUEGZwLxljOM95KrLi8rQAzFp7LJAAlNMtWn6D7WD3NjB4mW0ugp14K5sroI8ZPggccQV912eAEysDwQUTQfmwj0BvYwBroicZanh0bGFE1TxiZPkE+eimBHxtpyOCxvP3qmO783uzzzwubu/Fqix0TKeBUbdPKW91rr0qlipZH+AmGHVeoelUYGu8PQvWHF0e2qY1uihL28wDjKNFsyGxo9q2jk4Jir9jOf3uUUhECXtoFfjjL8duQU1eavIOjwNph7DDoQJP5FkFp2VQ8D35a3qMNwDgmOHKJ5xiVFB8b2IMMJ5tOUSGA5PTGJCmwJy+2xI+ypCHLm6HY5fBTWrOrvd//Ccv8D5gQugwB4nGNgZGBgAOJ0oeli8fw2Xxm4WRhA4PrFk0kI+v9+FgbmDCCXg4EJJAoAItUKtAB4nGNgZGBgbvjfwBDDwgACQJKRARVwAQBHEAJzeJxjYWBgYCECAwADmAApAAAAAAAAOgB0ANwBFAGYAfwCgAL0A3gAAHicY2BkYGDgYghnYGEAASYwjwtI/gfzGQASMwF8AAAAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbcrBCoNADATQjLau3dWPjBTdaInINqD9+gb06MBc3gxVdCbSfSIq1HjgiQYBLV6ISJRKZp0OKXm1sBjLLNoM6+gYfqxf0SkVc73MZ39r6/2IQ7+bZmM95+7NutlFRH+UdSMxAAAA') format('woff'),    url('iconfont.ttf?t=1537976418058') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/    url('iconfont.svg?t=1537976418058#iconfont') format('svg'); /* iOS 4.1- */  }    .icon-prev:before { content: "\f0069"; }    .icon-next:before { content: "\f006a"; }    .icon-play:before { content: "\e66a"; }    .icon-pause:before { content: "\e76a"; }    .icon-random:before { content: "\e622"; }    .icon-muted:before { content: "\e61e"; }    .icon-volume:before { content: "\e87a"; }    .icon-loop:before { content: "\e66c"; }    .icon-single:before { content: "\e66d"; }      /* 播放器位置 */  .music-player {    position: relative;    margin: 0px auto;  }    /* 歌曲列表 */    .music-player__list {    width: 100%;    padding: 10px;    margin-top: 30px;    background: rgba(134, 81, 81, 0.5);    border-radius: 5px;    -webkit-box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);  }    .music__list__item {    padding-left: 25px;    color: rgb(235, 226, 226);    position: relative;    margin-bottom: 10px;    font-size: 14px;    font-weight: 800;    cursor: pointer;  }    .music__list__item:last-of-type {    margin: 0;  }    .music__list__item.play {    color: rgb(242, 87, 139);    font-weight: 900;  }    .music__list__item.play:before {    font-family: 'iconfont';    content: "\e87a";    position: absolute;    left: 0px;    top: 4px;  }  /* 播放器主体 */  .music-player__main {    height: 180px;    padding: 25px;    box-shadow: 0 0 10px rgba(146, 42, 42, 0.529);    /* background: rgba(0,0,0,.8); */    border-radius: 10px;    position: relative;    overflow: hidden;  }    /* 播放器主体模糊背景 */  .music-player__blur {    width: 100%;    height: 100%;    position: absolute;    background-size: 100%;    left: 0;    top: 0;    z-index: -1;    -webkit-filter: blur(20px);    filter: blur(20px);  }  /* 播放器唱片效果 */  .music-player__disc {    float: left;    width: 130px;    height: 130px;    background: url(/img/cd.png) no-repeat center;    background-size: 100%;    position: relative;  }    /* 唱片指针 */  .music-player__pointer {    width: 25px;    position: absolute;    right: -10px;    top: 0;    -webkit-transform-origin: right top;    -ms-transform-origin: right top;    transform-origin: right top;    -webkit-transform: rotate(-15deg);    -ms-transform: rotate(-15deg);    transform: rotate(-15deg);    -webkit-transition: all 0.3s;    -o-transition: all 0.3s;    transition: all 0.3s;  }    /* 唱片指针播放状态 加play类名 */  .music-player__pointer.play {    -webkit-transform: rotate(0deg);    -ms-transform: rotate(0deg);    transform: rotate(0deg);  }    /* 唱片歌曲图片 */  .music-player__image {    width: 80px;    height: 80px;    border-radius: 50%;    position: absolute;    overflow: hidden;    left: 0;    right: 0;    top: 0;    bottom: 0;    margin: auto;  }  /* 播放器控件 */  .music-player__controls {    width: 250px;    height: 130px;    float: right;  }    /* 歌曲信息 */  .music__info {    width: 100%;    height: 50px;    margin-bottom: 15px;  }    .music__info .music__info--title {    color: #fff;  }    .music__info .music__info--title {    font-size: 16px;  }  /* 控件 */    .player-control {    width: 100%;  }    .player-control__content {    overflow: hidden;  }    /* 播放暂停按钮 */  .player-control__btns {    float: left;    overflow: hidden;  }    .player-control__btn {    float: left;    margin: 0 5px;    font-weight: bolder;    color: #fff;    cursor: pointer;  }    .player-control__volume {    float: right;    overflow: hidden;  }    .control__volume--progress {    float: left;    width: 100px;    position: relative;    top: 8px;  }    .player__song--timeProgess{    font-size: 12px;    color: #fff;    padding: 0px 3px;    background: rgba(184, 52, 52, 0.3);    border-radius: 5px;  }    .player-control__content .nowTime{    float: left;  }  .player-control__content .totalTime{    float: right;  }    .music-player .progress {    background: rgba(231, 50, 50, 0.3);    height: 5px;    -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) inset;    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) inset;    overflow: hidden;    margin: 0.5rem 0!important;    border-radius: 2px;    position: relative;    cursor: pointer;  }    .music-player .progress .back {    width: 0px;    height: 100%;    border-radius: 2px;    background: rgb(12, 182, 212);  }    .music-player .progress .pointer {    width: 7px;    height: 7px;    background: #fff;    border-radius: 50%;    opacity: 0;    -webkit-transition: opacity 0.3s;    -o-transition: opacity 0.3s;    transition: opacity 0.3s;    position: absolute;    top: -1px;    left: 0;  }    .music-player .progress:hover .pointer {    opacity: 1;  }      /* 播放 画片 动画 */    @-webkit-keyframes disc {    from {        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }      to {        -webkit-transform: rotate(360deg);        transform: rotate(360deg);    }  }    @keyframes disc {    from {        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    to {        -webkit-transform: rotate(360deg);        transform: rotate(360deg);    }  }  .music-player__image.play {    -webkit-animation: disc 5s linear 0s infinite;    animation: disc 5s linear 0s infinite;  }  /*  播放进度  */  .player__song--progress {    width: 100%;    margin-top: 15px;  }  .music-player h1, .music-player h2, .music-player h3,.music-player h4, .music-player h5, .music-player h6, .music-player p {    margin: 0; padding: 0;  }  .music-player li { list-style: none; }    ]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://cdn.cbd.int/anzhiyu-blog@latest/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} *//* @import "//at.alicdn.com/t/c/font_3603575_86n1rki3ukk.css"; *//* @font-face {    font-family: ZhuZiAYuanJWD;    src: url(https://cdn.cbd.int/anzhiyu-blog@latest/fonts/ZhuZiAWan.woff2);    font-display: swap;    font-weight: lighter;} *//* CDN 服务仅供平台体验和调试使用，平台不承诺服务的稳定性，企业客户需下载字体包自行发布使用并做好备份。 */@font-face {    font-family: "阿里妈妈数黑体 Bold";    font-weight: 700;    src: url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/UcHLIMn7LM0lPSz8d5U7n.woff2") format("woff2"),        url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/r47k1bk_QB8W0K3Pog6Kb.woff") format("woff");    font-display: swap;}/* CDN 服务仅供平台体验和调试使用，平台不承诺服务的稳定性，企业客户需下载字体包自行发布使用并做好备份。 */@font-face {    font-family: "阿里巴巴普惠体 2.0 105 Heavy";    font-weight: 900;    src: url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/H029AUwhXBHEMJYgO_mpQ.woff2") format("woff2"),        url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/uxCheG_HUTBHyqkAihfLM.woff") format("woff");    font-display: swap;}.bangumi-item .bangumi-picture img {    border-radius: 6px;}/* 主页中间博客名位置 */#page-header.full_page #site-info {    top: 38%;}.card-category-list,.card-tag-cloud {    border: 2px solid hotpink;    border-radius: 8px;}/* 两款主题同一透明度0.8 */#vpanel {    opacity: .8;}/* 蕾姆rem看板娘 */#paul {    left: 0;    bottom: 0;    z-index: 520;    /* 如果模型被遮住可以把它改的更大 */    position: fixed;    pointer-events: none;    /* 防止遮住鼠标点击页面其他内容 */}#pagination {    margin: 0 auto;}/* 宽屏模式 *//* 视频背景 */#video-bg {    position: fixed;    right: 0;    bottom: 0;    min-width: 100%;    min-height: 100%;    width: auto;    height: auto;    z-index: -9999;    /*灰色调*/    /*-webkit-filter:grayscale(100%)*/}/* 导航栏隐藏 *//* .menus_item_child{    color: white;  } */#aside-content .card-archives ul.card-archive-list>.card-archive-list-item a:hover,#aside-content .card-categories ul.card-category-list>.card-category-list-item a:hover {    border-radius: 8px;}.article-sort-item-img {    border-radius: 8px;    width: 150px;    margin-right: 10px;}.article-sort-item-info {    border-left: 4px solid black;    border-radius: 20px;}.article-sort-item-title {    font-weight: 900;    font-size: 20px;}.article-sort-item-title:hover {    color: hotpink;}#aside-content #card-toc .toc-content .toc-link.active {    background: hotpink;    border-radius: 8px;}h1#site-title {    font-family: "阿里妈妈数黑体 Bold";    font-size: 3em !important;}a.article-title,a.blog-slider__title,a.categoryBar-list-link,h1.post-title {    font-family: "阿里巴巴普惠体 2.0 105 Heavy";}/* #aside-content .card-webinfo {    background: url('https://img1.imgtp.com/2022/08/24/tSMdJ5gW.png');} */#aside-content .card-widget:last-child {    background: url('https://img1.imgtp.com/2022/08/24/tSMdJ5gW.png');    background-repeat: no-repeat;    background-position: left;    background-size: cover;    background-origin: padding-box;    background-clip: border-box;    color: hotpink;    font-weight: 800;    font-size: 16px;}#aside-content .card-webinfo .webinfo .webinfo-item {    padding: 0 10px;}/* blog-slider__img *//* .blog-slider__pagination .swiper-pagination-bullet {    background: #6b0a1a;    background: #6b0a1a;  }  .blog-slider__pagination .swiper-pagination-bullet-active{    background: #33040b;  } *//* 首页磁贴卡片美化 */#recent-posts>.recent-post-item {    border: 2px solid black;}#recent-posts>.recent-post-item:hover {    border: 2px solid pink;}#recent-posts>.recent-post-item>.recent-post-info>.article-title:hover {    color: rgb(251, 169, 183);    font-size: 1.23em;}/* 时间轴生肖icon */svg.icon {    /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */    width: 1em;    height: 1em;    /* width和height定义图标的默认宽度和高度*/    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;}.icon-zhongbiao::before {    color: #f7c768;}.tk-meta-input .el-input-group__prepend {    background-color: pink;}/* bilibli番剧插件 */.bangumi-active {    background: #dbecfe !important;    border-radius: 10px !important;}a.bangumi-tab:hover {    text-decoration: none !important;}.bangumi-button:hover {    background: #dbecfe !important;    border-radius: 10px !important;}a.bangumi-button.bangumi-nextpage:hover {    text-decoration: none !important;}.bangumi-button {    padding: 5px 10px !important;}a.bangumi-tab {    padding: 5px 10px !important;}svg.icon.faa-tada {    font-size: 1.1em;}/* 解决artitalk的图标问题 */#uploadSource>svg {    width: 1.19em;    height: 1.5em;}/* 侧边时钟样式修改 */#hexo_electric_clock .clock-row {    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;    font-weight: 600;}.card-clock-time {    font-family: DS-Digital;    background: linear-gradient(to right, #79fff4, #005eff);    -webkit-background-clip: text;    color: transparent;}#pagination.pagination-post {    border: 2px dashed pink;}#post>.post-content {    font-weight: 600;}.contrib-number:hover {    color: rgb(253, 82, 167);}/* 分类页面 */.category-list-item {    font-size: 20px;    font-weight: 900;}.relatedPosts>.relatedPosts-list>div {    height: 140px;}/* 最新文章图标 */.newPost-left,.newPost-right {    position: absolute;    top: 0;    color: black;    height: 1.2em;    font-weight: 700;    text-align: center;    line-height: 0.8em;    padding: 0 3px;    background-color: pink;    border-radius: 0 0 5px 5px;    border: 1px groove hotpink;    border-top: 0;}.newPost-left:hover {    height: 1.25em;    color: black;    background-color: hotpink;    border-top: 1px solid hotpink;    line-height: 0.9em;}.newPost-left {    left: 4px;}.newPost-right {    left: 4px;}.newPost-right:hover {    height: 1.25em;    color: black;    background-color: hotpink;    border-top: 1px solid hotpink;    line-height: 0.9em;}#recent-posts>.recent-post-item {    position: relative;}/* 魔改标签 */.tag-cloud-list {    font-weight: 800;    border-radius: 8px;    border: 2px solid hotpink;}.tag-cloud-list a {    border-radius: 8px;    margin: 5px 5px;    border: 1px solid transparent;}#aside-content .card-info .author-info__name {    font-weight: 900;    font-size: 1.99em;}/* 公告栏 */.aside-content .item-headline:first-child {    color: hotpink;    font-weight: 800;}.announcement_content {    font-weight: 700;}.recent-posts .recent-post-item .content {    font-family: 'STXingkai', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */#page-header:not(.not-top-img):before {    /* background-color: transparent !important; */    background-color: transparent;}[data-theme='dark'] #web_bg:before,[data-theme='dark'] #page-header:before {    position: absolute;    width: 100%;    height: 100%;    background-color: transparent !important;    content: '';}/* 文章总览修改 */.article-sort-title {    font-size: 2.33em;    font-weight: 900;}#post .tag_share .post-meta__tags {    font-size: 0.9em;    border: 1px solid blueviolet;    color: hotpink;}#pagination .page-number.current {    border-radius: 5px;}/* 首页文章卡片 */#recent-posts>.recent-post-item {    background: rgba(255, 255, 255, 0.9);}/* 首页侧栏卡片 */#aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);}/* 文章页面正文背景 */div#post {    background: rgba(255, 255, 255, 0.9);}/* 分页页面 */div#page {    background: rgba(255, 255, 255, 0.9);}/* 归档页面 */div#archive {    background: rgba(255, 255, 255, 0.9);}/* 标签页面 */div#tag {    background: rgba(255, 255, 255, 0.9);}/* 分类页面 */div#category {    background: rgba(255, 255, 255, 0.9);}/*夜间模式伪类遮罩层透明*/[data-theme='dark'] #recent-posts>.recent-post-item {    background: rgba(0, 0, 0, 0.9);}[data-theme='dark'] .card-widget {    background: rgba(0, 0, 0, 0.9) !important;}[data-theme='dark'] div#post {    background: rgba(0, 0, 0, 0.9) !important;}[data-theme='dark'] div#tag {    background: rgba(0, 0, 0, 0.9) !important;}[data-theme='dark'] div#archive {    background: rgba(0, 0, 0, 0.9) !important;}[data-theme='dark'] div#page {    background: rgba(0, 0, 0, 0.7) !important;}[data-theme='dark'] div#category {    background: rgba(0, 0, 0, 0.9) !important;}/* 头图透明 */#page-header {    background: transparent !important;}#rightside>div>button {    border-radius: 5px;}/* #recent-posts>.recent-post-item {    height: 14.5em;} *//* 鼠标图标 *//* body {    cursor: url('/img/pointer.cur'), auto;}a,[type='button']:not(:disabled),[type='reset']:not(:disabled),[type='submit']:not(:disabled),button:not(:disabled) {    cursor: url('/img/link.cur'), auto !important;} *//* 404页面 */#error-wrap {    position: absolute;    top: 40%;    right: 0;    left: 0;    margin: 0 auto;    padding: 0 1rem;    max-width: 1000px;    transform: translate(0, -50%);}#error-wrap .error-content {    display: flex;    flex-direction: row;    justify-content: center;    align-items: center;    margin: 0 1rem;    height: 18rem;    border-radius: 8px;    background: var(--card-bg);    box-shadow: var(--card-box-shadow);    transition: all 0.3s;}#error-wrap .error-content .error-img {    box-flex: 1;    flex: 1;    height: 100%;    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;    background-color: #49b1f5;    background-position: center;    background-size: cover;}#error-wrap .error-content .error-info {    box-flex: 1;    flex: 1;    padding: 0.5rem;    text-align: center;    font-size: 14px;    font-family: Titillium Web, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif;}#error-wrap .error-content .error-info .error_title {    margin-top: -4rem;    font-size: 9em;}#error-wrap .error-content .error-info .error_subtitle {    margin-top: -3.5rem;    word-break: break-word;    font-size: 1.6em;}#error-wrap .error-content .error-info a {    display: inline-block;    margin-top: 0.5rem;    padding: 0.3rem 1.5rem;    background: var(--btn-bg);    color: var(--btn-color);}#body-wrap.error .aside-list {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    bottom: 0px;    position: absolute;    padding: 1rem;    width: 100%;    overflow: scroll;}#body-wrap.error .aside-list .aside-list-group {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    max-width: 1200px;    margin: 0 auto;}#body-wrap.error .aside-list .aside-list-item {    padding: 0.5rem;}#body-wrap.error .aside-list .aside-list-item img {    width: 100%;    object-fit: cover;    border-radius: 12px;}#body-wrap.error .aside-list .aside-list-item .thumbnail {    overflow: hidden;    width: 230px;    height: 143px;    background: var(--heo-card-bg);    display: flex;}#body-wrap.error .aside-list .aside-list-item .content .title {    -webkit-line-clamp: 2;    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    line-height: 1.5;    justify-content: center;    align-items: flex-end;    align-content: center;    padding-top: 0.5rem;    color: white;}#body-wrap.error .aside-list .aside-list-item .content time {    display: none;}/* 首页文章卡片高度增加1em *//* #recent-posts>.recent-post-item {    height: 19em;} */.contrib-column {    line-height: 1.2;}/* 代码框主题 */#article-container figure.highlight {    border-radius: 10px;}#aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);    border: 2px solid black !important;}#aside-content .card-widget:hover {    border: 2px solid pink !important;}.gitcalendar-graph {    padding: 5px 0 0 !important;}.social-qq:before {    content: "\e626";    /* 修改颜色 */    /* color: blue; */    /* 修改大小 */    font-size: 24px;}span#subtitle:hover {    color: pink;    box-shadow: 2px 2px 1px black;}/* 文章总览页面 */.layout>div:first-child {    /* width: 100%; */}/* 去除aside */.page .aside-content {    /* display: none; */}/* 主题切换背景图片切换 */[data-theme='dark'] #web_bg {    background-image: url("/img/Ender_Dragon.png");}[data-theme='light'] #web_bg {    background-image: url("/img/hutao.jpeg");}#article-container .flink .flink-list>.flink-list-item {    margin: 5px 7px !important;}/* 相册页面原神卡片重设计 */#article-container>p:nth-child(2)>a {    width: 100%;    display: block;    border-radius: 10px;}#article-container>p:nth-child(2)>a>img {    display: block;    width: 100%;    border-radius: 10px;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/loaded_style.css"/>
      <url>/css/loaded_style.css</url>
      
        <content type="html"><![CDATA[.pace {  -webkit-pointer-events: none;  pointer-events: none;  -webkit-user-select: none;  -moz-user-select: none;  user-select: none;  z-index: 2000;  position: fixed;  margin: auto;  top: 8px;  left: 0;  right: 0;  height: 10px;  border-radius: 8px;  width: 6rem;  background: #bac5e7;  border: 1px #f7eb09;  overflow: hidden}.pace-inactive .pace-progress {  opacity: 0;  transition: .3s ease-in}.pace .pace-progress {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  -ms-box-sizing: border-box;  -o-box-sizing: border-box;  box-sizing: border-box;  -webkit-transform: translate3d(0, 0, 0);  -moz-transform: translate3d(0, 0, 0);  -ms-transform: translate3d(0, 0, 0);  -o-transform: translate3d(0, 0, 0);  transform: translate3d(0, 0, 0);  max-width: 200px;  position: absolute;  z-index: 2000;  display: block;  top: 0;  right: 100%;  height: 100%;  width: 100%;  background: linear-gradient(-45deg, #f3a9ce, #ef7da9, #e144aa, #df06a1);  animation: gradient 1.5s ease infinite;  background-size: 200%}.pace.pace-inactive {  opacity: 0;  transition: .3s;  top: -8px}@keyframes gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/nav.css"/>
      <url>/css/nav.css</url>
      
        <content type="html"><![CDATA[/* CDN 服务仅供平台体验和调试使用，平台不承诺服务的稳定性，企业客户需下载字体包自行发布使用并做好备份。 */@font-face {    font-family: "思源宋体 CN VF Regular";    src: url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/gRyhHl3ThWATQBmuOX84e.woff2") format("woff2"),        url("//at.alicdn.com/wf/webfont/jmF1bH9rSbIN/WQDY8KjcBMPEloQD1bmEW.woff") format("woff");    font-display: swap;}/* nav 设置透明 */#page-header.nav-fixed #nav {    background: rgba(60, 49, 57, 0.6)}#page-header.not-top-img #nav {    background: rgba(33, 30, 30, 0.9);}/* nav常驻 *//* .nav-fixed #nav{    transform: translateY(58px)!important;    -webkit-transform: translateY(58px)!important;    -moz-transform: translateY(58px)!important;    -ms-transform: translateY(58px)!important;    -o-transform: translateY(58px)!important;}#nav{    transition: none!important;    -webkit-transition: none!important;    -moz-transition: none!important;    -ms-transition: none!important;    -o-transition: none!important;} */div#menus>.menus_items {    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%, -50%);}div#menus {    font-family: "思源宋体 CN VF Regular";    font-size: 1.2em;    line-height: 1.5;}#nav .site-page-to {    position: relative;    padding-bottom: 6px;    text-shadow: 1px 1px 2px rgba(70, 46, 46, 0.33);    font-size: 0.72em;    cursor: pointer;}#search-button a {    margin: 0 2px;    padding: 7px 8px 0;    border: 1px solid rgba(49, 46, 46, 0.32);    border-radius: 8px;    box-sizing: border-box;    line-height: 1;}#search-button a:hover {    border: 1px solid rgba(90, 80, 82, 0.666);    background-color: rgba(13, 12, 12, 0.096);    border-radius: 8px;    box-shadow: 3px 3px 3px 3px rgb(43, 39, 39);    opacity: 1;}/* #site-name */#nav #site-name {    font-size: 1.2em;}#nav #site-name:hover {    font-weight: 900;}[data-theme='light'] #nav a:hover {    color: blueviolet;}[data-theme='dark'] #nav a:hover {    color: pink;}[data-theme='light'] .menus_item_child span:hover {    color: blueviolet;}[data-theme='dark'] .menus_item_child span:hover {    color: pink;}/* 导航子菜单透明度 */[data-theme='dark'] #nav .menus_items .menus_item .menus_item_child {    background-color: rgba(50, 47, 48, 0.7) !important;}[data-theme='light'] #nav .menus_items .menus_item .menus_item_child {    background-color: rgba(253, 243, 245, .7) !important;}/* 滚动条 */::-webkit-scrollbar {    width: 5px;    height: 10px;}::-webkit-scrollbar-thumb {    background-color: pink;    border-radius: 2em;}::-webkit-scrollbar-corner {    background-color: transparent;}::-moz-selection {    color: rgb(29, 24, 24);    background-color: pink;}/* 页脚透明 */#footer {    background: transparent !important;    height: 66px;}#site-name::before {    opacity: 0;    background-color: pink !important;    border-radius: 15px;    /* -webkit-border-radius: 8px; */    -moz-border-radius: 8px;    -ms-border-radius: 8px;    -o-border-radius: 8px;    transition: .3s;    -webkit-transition: .3s;    -moz-transition: .3s;    -ms-transition: .3s;    -o-transition: .3s;    position: absolute;    top: 0 !important;    right: 0 !important;    width: 100%;    height: 100%;    content: "\f015";    box-shadow: 5px 5px 5px rgb(31, 23, 25);    font-family: "Font Awesome 6 Free";    text-align: center;    color: rgb(65, 250, 250);    line-height: 30px;    /*如果有溢出或者垂直不居中的现象微调一下这个参数*/    font-size: 18px;    /*根据个人喜好*/}#site-name:hover::before {    opacity: 1;    scale: 1.03;}#site-name {    position: relative;    font-size: 24px;    /*一定要把字体调大点，否则效果惨不忍睹！*/}#page-header.not-top-img #nav .back-home-button {    color: plum;}@media screen and (min-width: 900px) {    #nav .back-home-button:hover {        box-shadow: var(--anzhiyu-shadow-main);    }}@media screen and (max-width: 768px) {    .mask-name-container {        width: 600px;    }}@media screen and (max-width: 500px) {    .mask-name-container {        display: none;    }}@media screen and (min-width: 1300px) {    #nav a:hover {        transform: scale(1.03);    }}.back-home-button:hover {    background: pink;    color: purple !important;}.back-home-button {    display: flex;    width: 43px;    height: 80%;    padding: 0 !important;    align-items: center;    justify-content: center;    font-weight: 700;    font-size: 23px;    line-height: 23px;    margin-right: 4px;    transition: 0.3s;    border-radius: 8px;    color: rgb(48, 252, 255);}.back-home-button:hover .back-menu-list-groups {    display: flex;    opacity: 1;    transition: 0.3s;    top: 55px;    pointer-events: auto;    left: 0;}/* 导航栏模糊透视 */#nav {    padding: 0 calc((100% - 1420px) / 2);    transition: 0.3s;    background: block;    backdrop-filter: saturate(180%) blur(20px);    transition: none !important;    -webkit-transition: none !important;    -moz-transition: none !important;    -ms-transition: none !important;    -o-transition: none !important;}.back-home-button .back-menu-list-groups {    position: absolute;    top: 60px;    left: 0;    background: rgba(0, 0, 0, 0.5);    border-radius: 12px;    /* border: 1px dotted pink; */    flex-direction: column;    font-size: 12px;    font-weight: 800;    color: white;    box-shadow: var(--anzhiyu-shadow-border);    transition: 0s;    opacity: 0;    pointer-events: none;}.back-home-button .back-menu-list-group {    display: flex;    flex-direction: column;}.back-home-button .back-menu-list-group .back-menu-list-title {    margin: 8px 0 0 16px;    color: rgb(246, 104, 127);    transition: 0.3s;}.back-home-button .back-menu-list {    display: flex;    flex-direction: column;}.back-home-button .back-menu-list::before {    position: absolute;    top: -22px;    left: 0px;    width: 100%;    height: 25px;    content: '';}.back-home-button .back-menu-list-group:hover .back-menu-list-title {    color: pink;}.back-home-button .back-menu-list-groups:hover {    border: black;}.back-home-button .back-menu-list .back-menu-item {    display: flex;    align-items: center;    margin: 4px 8px;    padding: 4px 8px !important;    transition: 0.3s;    border-radius: 8px;}.back-home-button .back-menu-list .back-menu-item .back-menu-item-text {    font-size: 14px;    margin-left: 0.5rem;    color: whitesmoke;    white-space: nowrap;}.back-home-button .back-menu-list .back-menu-item .back-menu-item-icon {    width: 24px;    height: 24px;    border-radius: 24px;    background: plum;}#page-header #nav .back-home-button {    color: rgb(250, 123, 195);    cursor: pointer;    position: relative;}.back-home-button .back-menu-list .back-menu-item:hover .back-menu-item-text {    color: rgb(181, 17, 199);}.back-menu-item-icon.loading img {    width: 25px;}#site-name,.shuoshuo {    white-space: nowrap;    overflow: hidden;}#site-name {    padding: 0 8px;    position: relative;}#site-name *:not(i):hover {    display: none !important;}#blog_name #site-name:hover::after {    opacity: 1;    transform: scale(1.01);}#blog_name #site-name::after {    opacity: 0;    background-color: pink !important;    border-radius: 15px;    /* -webkit-border-radius: 8px; */    -moz-border-radius: 8px;    -ms-border-radius: 8px;    -o-border-radius: 8px;    transition: 0.3s;    -webkit-transition: 0.3s;    -moz-transition: 0.3s;    -ms-transition: 0.3s;    -o-transition: 0.3s;    position: absolute;    top: 0;    right: 0;    width: 100%;    height: 100%;    content: '\f015';    box-shadow: 0 0 5px black;    font-family: 'Font Awesome 6 Free';    text-align: center;    color: aqua !important;}#site-name i {    position: absolute;    top: 50%;    left: 50% !important;    transform: translate(-50%, -50%);    left: 0;    opacity: 0;}#site-name:hover i {    opacity: 1;}#nav #blog_name {    flex-wrap: nowrap;    height: 60px;    display: flex;    align-items: center;    /* z-index: 102; */    transition: 0.3s;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/opacity.css"/>
      <url>/css/opacity.css</url>
      
        <content type="html"><![CDATA[/* .aside-card-widget {    background-color: rgba(255, 255, 255, 0.8)    }#recent-posts>.recent-post-item {    background-color: rgba(255, 255, 255, 0.8)} */:root {    --card-bg: rgba(250, 250, 250, .8);    /* --page-bg: rgba(0, 0, 0, 0.8); */}#page-header.post-bg {    height: 397px;    /* background-image: '' */}#page-header #post-info {    position: absolute;    bottom: 30px;    padding: 0 8%;    width: 100%;    text-align: center;    margin-bottom: 90px;}#page-header.not-home-page {    height: 200px;}#page-header #page-site-info {    position: absolute;    top: 90px;    padding: 0 10px;    width: 100%;}/* .pagination-post>.prev-post{    border-radius: 8px;} */.pagination-post>.prev-post,.pull-left,.next-post .pull-right {    border-radius: 8px;}.framework-info {    display: none;}#footer-wrap {    padding: 0px 20px}#ghbdages {    margin: 0 auto;}#recent-posts>.recent-post-item .post_cover {    border-radius: 8px;}/* #recent-posts > .recent-post-item {    height: 14.5em;} */#aside-content .aside-list>.aside-list-item .thumbnail>img {    border-radius: 8px;}#aside-content .card-info #card-info-btn {    background: rgb(200, 136, 146);    border-radius: 8px;    margin: 14px 0;}#aside-content .card-info #card-info-btn:hover {    background: #450a4a;    transition: .2s;    font-size: 15px;    /* border-radius: 8px; */    /* margin: 14px 30px; */}#universe {    display: block;    position: fixed;    margin: 0;    padding: 0;    border: 0;    outline: 0;    left: 0;    top: 0;    width: 100%;    height: 100%;    pointer-events: none;    z-index: 1;}/* #web_bg {    position: fixed;    z-index: -999;    width: 100%;    height: 100%;    background: url(/img/mc-cao.jpg);      background-position-x: 0%;      background-position-y: 0%;      background-repeat: repeat;      background-attachment: scroll;      background-size: auto;    background-attachment: local;    background-position: center;    background-size: cover;    background-repeat: no-repeat;  } *//* 侧边栏卡片渐变 */#aside-content>.card-widget.card-info {    background: linear-gradient(-45deg, rgb(99, 60, 67), #450a4a, #280a57, #520b3f);    background-size: 400%;    box-shadow: black;    animation: gradient 15s ease infinite;      position: relative;    color: rgb(233, 239, 239);}.site-data>a .headline,.site-data>a .length-num {    color: rgb(126, 249, 249);}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/postPage.css"/>
      <url>/css/postPage.css</url>
      
        <content type="html"><![CDATA[#post .post-content h1 {    color: rgb(255, 0, 128);}#post .post-content h1::after {    content: 'H1🔽';    color: #5bfef0;    position: absolute;    right: 0%;}#post .post-content h2 {    color: rgb(255, 68, 161);}#post .post-content h2::after {    content: 'H2🔽';    color: #5bfef0;    position: absolute;    right: 0%;}#post .post-content h3 {    color: rgb(255, 120, 188);}#post .post-content h3::after {    content: 'H3🔽';    color: #5bfef0;    position: absolute;    right: 0%;}#post .post-content h4 {    color: rgb(255, 177, 216);}#post .post-content h4::after {    content: 'H4🔽';    color: #5bfef0;    position: absolute;    right: 0%;}/* 博客页面所有图片圆角 */.post-content img {    border-radius: 6px;}/* 标签外挂之tabs */#post .post-content .tabs {    border: 2px solid pink;    border-radius: 0 0 12px 12px;}[data-theme="light"] #post .post-content .tabs {    border: 2px solid black;}#article-container .tabs>.tab-contents .tab-item-content {    padding: 3px 3px;}#article-container .tab-contents i {    font-size: 20px;    color: blue;}/* bilibili视频块区域 */#article-container iframe {    width: 100%;    border-radius: 8px;    min-height: 500px;}/*哔哩哔哩视频适配*//* .aspect-ratio {position: relative;width: 100%;height: 0;padding-bottom: 75%;margin: 3% auto;text-align: center;}      .aspect-ratio iframe {    position: absolute;    width: 100%;    height: 100%;    left: 0;    top: 0;} *//* 代码块UI重设置 */#article-container .code-expand-btn i {    color: pink;}/* reward */.post-reward .reward-button .tip-button__text::after {    content: '(一键三联)';}/* 个人认证，文章版权 */#post .post-copyright {    color: hotpink;    background-color: rgba(76, 67, 73, 0.8);    border-radius: 10px;}/* 文章下面标签 */#post .tag_share .post-meta__tags:hover {    background: #ffc0cb;    color: cyan;    border: 1px solid cyan;}/* 上一篇 || 下一篇 */#pagination.pagination-post {    background: transparent;    border-radius: 10px;}#pagination.pagination-post a:hover {    color: hotpink;    font-size: 19px;}.layout>div:not(.recent-posts) .pagination .page-number {    margin: 0 4px;    min-width: 40px;    height: 40px;    text-align: center;    line-height: 1.8;    font-size: 600;    color: black;    font-size: 20px;    cursor: pointer;    border: 2px solid hotpink;    border-radius: 8px;}/* 相关推荐 */.relatedPosts>.relatedPosts-list>div {    border-radius: 8px;    border: 2px solid pink;}.relatedPosts>.relatedPosts-list>div a:hover {    font-size: 16px;}div#post {    border: 2px solid black;}div#post:hover {    border: 2px solid pink;    box-sizing: border-box;}/* 评论框  */.vwrap {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.5);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 30px 0px;}#article-container a:hover {    color: blue;}/* 设置文字内容 :nth-child(1)的作用是选择第几个 */.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(1):before {    content: '输入你的昵称(自定义)🐧';}.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(2):before {    content: '输入你的邮箱自动获取头像📧';}.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(3):before {    content: '可以通过昵称访问您的网站🔗';}/* 当用户点击输入框时显示 */.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::before,.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::after {    display: block;}.v[data-class="v"] .vcards {    padding: 0 20px;}#post .post-copyright::before {    font-size: 3em;}/* 查看更多背景色去除 */.v[data-class="v"] .vcards .vcard .vcontent.expand::before {    background: none !important;}.v[data-class="v"] .vcards .vcard .vcontent.expand::before {    background: none !important;}.v[data-class=v] .vcards .vcard .vcontent.expand {    max-height: 18em;}.v[data-class=v] .vcards .vcard .vcontent.expand::after {    border-radius: 8px;    color: #00fff6;}/* 主内容区 */.el-input.el-input--small.el-input-group.el-input-group--prepend::before {    /* 先隐藏起来 */    display: none;    /* 绝对定位 */    position: absolute;    /* 向上移动60像素 */    top: -60px;    /* 文字强制不换行，防止left:50%导致的文字换行 */    white-space: nowrap;    /* 圆角 */    border-radius: 10px;    /* 距离左边50% */    left: 50%;    /* 然后再向左边挪动自身的一半，即可实现居中 */    transform: translate(-50%);    /* 填充 */    padding: 14px 18px;    background: #444;    color: #fff;}/* 小角标 */.el-input.el-input--small.el-input-group.el-input-group--prepend::after {    display: none;    content: '';    position: absolute;    /* 内容大小（宽高）为0且边框大小不为0的情况下，每一条边（4个边）都是一个三角形，组成一个正方形。    我们先将所有边框透明，再给其中的一条边添加颜色就可以实现小三角图标 */    border: 12px solid transparent;    border-top-color: #444;    left: 50%;    transform: translate(-50%, -48px);}/* 设置评论框 */.twikoo {    box-shadow: 2px 2px 5px #bbb;    color: black;    background: rgba(117, 222, 249, 0.8);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 0px 0px;}.twikoo .el-input__inner:hover,.twikoo .el-textarea__inner:hover {    border-color: rgba(255, 0, 25, 0.5);}.twikoo input {    color: black;}.tk-content::before {    border-right: 15px solid hotpink;    top: 6px;}.tk-content {    background: hotpink;    padding: 1px 20px;}.tk-content p {    margin: 6px 6px;}/* vcomment评论 */#vcomment {    color: black !important;    background: pink;    border-radius: 10px;    opacity: .8;}.v[data-class="v"] .vcards .vcard .vquote {    border-left: 2px dashed rgba(149, 2, 194, 0.5) !important;}.v[data-class="v"] .vwrap .vheader .vinput {    width: 30% !important;    color: black;    border: 2px solid hotpink !important;    border-radius: 5px !important;    margin: 0 1.6%;    box-sizing: border-box;}.v[data-class="v"] .vwrap .vheader .vinput::placeholder {    color: red;}#vcomment textarea {    color: black;    font-weight: 700;}#vcomment textarea:focus {    border-radius: 8px;    border: 1px solid hotpink;}[data-theme="dark"] .v[data-class="v"] p {    display: inline-block;    color: black !important;    border-radius: 5px;    padding: 10px 11px;    background: rgb(255, 101, 152);    margin-right: 50px;}[data-theme="light"] .v[data-class="v"] p {    display: inline-block;    color: black !important;    border-radius: 5px;    padding: 10px 11px;    background: rgb(255, 101, 152);    margin-right: 50px;}/*  友情连接 */.flink-name {    color: pink;}/* md网站下划线 */#article-container a:hover {    text-decoration: none !important;}#article-container #hpp_talk p img {    display: inline;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/rlink.css"/>
      <url>/css/rlink.css</url>
      
        <content type="html"><![CDATA[/* 重新设置友链样式 *//* 头像微调 */.flink-item-icon {    margin-right: 0 !important;    transition: .5s !important;}.flink-item-name,.flink-item-desc {    padding-left: 10px !important;}/* 去掉原来自带的before */#article-container .flink .flink-list>.flink-list-item::before {    content: none;}/* 鼠标经过改变背景 */#article-container .flink .flink-list>.flink-list-item:hover {    background-color: rgba(56, 20, 38, .6);    box-shadow: 10px 10px 20px rgba(0, 0, 0, .6);}/* 鼠标经过改变文字颜色 */#article-container .flink .flink-list>.flink-list-item:hover a {    color: rgb(247, 209, 138) !important;}/* 鼠标经过头像滚动 */#article-container .flink .flink-list>.flink-list-item:hover .flink-item-icon {    width: 60px;    margin-left: -70px;    -webkit-transform: rotate(-180deg);    -moz-transform: rotate(-180deg);    -o-transform: rotate(-180deg);    -ms-transform: rotate(-180deg);    transform: rotate(-180deg);}#article-container h1:before,#article-container h2:before,#article-container h3:before,#article-container h4:before,#article-container h5:before,#article-container h6:before {    font-family: "iconfont";    content: "\e6a4";}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/catalog_list.js"/>
      <url>/js/catalog_list.js</url>
      
        <content type="html"><![CDATA[// // hexo.extend.helper.register('catalog_list', function (type) {// //     let html = ``// //     hexo.locals.get(type).map(function (item) {// //         html += `// //       <div class="catalog-list-item" id="/${item.path}">// //         <a href="/${item.path}">${(hexo.config.emoji && hexo.config.emoji[item.name] || '') + item.name}<sup>${item.length}</sup></a>// //       </div>// //       `// //     })// //     return html// // })// hexo.extend.helper.register('catalog_list', function (type) {//     let html = ``//     hexo.locals.get(type).map(function (item) {//         html += `   //       <div class="catalog-list-item" id="/${item.path}">//         <a href="/${item.path}">${item.name}<sup>${item.length}</sup></a>//       </div>//       `//     })//     return html// })]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/changebg.js"/>
      <url>/js/changebg.js</url>
      
        <content type="html"><![CDATA[if (location.pathname.substring(0, 6) === '/posts') randomChangeBg(true);var wallhaven = 'https://wallhaven.cc/w/'var backimg = [    "url(https://w.wallhaven.cc/full/3z/wallhaven-3zppld.jpg)",    "url(http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202206/96add8f773bcefc346d1c6fe028da943--1508333962.jpg)",    "url(http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202201/aa6954709fb2b1f2ef25ff73fae3d1e7--4186920932.jpg)",    "url(http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202201/aa6954709fb2b1f2ef25ff73fae3d1e7--4186920932.jpg)",    "url(https://w.wallhaven.cc/full/l3/wallhaven-l3xq62.png)",    "url(https://w.wallhaven.cc/full/e7/wallhaven-e7pwdw.jpg)",    "url(https://w.wallhaven.cc/full/yj/wallhaven-yjk6ml.jpg)",    "url(https://w.wallhaven.cc/full/mp/wallhaven-mprye8.jpg)",    "url(https://w.wallhaven.cc/full/q2/wallhaven-q28x3l.jpg)",    "url(https://w.wallhaven.cc/full/y8/wallhaven-y8wozk.jpg)",    "url(https://w.wallhaven.cc/full/1k/wallhaven-1kzdg1.png)",    "url(https://w.wallhaven.cc/full/wy/wallhaven-wyzxvr.jpg)",    "url(https://w.wallhaven.cc/full/rd/wallhaven-rdolrq.jpg)",    "url(https://w.wallhaven.cc/full/rd/wallhaven-rddgwm.jpg)",    "url(https://w.wallhaven.cc/full/ym/wallhaven-ymz61d.jpg)",    "url(https://w.wallhaven.cc/full/9m/wallhaven-9mjoy1.png)",    "url(https://w.wallhaven.cc/full/z8/wallhaven-z8dp1v.jpg)",    "url(https://w.wallhaven.cc/full/v9/wallhaven-v96m6p.jpg)",    "url(https://w.wallhaven.cc/full/z8/wallhaven-z8e8qy.jpg)",    "url(https://w.wallhaven.cc/full/x8/wallhaven-x8gkpo.jpg)",    "url(https://w.wallhaven.cc/full/k7/wallhaven-k7wor1.jpg)",    "url(https://w.wallhaven.cc/full/2e/wallhaven-2eroxm.jpg)",    "url(https://w.wallhaven.cc/full/e7/wallhaven-e7g71w.jpg)",    "url(https://w.wallhaven.cc/full/83/wallhaven-8396gk.jpg)"];// 随机背景图片function randomChangeBg(flag) {    if (flag) {        setInterval(function () {            //获取背景图片总数，生成随机数            var bgindex = Math.floor(Math.random() * backimg.length)            //重设背景图片            document.querySelector("#web_bg").style.backgroundImage = backimg[bgindex]            console.log(document.querySelector("#web_bg").style.background);        }, 10000)        //随机banner数组,图片可以换成图床链接，注意最后一条后面不要有逗号        // var bannerimg = [        //     "url(/img/bg1.JPG)",        //     "url(/img/bg2.jpg)",        //     "url(/img/bg3.jpg)",        //     "url(/img/bg4.jpg)"        // ];        // https://w.wallhaven.cc/full/g7/wallhaven-g7zzkl.jpg        // //获取banner图片总数，生成随机数        // var bannerindex = Math.floor(Math.random() * bannerimg.length);        // //重设banner图片        // document.getElementById("page-header").style.backgroundImage = bannerimg[bannerindex];    }}var jieliuFlag = truevar timerFafunction randomBg() {    if (jieliuFlag) {        jieliuFlag = false        var bgindex = Math.floor(Math.random() * backimg.length)        //重设背景图片        document.querySelector("#web_bg").style.backgroundImage = backimg[bgindex]        console.log(document.querySelector("#web_bg").style.background);        setInterval(function () {            //获取背景图片总数，生成随机数            var bgindex = Math.floor(Math.random() * backimg.length)            //重设背景图片            document.querySelector("#web_bg").style.backgroundImage = backimg[bgindex]            console.log(document.querySelector("#web_bg").style.background);        }, 10000)    }    // timerFa = setTimeout(function () {    //     jieliuFlag = true;    //   }, 10000)}// 存数据// name：命名 data：数据function saveData(name, data) {    localStorage.setItem(name, JSON.stringify({        'time': Date.now(),        'data': data    }))}// 取数据// name：命名 time：过期时长,单位分钟,如传入30,即加载数据时如果超出30分钟返回0,否则返回数据function loadData(name, time) {    let data = JSON.parse(localStorage.getItem(name));    // 过期或有错误返回 0    let t = 0    if (data != null) t = Date.now() - data.time    if (t < time * 60 * 1000 && t > 0) return data.data;    // 没过期返回数据    return 0;}// 上面两个函数如果你有其他需要存取数据的功能，也可以直接使用// 读取背景try {    let data = loadData('blogbg', 1440)    if (data) changeBg(data, 1)    else localStorage.removeItem('blogbg');} catch (error) {    localStorage.removeItem('blogbg');}// // 切换背景函数// // 此处的flag是为了每次读取时都重新存储一次,导致过期时间不稳定// // 如果flag为0则存储,即设置背景. 为1则不存储,即每次加载自动读取背景.function changeBg(s, flag) {    var bg = document.querySelector('#web_bg')    if (s.charAt(0) === '#') {        bg.style.backgroundColor = s        bg.style.backgroundImage = 'none'    } else bg.style.backgroundImage = s    if (!flag) {        saveData('blogbg', s)    }}var nowBgImgUrl = 'url(/img/hutao.jpeg)'var imgbox = document.querySelector('.fj-gallery')if (imgbox) {    imgbox.addEventListener('click', e => {        if (e) nowBgImgUrl = 'url(' + e.target.src + ')'        changeBg(nowBgImgUrl)    })}// var toHutao = document.querySelector('.to-hutao')// if (toHutao) {//     toHutao.addEventListener('click', e => {//         if(e) changeBg('url(/img/hutao.jpeg)')//     })// }/* 调节视频播放速度 */// var video= document.getElementById('video-bg');// video.playbackRate = 0.5;]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/custom.js"/>
      <url>/js/custom.js</url>
      
        <content type="html"><![CDATA[// /* 右上角切换主题按钮 */// /* icon-taiyang | icon-yueliang */// function darkToLight() {//     var themeCoin = document.querySelector('#dark-theme-coin')//     /* var htmlTheme = document.documentElement.getAttribute('data-theme')//     if (htmlTheme === 'dark') {//         themeCoin.className = 'iconfont icon-taiyang fa-fw'//         $('html').attr('data-theme', 'light')//     } else {//         themeCoin.className = 'iconfont icon-yueliang fa-fw'//         $('html').attr('data-theme', 'dark')//     } *///     var date = +new Date();//     if ($('html').attr('data-theme') === 'light') {//         themeCoin.className = 'iconfont icon-yueliang fa-fw'//         var themeData = {//             theme: 'dark',//             expiry: date//         }//         localStorage.setItem('theme', JSON.stringify(themeData))//         // localStorage.setItem('theme',theme);//         $('html').attr('data-theme', 'dark')//     } else {//         themeCoin.className = 'iconfont icon-taiyang fa-fw'//         var themeData = {//             theme: 'light',//             expiry: date//         }//         localStorage.setItem('theme', JSON.stringify(themeData))//         $('html').attr('data-theme', 'light')//     }// }// var flag = true// var timer// document.addEventListener('keyup', function (e) {//     clearTimeout(timer)//     if (e.keyCode === 9 && flag === true) {//         flag = false//         e.preventDefault()//         darkToLight()//     }//     timer = setTimeout(function () {//         flag = true//     }, 1e3)// })]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/dark.js"/>
      <url>/js/dark.js</url>
      
        <content type="html"><![CDATA[function dark() {    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;    var n, e, i, h, t = .05,        s = document.getElementById("universe"),        o = !0,        a = "180,184,240",        r = "226,225,142",        d = "226,225,224",        c = [];    function f() {        n = window.innerWidth, e = window.innerHeight, i = .216 * n, s.setAttribute("width", n), s.setAttribute("height", e)    }    function u() {        h.clearRect(0, 0, n, e);        for (var t = c.length, i = 0; i < t; i++) {            var s = c[i];            s.move(), s.fadeIn(), s.fadeOut(), s.draw()        }    }    function y() {        this.reset = function () {            this.giant = m(3), this.comet = !this.giant && !o && m(10), this.x = l(0, n - 10), this.y = l(0, e), this.r = l(1.1, 2.6), this.dx = l(t, 6 * t) + (this.comet + 1 - 1) * t * l(50, 120) + 2 * t, this.dy = -l(t, 6 * t) - (this.comet + 1 - 1) * t * l(50, 120), this.fadingOut = null, this.fadingIn = !0, this.opacity = 0, this.opacityTresh = l(.2, 1 - .4 * (this.comet + 1 - 1)), this.do = l(5e-4, .002) + .001 * (this.comet + 1 - 1)        }, this.fadeIn = function () {            this.fadingIn && (this.fadingIn = !(this.opacity > this.opacityTresh), this.opacity += this.do)        }, this.fadeOut = function () {            this.fadingOut && (this.fadingOut = !(this.opacity < 0), this.opacity -= this.do / 2, (this.x > n || this.y < 0) && (this.fadingOut = !1, this.reset()))        }, this.draw = function () {            if (h.beginPath(), this.giant) h.fillStyle = "rgba(" + a + "," + this.opacity + ")", h.arc(this.x, this.y, 2, 0, 2 * Math.PI, !1);            else if (this.comet) {                h.fillStyle = "rgba(" + d + "," + this.opacity + ")", h.arc(this.x, this.y, 1.5, 0, 2 * Math.PI, !1);                for (var t = 0; t < 30; t++) h.fillStyle = "rgba(" + d + "," + (this.opacity - this.opacity / 20 * t) + ")", h.rect(this.x - this.dx / 4 * t, this.y - this.dy / 4 * t - 2, 2, 2), h.fill()            } else h.fillStyle = "rgba(" + r + "," + this.opacity + ")", h.rect(this.x, this.y, this.r, this.r);            h.closePath(), h.fill()        }, this.move = function () {            this.x += this.dx, this.y += this.dy, !1 === this.fadingOut && this.reset(), (this.x > n - n / 4 || this.y < 0) && (this.fadingOut = !0)        }, setTimeout(function () {            o = !1        }, 50)    }    function m(t) {        return Math.floor(1e3 * Math.random()) + 1 < 10 * t    }    function l(t, i) {        return Math.random() * (i - t) + t    }    f(), window.addEventListener("resize", f, !1),        function () {            h = s.getContext("2d");            for (var t = 0; t < i; t++) c[t] = new y, c[t].reset();            u()        }(),        function t() {            document.getElementsByTagName('html')[0].getAttribute('data-theme') == 'dark' && u(), window.requestAnimationFrame(t)        }()}dark()function switchNightMode() {        var themeCoin = document.querySelector('#dark-theme-coin')    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'    if (nowMode === 'light') {        themeCoin.className = 'iconfont icon-yueliang fa-fw'        activateDarkMode()        saveToLocal.set('theme', 'dark', 2)        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)        document.getElementById('dark-theme-coin').setAttribute('xlink:href', '#icon-sun')    } else {        themeCoin.className = 'iconfont icon-taiyang fa-fw'        activateLightMode()        saveToLocal.set('theme', 'light', 2)        document.querySelector('body').classList.add('DarkMode')        document.getElementById('dark-theme-coin').setAttribute('xlink:href', '#icon-moon')    }    // handle some cases    }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/specifypage.js"/>
      <url>/js/specifypage.js</url>
      
        <content type="html"><![CDATA[if (location.pathname == '/') newPost()// if (location.pathname !== '/') forbidSwiperMousewheel()if (location.pathname !== '/') removeCardSecond()if (location.pathname.substring(0, 9) === '/archives' || '/tags' === location.pathname.substring(0, 5) || '/bangumis' === location.pathname.substring(0, 9)) changeAsideCard()if (location.pathname.substring(0, 8) === '/Gallery' && location.pathname.substring(9, 11) !== '') hls()if (location.pathname.substring(0, 9) === '/Gallery/' && location.pathname.length > 11) imgDetails()if (location.pathname.substring(0, 8) === '/Gallery' && location.pathname.length <= 9) removeBgToDefault()// 最新文章函数function newPost() {    // 获取所有文章信息    let ls = document.querySelectorAll('.recent-post-info')    // 先让时间和索引值都等于第第一篇文章的    let time = new Date(ls[0].querySelector('.post-meta-date-created').getAttribute('datetime')).getTime();    let index = 0    // 遍历数组，如果有时间比time大（更新的文章）则替换    ls.forEach((i, num) => {        let t = new Date(i.querySelector('.post-meta-date-created').getAttribute('datetime')).getTime()        if (t > time) {            time = t;            index = num        }    })    // 单数在右，双数在左    let className = index % 2 == 0 ? 'newPost-right' : 'newPost-left'    ls[index].innerHTML += '<span class="' + className + '">new</span>';    // 如果你不想让其一左一右，可以注释上面的启用下面的，默认左，left改成right就是右    // ls[index].innerHTML += '<span class="newPost-left">最 新</span>';}function removeCardSecond() {    var asideCards = document.querySelectorAll('.card-widget') // 2,5留着    asideCards[1].style.display = 'none'}function changeAsideCard() {    var asideCards = document.querySelectorAll('.card-widget') // 2,5留着    asideCards[1].style.display = 'none'    asideCards[3].style.display = 'none'    asideCards[4].style.display = 'none'    asideCards[5].style.display = 'none'    // asideCards[6].style.display = 'none'}function hls() {    var aside = document.querySelector('.aside-content')    aside.style.display = 'none'    var content = document.querySelector('#page')    content.style.width = '100%'    content.style.background = 'none'    var layout = document.querySelector("main")    layout.classList.remove('layout')    var gallaryComment = document.querySelector('#post-comment')    gallaryComment.style.display = 'none'}function imgDetails() {    var head = document.querySelector('.not-home-page')    head.style.display = 'none'    // var layout = document.querySelector('#page')    // layout.style.background = 'transparent !important'}function removeBgToDefault() {    var removeBg = document.querySelector('.to-default-bg')    removeBg.addEventListener('click', function () {        localStorage.removeItem('blogbg');    })}// function forbidSwiperMousewheel() {//     var swiper = document.querySelector('#swiper_container')//     swiper.addEventListener('mousewheel', function (e) {//         e.preventDefault//     })// }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/wallhaven.js"/>
      <url>/js/wallhaven.js</url>
      
        <content type="html"><![CDATA[// $(function () {//     $.ajax({//         type: 'GET', // 请求的方式 GET 或 POST//         url: 'https://wallhaven.cc/search?q=id%3A1&categories=110&purity=100&sorting=favorites&order=desc&pag=1&page=10', // 请求的URL//         data: {}, // 请求要携带的数据//         dataType: 'jsonp',//         success: function (res) {//             console.log(res);//             alert(res)//         } // 请求成功之后的回调函数//     })// })]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友情链接</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[<div class="flink"><div class="flink-name">✨友情链接</div><div class="flink-desc">网站建设参考网站：</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://hexo.io/zh-tw/" title="Hexo" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Hexo" />              </div>              <div class="flink-item-name">Hexo</div>               <div class="flink-item-desc" title="简单且强大的网站框架">简单且强大的网站框架</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://butterfly.js.org/" title="Butterfly" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://butterfly.js.org/img/avatar.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Butterfly" />              </div>              <div class="flink-item-name">Butterfly</div>               <div class="flink-item-desc" title="Butterfly博客主题">Butterfly博客主题</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://github.com/" title="Github" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/18/eYuOffzz.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Github" />              </div>              <div class="flink-item-name">Github</div>               <div class="flink-item-desc" title="代码托管平台">代码托管平台</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://vercel.com/dashboard" title="Vercel" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/A5rLs9Ah.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Vercel" />              </div>              <div class="flink-item-name">Vercel</div>               <div class="flink-item-desc" title="网站托管服务">网站托管服务</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.csdn.net/" title="CSDN" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/YmhPrQ7j.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="CSDN" />              </div>              <div class="flink-item-name">CSDN</div>               <div class="flink-item-desc" title="代码分享网站">代码分享网站</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://gitee.com/" title="Gitee" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/18/IXZjEEK2.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Gitee" />              </div>              <div class="flink-item-name">Gitee</div>               <div class="flink-item-desc" title="国内代码托管平台">国内代码托管平台</div>            </a>          </div></div></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><h2>📌我的友链关键字</h2><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- name: roydon</span><br><span class="line">  link: roydon.xyz</span><br><span class="line">  avatar: https:<span class="comment">//img2.woyaogexing.com/2022/08/17/21431d45e46393db!400x400.jpg</span></span><br><span class="line">  descr: 如琉璃般飘落</span><br><span class="line">  theme_color: pink</span><br><span class="line">  siteshot: https:<span class="comment">//img1.imgtp.com/2022/09/16/d3hG97FC.png</span></span><br></pre></td></tr></table></figure></p></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>电影</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[<p><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/IVKUXjNX.gif" alt="hutao" title='heihei'/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/1XKEP0t0.gif" alt="hutao"/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/DGKaky7v.gif" alt="hutao"/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/o4Nra3RZ.gif" alt="hutao"/></p><h1>建设中~~~</h1><script src='//player.polyv.net/script/player.js'></script><div id='plv_19e11a1d968a647fb6cc921805131113_1'></div><script>var player = polyvPlayer({  'wrap':'#plv_19e11a1d968a647fb6cc921805131113_1',  'width':'100%',  'height':'432',  'vid': '19e11a1d968a647fb6cc921805131113_1',  'playsafe': '' // 播放加密视频的凭证, 取值参考文档: https://help.polyv.net/index.html#/vod/api/playsafe/token/create_token });</script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>音乐</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[<!-- 播放器 --><div class="music-player"><!-- audio标签 --><audio class="music-player__audio" ></audio><!-- 播放器主体 --><div class="music-player__main"><!-- 模糊背景 --><div class="music-player__blur"></div><!-- 唱片 --><div class="music-player__disc"><!-- 唱片图片 --><div class="music-player__image"><img width="100%" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="" alt=""></div><!-- 指针 --><div class="music-player__pointer"><img width="100%" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cd_tou.png" alt=""></div></div><!-- 控件主体 --><div class="music-player__controls"><!-- 歌曲信息 --><div class="music__info"><h3 class="music__info--title">...</h3></div><!-- 控件... --><div class="player-control"><div class="player-control__content"><div class="player-control__btns"><div class="player-control__btn player-control__btn--prev"><i class="iconfont icon-prev"></i></div><div class="player-control__btn player-control__btn--play"><i class="iconfont icon-play"></i></div><div class="player-control__btn player-control__btn--next"><i class="iconfont icon-next"></i></div><div class="player-control__btn player-control__btn--mode"><i class="iconfont icon-random"></i></div></div><div class="player-control__volume"><div class="control__volume--icon player-control__btn"><i class="iconfont icon-volume"></i></div><div class="control__volume--progress progress"></div></div></div><div class="player-control__content"><div class="player__song--progress progress"></div><div class="player__song--timeProgess nowTime">00:00</div><div class="player__song--timeProgess totalTime">00:00</div></div></div></div></div><!-- 歌曲列表 --><div class="music-player__list"><ul class="music__list_content"></ul></div></div><script src="/js/utill.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.slim.min.js"></script><script src="/js/player.js?10"></script><div style="text-align:center;margin:-100px 0; font:normal 14px/24px 'MicroSoft YaHei';color:#ffffff"></div><p><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/IVKUXjNX.gif" alt="hutao" title='heihei'/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/1XKEP0t0.gif" alt="hutao"/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/DGKaky7v.gif" alt="hutao"/><br><img width="100px" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/09/01/o4Nra3RZ.gif" alt="hutao"/></p><h1>建设中~~~</h1>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[<!-- "data-length" = how many tags to show, default 10 --><div id="tags-chart" data-length="20" class="js-pjax"></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>工具</title>
      <link href="/tools/index.html"/>
      <url>/tools/index.html</url>
      
        <content type="html"><![CDATA[<div class="note red icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>网站收藏<br><!-- <mark class="hl-label purple">·</mark>  --></p></div><div class="flink"><div class="flink-name">建站相关</div><div class="flink-desc">值得推荐的网站！</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://twikoo.js.org/" title="Twikoo" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://twikoo.js.org/assets/logo.5707582f.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Twikoo" />              </div>              <div class="flink-item-name">Twikoo</div>               <div class="flink-item-desc" title="博客评论系统">博客评论系统</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.imgtp.com/" title="ImgTp" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/nNOWzOKK.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="ImgTp" />              </div>              <div class="flink-item-name">ImgTp</div>               <div class="flink-item-desc" title="图床涵接口">图床涵接口</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.iconfont.cn/" title="iconfont" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/pSyFSdtC.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="iconfont" />              </div>              <div class="flink-item-name">iconfont</div>               <div class="flink-item-desc" title="ali图标库">ali图标库</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://docs.inis.cc/#/" title="inis" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/Oe9xz0Ta.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="inis" />              </div>              <div class="flink-item-name">inis</div>               <div class="flink-item-desc" title="逐渐强大的博客系统涵接口">逐渐强大的博客系统涵接口</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://fsoufsou.com/" title="fsou" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/3YGzlZnn.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="fsou" />              </div>              <div class="flink-item-name">fsou</div>               <div class="flink-item-desc" title="搜索引擎">搜索引擎</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://dev.qweather.com/" title="和风天气" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/Z3neIMwQ.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="和风天气" />              </div>              <div class="flink-item-name">和风天气</div>               <div class="flink-item-desc" title="和风天气API">和风天气API</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.minecraft.net/zh-hans" title="Minecraft" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/28/uFoPlNnf.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Minecraft" />              </div>              <div class="flink-item-name">Minecraft</div>               <div class="flink-item-desc" title="我的世界">我的世界</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.nite07.com/" title="Nite07的小窝" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="暂无图片" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Nite07的小窝" />              </div>              <div class="flink-item-name">Nite07的小窝</div>               <div class="flink-item-desc" title="软件分享博客">软件分享博客</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://leetcode.cn/" title="力扣" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="暂无图片" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="力扣" />              </div>              <div class="flink-item-name">力扣</div>               <div class="flink-item-desc" title="算法题库">算法题库</div>            </a>          </div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>原神</title>
      <link href="/Gallery/genshin/index.html"/>
      <url>/Gallery/genshin/index.html</url>
      
        <content type="html"><![CDATA[<div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/dp/wallhaven-dp27dj.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/wq/wallhaven-wqd587.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/HO7swXiW.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/PRUIiGCC.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6oo59x.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/F4MRnE9G.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/XJh88uP7.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/1k/wallhaven-1kg679.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/CMTZ5n2Q.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/dp/wallhaven-dpd8qo.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/Sk46vNu5.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/F3YGpxqN.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/zwWc0Y7p.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/rd/wallhaven-rdqlej.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/lUwB2KcX.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.imgtp.com/2022/08/24/nRTVjK1T.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3rqzr.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/dp/wallhaven-dp2w5j.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/y8/wallhaven-y8r5rd.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/3z/wallhaven-3zppld.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3d2yq.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/y8/wallhaven-y8xzod.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/o3/wallhaven-o3eye9.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/z8/wallhaven-z87eqv.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/9m/wallhaven-9mkye1.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/e7/wallhaven-e7pqwr.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202208/6344076dae411b431846a960c67c42d1--395853005.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202206/36c85662cc6a5294bbbe24b23ce08ac5--1421521129.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202206/96add8f773bcefc346d1c6fe028da943--1508333962.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202205/ec69f6fb8460a45d4e77d1d167cf1e37--2470511683.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202205/9fde68ca46da89519c2d042cb96da1a5--174555100.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202205/ec2184a76035ee335e108715c2895d97--3932310609.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202203/e08421b80b83107d1e745831cdb83739--1339440407.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202203/0c677b963b60d9db36f29d3ee6565d95--3377373319.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202202/d250aa6889e10fd699c95c794ee05603--4240254756.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202201/b0407263c260461fb760fdf312d70a5c--1724757691.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202109/28dbed866d5c1098c52fee8a28da8e48--1185755166.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202105/a515f3d6de3e5a2c2ffff20297b06567--1088894989.jpg" alt=""></p>          </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>手机壁纸</title>
      <link href="/Gallery/phone/index.html"/>
      <url>/Gallery/phone/index.html</url>
      
        <content type="html"><![CDATA[<div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6ol5oq.jpg" alt=""></p>          </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>二刺螈</title>
      <link href="/Gallery/twospace/index.html"/>
      <url>/Gallery/twospace/index.html</url>
      
        <content type="html"><![CDATA[<div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/2e/wallhaven-2emoyy.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/96/wallhaven-96qwed.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/5w/wallhaven-5ww2m3.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/j3/wallhaven-j3l2gw.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9o1v8.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/ym/wallhaven-ymdqr7.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/wq/wallhaven-wqwj5r.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9z629.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/8o/wallhaven-8o5wy1.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/pk/wallhaven-pk6yg3.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/1k/wallhaven-1k13pv.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9z629.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/x8/wallhaven-x8dk8z.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/dg/wallhaven-dgp9eg.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/e7/wallhaven-e7rjkl.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9jjp9.jpg" alt=""></p>          </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>电脑壁纸</title>
      <link href="/Gallery/wallpaper/index.html"/>
      <url>/Gallery/wallpaper/index.html</url>
      
        <content type="html"><![CDATA[<div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://go.plvideo.cn/front/video/view?vid=19e11a1d968a647fb6cc921805131113_1" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/9m/wallhaven-9mw29d.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/42/wallhaven-42w68g.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/e7/wallhaven-e7651w.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202201/aa6954709fb2b1f2ef25ff73fae3d1e7--4186920932.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202208/0ec3ba1fb53bc8d36f5dbcc317be2296--1664429163.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l31vz2.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/ey/wallhaven-eym6dr.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/0w/wallhaven-0w8z6q.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/4g/wallhaven-4g86g7.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/md/wallhaven-md1my1.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3xq62.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202208/6e98bd4f68c4b439d46e03059817910d--1463915301.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/zx/wallhaven-zxepkw.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9xlmy.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/01/wallhaven-0198wn.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/01/wallhaven-0198wn.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/47/wallhaven-47oq90.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/y8/wallhaven-y8ejol.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q6/wallhaven-q6lqdd.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/9m/wallhaven-9mjw78.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/eo/wallhaven-eo2k68.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://cdn-ali-img-shstaticbz.shanhutech.cn/bizhi/staticwp/202108/03e024ccb1c6ae0f7031ff645bec3b11--1068806188.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/0p/wallhaven-0pwd2e.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/z8/wallhaven-z8e1my.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/57/wallhaven-575g71.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/73/wallhaven-73w5py.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/2e/wallhaven-2ewe36.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3k52p.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q27kjq.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/72/wallhaven-721ezv.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q27kjq.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6ovy9w.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/9m/wallhaven-9mj6jd.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/57/wallhaven-572k81.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/1k/wallhaven-1k6v1v.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q213e5.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6ovm87.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/z8/wallhaven-z8l37o.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vg2mo5.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/72/wallhaven-726zoy.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/j3/wallhaven-j38e8p.png" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/m9/wallhaven-m9xlmy.jpg" alt=""><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/v9/wallhaven-v98wrp.jpg" alt=""></p>          </div><!-- 切换壁纸的js --><!-- <script>let time = ''let imgbox = document.querySelector('.fj-gallery')imgbox.addEventListener('contextmenu', e => e.preventDefault())imgbox.addEventListener('dragend', e => { changeBg('url(' + e.target.src + ')'); })imgbox.addEventListener('touchstart', e => { time = setTimeout(() => { changeBg('url(' + e.target.src + ')'); }, 500); })imgbox.addEventListener('touchend', clearTimeout(time))</script> -->]]></content>
      
    </entry>
    
    
  
</search>
